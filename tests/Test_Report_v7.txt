
  [30;43;1m WARN [39;49;22m Your XML configuration validates against a deprecated schema. Migrate your XML configuration using "--migrate-configuration"!
PHPUnit 11.5.42 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.29
Configuration: /home/iihsedup/oep.jaamiah.com/phpunit.xml.dist


   PASS  Tests\Unit\AllocationServiceTest
  âœ“ it can allocate candidate with all fields                            1.21s  
  âœ“ it can allocate without optional fields                              0.02s  
  âœ“ it validates campus exists                                           0.02s  
  âœ“ it validates program exists                                          0.02s  
  âœ“ it validates trade exists                                            0.03s  
  âœ“ it uses database transaction                                         0.03s  
  âœ“ it logs allocation activity                                          0.03s  
  âœ“ it returns allocation summary                                        0.03s  
  âœ“ it handles null optional fields in summary                           0.03s  
  âœ“ it can bulk allocate multiple candidates                             0.05s  
  âœ“ it handles bulk allocation failures gracefully                       0.02s  
  âœ“ it validates all required fields are present                         0.02s  
  âœ“ it can update existing allocation                                    0.04s  
  âœ“ it rolls back on database error                                      0.02s  

   FAIL  Tests\Unit\AuthorizationEdgeCasesTest
  âœ“ campus admin cannot view other campus candidates                     0.48s  
  âœ“ campus admin cannot edit other campus candidates                     0.02s  
  âœ“ campus admin cannot delete other campus candidates                   0.02s  
  â¨¯ campus admin cannot access other campus batches                      0.08s  
  âœ“ campus admin cannot view other campus complaints                     0.03s  
  âœ“ regular user cannot access admin routes                              0.02s  
  âœ“ viewer cannot modify data                                            0.02s  
  âœ“ campus admin cannot create other admins                              0.02s  
  âœ“ user cannot change own role                                          0.50s  
  â¨¯ instructor cannot access administrative functions                    0.09s  
  âœ“ oep can only see assigned candidates                                 0.12s  
  â¨¯ oep cannot access other oep remittances                              0.17s  
  âœ“ inactive user cannot login                                           0.08s  
  âœ“ deactivated user session is terminated                               0.05s  
  âœ“ deleted user cannot access system                                    0.02s  
  âœ“ api requests require valid token                                     0.02s  
  âœ“ expired token is rejected                                            0.03s  
  âœ“ revoked token is rejected                                            0.02s  
  âœ“ user cannot access other users api tokens                            0.02s  
  â¨¯ user cannot delete other users tokens                                0.08s  
  â¨¯ super admin can access all campuses                                  0.02s  
  âœ“ super admin can access all candidates                                0.05s  
  â¨¯ only super admin can access system settings                          0.02s  

   PASS  Tests\Unit\AutoBatchServiceTest
  âœ“ it generates correct batch number format                             0.03s  
  âœ“ it generates sequential batch numbers                                0.02s  
  âœ“ it starts sequence at 0001 for new combination                       0.02s  
  âœ“ it generates correct allocated number format                         0.03s  
  âœ“ it pads position with leading zeros                                  0.17s  
  âœ“ it creates new batch when none exists                                0.03s  
  âœ“ it assigns to existing batch when available                          0.02s  
  âœ“ it creates new batch when existing is full                           0.04s  
  âœ“ it respects configured batch size                                    0.05s  
  âœ“ it updates candidate with batch and allocated number                 0.02s  
  âœ“ it handles multiple candidates in sequence                           0.03s  
  âœ“ it generates unique allocated numbers within batch                   0.06s  
  âœ“ it groups by campus program trade combination                        0.02s  

   PASS  Tests\Unit\BatchPolicyTest
  âœ“ super admin can view any batch                                       0.02s  
  âœ“ super admin can view specific batch                                  0.02s  
  âœ“ super admin can create batch                                         0.02s  
  âœ“ super admin can update batch                                         0.03s  
  âœ“ super admin can delete empty batch                                   0.02s  
  âœ“ super admin cannot delete batch with candidates                      0.03s  
  âœ“ super admin can assign candidates                                    0.02s  
  âœ“ super admin can change status                                        0.02s  
  âœ“ project director can view any batch                                  0.02s  
  âœ“ project director can view specific batch                             0.02s  
  âœ“ project director can create batch                                    0.02s  
  âœ“ project director can update batch                                    0.02s  
  âœ“ project director cannot delete batch with candidates                 0.02s  
  âœ“ project director can change status                                   0.03s  
  âœ“ campus admin can view batches from their campus                      0.02s  
  âœ“ campus admin cannot view batches from other campus                   0.02s  
  âœ“ campus admin can create batch                                        0.03s  
  âœ“ campus admin can update batches from their campus                    0.02s  
  âœ“ campus admin cannot update batches from other campus                 0.02s  
  âœ“ campus admin can delete planned batch from their campus              0.02s  
  âœ“ campus admin cannot delete active batch                              0.02s  
  âœ“ campus admin cannot delete batch from other campus                   0.02s  
  âœ“ campus admin can assign candidates to their campus batch             0.02s  
  âœ“ campus admin can change status                                       0.02s  
  âœ“ trainer can view batches from their campus                           0.02s  
  âœ“ trainer cannot view batches from other campus                        0.02s  
  âœ“ trainer cannot create batch                                          0.02s  
  âœ“ trainer cannot update batch                                          0.02s  
  âœ“ trainer cannot delete batch                                          0.02s  
  âœ“ trainer cannot change status                                         0.02s  
  âœ“ viewer can view any batch                                            0.02s  
  âœ“ viewer can view specific batch                                       0.02s  
  âœ“ viewer cannot create batch                                           0.02s  
  âœ“ viewer cannot update batch                                           0.02s  
  âœ“ viewer cannot delete batch                                           0.02s  
  âœ“ viewer cannot change status                                          0.02s  
  âœ“ authorized roles can access api list                                 0.03s  
  âœ“ unauthorized roles cannot access api list                            0.02s  
  âœ“ authorized roles can access by campus endpoint                       0.02s  
  âœ“ campus admin without campus id cannot view batches                   0.06s  
  âœ“ trainer without campus id cannot view batches                        0.02s  
  âœ“ no one can delete batch with candidates regardless of role           0.04s  

   PASS  Tests\Unit\CampusEquipmentPolicyTest
  âœ“ super admin can view any equipment                                   0.04s  
  âœ“ super admin can view specific equipment                              0.02s  
  âœ“ super admin can create equipment                                     0.02s  
  âœ“ super admin can update equipment                                     0.02s  
  âœ“ super admin can delete equipment                                     0.03s  
  âœ“ super admin can log usage                                            0.03s  
  âœ“ super admin can view reports                                         0.02s  
  âœ“ project director can view any equipment                              0.02s  
  âœ“ project director can create equipment                                0.02s  
  âœ“ campus admin can view equipment from their campus                    0.02s  
  âœ“ campus admin cannot view equipment from other campus                 0.02s  
  âœ“ campus admin can create equipment                                    0.02s  
  âœ“ campus admin can update equipment from their campus                  0.02s  
  âœ“ campus admin cannot update equipment from other campus               0.02s  
  âœ“ campus admin cannot delete equipment                                 0.02s  
  âœ“ campus admin can log usage for their campus                          0.02s  
  âœ“ campus admin can view reports                                        0.02s  
  âœ“ instructor can log usage for their campus                            0.02s  
  âœ“ instructor cannot log usage for other campus                         0.02s  
  âœ“ viewer can view any equipment                                        0.02s  
  âœ“ viewer can view specific equipment                                   0.02s  
  âœ“ viewer cannot create equipment                                       0.02s  
  âœ“ viewer cannot update equipment                                       0.02s  
  âœ“ viewer cannot delete equipment                                       0.02s  

   PASS  Tests\Unit\CampusPolicyTest
  âœ“ super admin can view any campus                                      0.03s  
  âœ“ project director can view any campus                                 0.02s  
  âœ“ campus admin can view campus list                                    0.02s  
  âœ“ viewer can view campus list                                          0.02s  
  âœ“ unauthorized roles cannot view campus list                           0.02s  
  âœ“ super admin can view specific campus                                 0.02s  
  âœ“ project director can view specific campus                            0.02s  
  âœ“ viewer can view specific campus                                      0.02s  
  âœ“ campus admin can view their own campus                               0.02s  
  âœ“ campus admin cannot view other campus                                0.02s  
  âœ“ campus admin without campus id cannot view campus                    0.02s  
  âœ“ super admin can create campus                                        0.02s  
  âœ“ non super admin cannot create campus                                 0.03s  
  âœ“ super admin can update campus                                        0.02s  
  âœ“ non super admin cannot update campus                                 0.03s  
  âœ“ super admin can delete campus                                        0.02s  
  âœ“ non super admin cannot delete campus                                 0.03s  
  âœ“ super admin can toggle campus status                                 0.02s  
  âœ“ non super admin cannot toggle campus status                          0.03s  
  âœ“ authorized roles can access api list                                 0.03s  
  âœ“ unauthorized roles cannot access api list                            0.02s  

   PASS  Tests\Unit\CandidateDeduplicationServiceTest
  âœ“ it detects exact cnic match                                          0.03s  
  âœ“ it detects cnic with dashes                                          0.03s  
  âœ“ it returns no match for unique cnic                                  0.02s  
  âœ“ it detects name and dob match                                        0.02s  
  âœ“ it does not match different dob                                      0.02s  
  âœ“ it detects phone match with similar name                             0.03s  
  âœ“ it assigns lower confidence for phone match with different name      0.02s  
  âœ“ it detects btevta id match                                           0.02s  
  âœ“ it calculates exact name similarity                                  0.02s  
  âœ“ it calculates similar name score                                     0.02s  
  âœ“ it calculates low score for different names                          0.02s  
  âœ“ it skips duplicates in batch import                                  0.02s  
  âœ“ it imports all when no duplicates                                    0.02s  
  âœ“ it returns duplicate statistics                                      0.02s  
  âœ“ it can merge duplicate candidates                                    0.02s  
  âœ“ it finds candidates by cnic                                          0.02s  
  âœ“ it finds candidates by phone                                         0.02s  
  âœ“ it finds candidates by btevta id                                     0.02s  

   PASS  Tests\Unit\CandidateModelTest
  âœ“ it can create a candidate                                            0.02s  
  âœ“ it belongs to a campus                                               0.02s  
  âœ“ it belongs to a trade                                                0.02s  
  âœ“ it belongs to a batch                                                0.02s  
  âœ“ it has status attribute                                              0.02s  
  âœ“ it can scope by status                                               0.02s  
  âœ“ it can search by name                                                0.02s  
  âœ“ it requires name cnic and phone                                      0.02s  
  âœ“ cnic should be unique                                                0.02s  
  âœ“ it can soft delete                                                   0.02s  
  âœ“ it validates pakistan phone format                                   0.02s  
  âœ“ it calculates luhn check digit correctly                             0.02s  
  âœ“ it generates btevta id with check digit                              0.02s  
  âœ“ it validates btevta id check digit                                   0.02s  
  âœ“ it validates cnic checksum                                           0.02s  
  âœ“ it finds potential duplicates by phone                               0.02s  
  âœ“ it finds potential duplicates by email                               0.02s  
  âœ“ it finds potential duplicates by similar name                        0.02s  
  âœ“ it excludes specified candidate from duplicate check                 0.02s  
  âœ“ it auto generates ids with checksums                                 0.02s  
  âœ“ it generates sequential btevta ids                                   0.02s  

   PASS  Tests\Unit\CandidatePolicyTest
  âœ“ super admin can view any candidate                                   0.03s  
  âœ“ super admin can view specific candidate                              0.02s  
  âœ“ super admin can create candidate                                     0.02s  
  âœ“ super admin can update candidate                                     0.02s  
  âœ“ super admin can delete candidate                                     0.02s  
  âœ“ admin can view any candidate                                         0.02s  
  âœ“ admin can create candidate                                           0.02s  
  âœ“ admin can update any candidate                                       0.03s  
  âœ“ campus admin can view candidates from their campus                   0.02s  
  âœ“ campus admin cannot view candidates from other campus                0.03s  
  âœ“ campus admin can create candidate                                    0.07s  
  âœ“ campus admin can update candidates from their campus                 0.03s  
  âœ“ campus admin cannot update candidates from other campus              0.02s  
  âœ“ campus admin cannot delete candidates                                0.02s  
  âœ“ oep can view candidates assigned to them                             0.03s  
  âœ“ oep cannot view candidates not assigned to them                      0.02s  
  âœ“ oep cannot create candidates                                         0.02s  
  âœ“ oep can update limited fields for assigned candidates                0.04s  
  âœ“ instructor can view candidates in their batch                        0.02s  
  âœ“ instructor cannot view candidates in other batches                   0.03s  
  âœ“ instructor cannot create candidates                                  0.02s  
  âœ“ viewer can view candidates                                           0.02s  
  âœ“ viewer cannot create candidates                                      0.02s  
  âœ“ viewer cannot update candidates                                      0.02s  
  âœ“ viewer cannot delete candidates                                      0.02s  
  âœ“ inactive user cannot perform any action                              0.02s  

   PASS  Tests\Unit\CandidateRelationshipsTest
  âœ“ certificate relationship returns latest                              0.03s  
  âœ“ attendances alias relationship                                       0.02s  
  âœ“ assessments alias relationship                                       0.02s  
  âœ“ training certificates relationship                                   0.02s  
  âœ“ certificate returns latest when multiple exist                       0.02s  

   PASS  Tests\Unit\CandidateStateMachineTest
  âœ“ new candidate can transition to screening                            0.02s  
  âœ“ new candidate can transition to rejected                             0.02s  
  âœ“ screening candidate can transition to registered                     0.02s  
  âœ“ screening candidate can transition to rejected                       0.02s  
  âœ“ registered candidate can transition to training                      0.02s  
  âœ“ registered candidate can transition to dropped                       0.03s  
  âœ“ training candidate can transition to visa process                    0.02s  
  âœ“ training candidate can transition to dropped                         0.02s  
  âœ“ visa process candidate can transition to ready                       0.02s  
  âœ“ visa process candidate can transition to rejected                    0.02s  
  âœ“ ready candidate can transition to departed                           0.02s  
  âœ“ departed candidate can transition to returned                        0.03s  
  âœ“ new candidate cannot transition directly to training                 0.02s  
  âœ“ new candidate cannot transition directly to departed                 0.02s  
  âœ“ screening cannot transition to departed                              0.02s  
  âœ“ registered cannot transition to departed                             0.02s  
  âœ“ training cannot transition to departed                               0.02s  
  âœ“ visa process cannot transition directly to departed                  0.02s  
  âœ“ departed cannot transition to new                                    0.02s  
  âœ“ rejected cannot transition to any status                             0.02s  
  âœ“ candidate can complete full lifecycle                                0.02s  
  âœ“ status change logs activity                                          0.02s  
  âœ“ status change records remarks                                        0.02s  
  âœ“ can transition to returns correct result                             0.03s  
  âœ“ get allowed transitions returns correct statuses                     0.03s  

   PASS  Tests\Unit\ComplaintPoliciesTest
  âœ“ super admin can view any evidence                                    0.03s  
  âœ“ project director can view any evidence                               0.02s  
  âœ“ campus admin can view evidence from their campus                     0.02s  
  âœ“ campus admin cannot view evidence from other campus                  0.02s  
  âœ“ authorized roles can upload evidence                                 0.02s  
  âœ“ viewer cannot upload evidence                                        0.02s  
  âœ“ only super admin can delete evidence                                 0.02s  
  âœ“ super admin can view any update                                      0.03s  
  âœ“ authorized roles can create updates                                  0.02s  
  âœ“ viewer cannot create updates                                         0.02s  
  âœ“ campus admin can view updates from their campus                      0.03s  
  âœ“ super admin can update any complaint update                          0.02s  
  âœ“ only super admin can delete updates                                  0.02s  

   PASS  Tests\Unit\ComplaintServiceTest
  âœ“ it can register a complaint                                          0.02s  
  âœ“ it generates unique reference number                                 0.03s  
  âœ“ it sets sla based on priority                                        0.02s  
  âœ“ open complaint can transition to assigned                            0.02s  
  âœ“ open complaint can transition to in progress                         0.02s  
  âœ“ open complaint can transition to resolved                            0.02s  
  âœ“ assigned complaint can transition to in progress                     0.03s  
  âœ“ in progress complaint can transition to resolved                     0.03s  
  âœ“ resolved complaint can transition to closed                          0.02s  
  âœ“ resolved complaint can be reopened                                   0.02s  
  âœ“ closed complaint can be reopened                                     0.02s  
  âœ“ open complaint cannot transition to closed                           0.03s  
  âœ“ assigned cannot transition to closed                                 0.02s  
  âœ“ in progress cannot transition to closed                              0.02s  
  âœ“ in progress cannot transition to open                                0.02s  
  âœ“ escalation recalculates sla from current date                        0.02s  
  âœ“ escalation increases priority                                        0.04s  
  âœ“ escalation increases level                                           0.02s  
  âœ“ escalation level cannot exceed maximum                               0.02s  
  âœ“ check sla status returns correct status                              0.03s  
  âœ“ it calculates statistics correctly                                   0.04s  
  âœ“ it calculates sla compliance rate                                    0.04s  
  âœ“ resolving complaint sets resolution details                          0.02s  
  âœ“ close complaint requires resolved status                             0.02s  
  âœ“ resolved complaint can be closed                                     0.02s  
  âœ“ it can assign complaint to user                                      0.03s  

   FAIL  Tests\Unit\DataValidationEdgeCasesTest
  â¨¯ it accepts cnic with leading zeros                                   0.05s  
  âœ“ it rejects cnic with all zeros                                       0.03s  
  âœ“ it rejects cnic with special characters                              0.03s  
  âœ“ it rejects cnic shorter than 13 digits                               0.02s  
  âœ“ it rejects cnic longer than 13 digits                                0.02s  
  âœ“ it rejects future date of birth                                      0.02s  
  âœ“ it rejects date of birth too old                                     0.02s  
  âœ“ it rejects underage candidates                                       0.04s  
  â¨¯ it accepts boundary age candidates                                   0.02s  
  â¨¯ it handles leap year date correctly                                  0.02s  
  âœ“ it rejects name exceeding max length                                 0.02s  
  â¨¯ it accepts name at max length                                        0.03s  
  âœ“ it rejects address exceeding max length                              0.02s  
  âœ“ it rejects email exceeding max length                                0.02s  
  â¨¯ it accepts valid pakistan mobile number                              0.02s  
  âœ“ it rejects invalid phone formats                                     0.03s  
  âœ“ it rejects invalid email formats                                     0.03s  
  âœ“ it accepts valid email formats                                       0.03s  
  â¨¯ it handles names with special characters                             0.02s  
  ! it sanitizes xss in text fields â†’ This test did not perform any assâ€¦ 0.02s  
  â¨¯ it handles unicode characters in names                               0.03s  
  âœ“ it rejects empty required fields                                     0.02s  
  âœ“ it rejects whitespace only fields                                    0.02s  

   PASS  Tests\Unit\DepartureServiceTest
  âœ“ it returns all departure stages                                      0.02s  
  âœ“ it returns compliance status types                                   0.02s  
  âœ“ it can record pre departure briefing                                 0.02s  
  âœ“ it throws exception for nonexistent candidate on briefing            0.02s  
  âœ“ it can record departure                                              0.02s  
  âœ“ it can record iqama number                                           0.02s  
  âœ“ it calculates 90 day compliance for pending departure                0.02s  
  âœ“ it calculates 90 day compliance items                                0.02s  
  âœ“ it marks overdue compliance as non compliant                         0.02s  
  âœ“ it calculates days remaining correctly                               0.02s  
  âœ“ it can record salary confirmation                                    0.02s  
  âœ“ it can get departure statistics                                      0.03s  
  âœ“ it can add communication log                                         0.02s  
  âœ“ it returns empty checklist for missing departure                     0.02s  
  âœ“ it returns correct checklist percentage                              0.03s  
  âœ“ it generates departure timeline                                      0.02s  

   PASS  Tests\Unit\DocumentArchiveServiceTest
  âœ“ it returns all document types                                        0.03s  
  âœ“ it can upload document                                               0.02s  
  âœ“ it increments version on re upload                                   0.02s  
  âœ“ it can get document and increment download count                     0.04s  
  âœ“ it returns version history                                           0.03s  
  âœ“ it can search documents with filters                                 0.05s  
  âœ“ it filters by date range                                             0.02s  
  âœ“ it returns expiring documents                                        0.02s  
  âœ“ it calculates expiry urgency correctly                               0.02s  
  âœ“ it returns expired documents                                         0.03s  
  âœ“ it returns missing documents for candidate                           0.02s  
  âœ“ it returns document statistics                                       0.02s  
  âœ“ it can bulk delete documents                                         0.03s  
  âœ“ it can cleanup old versions                                          0.04s  

   PASS  Tests\Unit\DocumentTagTest
  âœ“ it creates a document tag                                            0.02s  
  âœ“ it auto generates slug from name                                     0.02s  
  âœ“ it sets created by and updated by on creation                        0.02s  
  âœ“ it has many to many relationship with documents                      0.03s  
  âœ“ it can attach multiple documents                                     0.04s  
  âœ“ it can detach documents                                              0.02s  
  âœ“ document can have multiple tags                                      0.02s  
  âœ“ it syncs tags for document                                           0.02s  
  âœ“ it cascades delete on pivot table                                    0.02s  
  âœ“ it cascades delete when document is deleted                          0.03s  
  âœ“ it searches tags by name                                             0.02s  
  âœ“ it searches tags by slug                                             0.02s  
  âœ“ tag name is unique                                                   0.02s  
  âœ“ tag slug is unique                                                   0.02s  
  âœ“ it has default color                                                 0.03s  
  âœ“ pivot table has timestamps                                           0.02s  
  âœ“ it prevents duplicate tag attachments                                0.02s  
  âœ“ it can find documents with specific tag                              0.03s  
  âœ“ it can find documents with multiple tags                             0.02s  
  âœ“ it can count documents per tag                                       0.04s  

   PASS  Tests\Unit\EmployerModelTest
  âœ“ it can create an employer                                            0.03s  
  âœ“ it belongs to a country                                              0.02s  
  âœ“ it can have many candidates                                          0.02s  
  âœ“ it can get current candidates only                                   0.03s  
  âœ“ it belongs to a creator                                              0.02s  
  âœ“ it can scope active employers                                        0.02s  
  âœ“ it casts salary to decimal                                           0.02s  
  âœ“ it casts benefits to boolean                                         0.02s  
  âœ“ it has fillable attributes                                           0.02s  
  âœ“ it soft deletes                                                      0.02s  
  âœ“ it can store evidence path                                           0.06s  
  âœ“ it can store other conditions                                        0.03s  

   FAIL  Tests\Unit\EnumDatabaseConsistencyTest
  â¨¯ candidate status enum values are valid database values               0.03s  
  âœ“ candidate status visa process is correctly named                     0.02s  
  âœ“ all candidate statuses can be stored in database                     0.02s  
  âœ“ candidate status transitions are valid                               0.01s  
  âœ“ complaint priority enum values are valid                             0.01s  
  âœ“ complaint priority does not have medium                              0.02s  
  âœ“ complaint priority normal is default                                 0.02s  
  âœ“ all complaint priorities can be stored                               0.02s  
  âœ“ complaint status enum values are valid                               0.02s  
  âœ“ all complaint statuses can be stored                                 0.02s  
  âœ“ training status enum has all eleven values                           0.02s  
  âœ“ training status candidate statuses are correct                       0.01s  
  âœ“ training status class statuses are correct                           0.01s  
  âœ“ all training statuses can be stored in candidates table              0.02s  
  âœ“ visa stage enum values are valid                                     0.01s  
  âœ“ visa stage does not have pending                                     0.02s  
  âœ“ visa stage initiated is first                                        0.01s  
  âœ“ visa stage order is sequential                                       0.01s  
  âœ“ visa stage next stage returns correct stage                          0.01s  
  âœ“ all visa stages can be stored                                        0.03s  
  âœ“ all enums have to array method                                       0.02s  
  âœ“ all enums have label method                                          0.02s  
  âœ“ all enums have color method                                          0.01s  

   PASS  Tests\Unit\FileStorageServiceTest
  âœ“ it can store a file                                                  0.03s  
  âœ“ it stores files in correct category paths                            0.03s  
  âœ“ it throws exception for unknown category                             0.02s  
  âœ“ it validates pdf magic bytes                                         0.02s  
  âœ“ it rejects pdf with wrong magic bytes                                0.02s  
  âœ“ it validates jpg magic bytes                                         0.02s  
  âœ“ it rejects jpg with wrong magic bytes                                0.03s  
  âœ“ it validates png magic bytes                                         0.02s  
  âœ“ it validates zip magic bytes for docx                                0.02s  
  âœ“ it rejects php files                                                 0.02s  
  âœ“ it rejects phtml files                                               0.02s  
  âœ“ it rejects exe files                                                 0.03s  
  âœ“ it rejects bat files                                                 0.02s  
  âœ“ it rejects js files                                                  0.02s  
  âœ“ it rejects html files                                                0.02s  
  âœ“ it rejects svg files                                                 0.02s  
  âœ“ it rejects double extension php jpg                                  0.02s  
  âœ“ it rejects double extension exe pdf                                  0.02s  
  âœ“ it rejects double extension html png                                 0.03s  
  âœ“ it detects php code in file content                                  0.03s  
  âœ“ it detects short php tags                                            0.02s  
  âœ“ it detects script language php                                       0.03s  
  âœ“ it rejects files exceeding size limit                                0.02s  
  âœ“ it accepts files within size limit                                   0.02s  
  âœ“ it validates allowed mime types                                      0.02s  
  âœ“ it rejects disallowed mime types                                     0.02s  
  âœ“ it generates secure url for private files                            0.02s  
  âœ“ it generates view url for private files                              0.02s  
  âœ“ it can check if file exists                                          0.02s  
  âœ“ it can delete a file                                                 0.02s  
  âœ“ it can get file contents                                             0.02s  
  âœ“ it returns null for nonexistent file                                 0.02s  

   FAIL  Tests\Unit\GlobalSearchServiceTest
  âœ“ it returns empty for empty search term                               0.03s  
  âœ“ it returns empty for whitespace only term                            0.02s  
  âœ“ it searches candidates by name                                       0.03s  
  âœ“ it searches candidates by cnic                                       0.02s  
  âœ“ campus admin only sees their campus candidates                       0.02s  
  âœ“ it searches batches by name                                          0.02s  
  âœ“ it searches batches by code                                          0.02s  
  â¨¯ it searches trades by name                                           0.03s  
  â¨¯ it searches campuses by name                                         0.02s  
  â¨¯ campus admin only sees their campus                                  0.02s  
  â¨¯ it searches oeps by name                                             0.02s  
  â¨¯ it searches multiple types when no type specified                    0.03s  
  âœ“ it filters empty result sets                                         0.03s  
  âœ“ it calculates total result count                                     0.02s  
  âœ“ it respects result limit                                             0.03s  
  âœ“ it returns proper result structure                                   0.02s  

   PASS  Tests\Unit\ModelFillableTest
  âœ“ campus fillable only contains existing fields                        0.03s  
  âœ“ trade fillable only contains existing fields                         0.01s  
  âœ“ campus can be created with valid fields                              0.02s  
  âœ“ trade can be created with valid fields                               0.01s  

   PASS  Tests\Unit\NotificationServiceTest
  âœ“ notification types are defined                                       0.02s  
  âœ“ notification channels are defined                                    0.01s  
  âœ“ send document uploaded handles missing candidate                     0.02s  
  âœ“ send training assigned returns proper structure                      0.03s  
  âœ“ send certificate issued handles no certificate                       0.03s  
  âœ“ send complaint registered with candidate                             0.02s  
  âœ“ send complaint assigned to user                                      0.02s  
  âœ“ send visa process initiated                                          0.02s  
  âœ“ send visa stage completed                                            0.02s  
  âœ“ send briefing completed                                              0.03s  
  âœ“ send compliance achieved                                             0.02s  
  âœ“ send issue reported                                                  0.02s  

   PASS  Tests\Unit\OepPolicyTest
  âœ“ authorized roles can view any oep                                    0.03s  
  âœ“ unauthorized roles cannot view any oep                               0.02s  
  âœ“ super admin can view any oep                                         0.02s  
  âœ“ project director can view any oep                                    0.02s  
  âœ“ viewer can view any oep                                              0.02s  
  âœ“ oep user can view their own oep                                      0.02s  
  âœ“ oep user cannot view other oep                                       0.03s  
  âœ“ campus admin can view oep with candidates in their campus            0.02s  
  âœ“ campus admin cannot view oep without candidates in their campus      0.02s  
  âœ“ campus admin without campus id cannot view oep                       0.02s  
  âœ“ super admin can create oep                                           0.02s  
  âœ“ non super admin cannot create oep                                    0.05s  
  âœ“ super admin can update oep                                           0.03s  
  âœ“ non super admin cannot update oep                                    0.02s  
  âœ“ super admin can delete oep                                           0.02s  
  âœ“ non super admin cannot delete oep                                    0.02s  
  âœ“ super admin can toggle status                                        0.03s  
  âœ“ non super admin cannot toggle status                                 0.02s  
  âœ“ authorized roles can access api list                                 0.02s  
  âœ“ unauthorized roles cannot access api list                            0.02s  

   PASS  Tests\Unit\RegistrationPoliciesTest
  âœ“ super admin can view any next of kin                                 0.04s  
  âœ“ campus admin can create next of kin                                  0.02s  
  âœ“ campus admin can view next of kin from their campus                  0.02s  
  âœ“ campus admin cannot view next of kin from other campus               0.02s  
  âœ“ viewer cannot create next of kin                                     0.02s  
  âœ“ only super admin can delete next of kin                              0.03s  
  âœ“ super admin can view any document                                    0.02s  
  âœ“ campus admin can upload documents                                    0.02s  
  âœ“ campus admin can view documents from their campus                    0.02s  
  âœ“ viewer can download documents                                        0.02s  
  âœ“ only super admin and project director can verify documents           0.03s  
  âœ“ super admin can view any undertaking                                 0.02s  
  âœ“ campus admin can create undertaking                                  0.02s  
  âœ“ campus admin can view undertakings from their campus                 0.02s  
  âœ“ only super admin can delete undertaking                              0.02s  
  âœ“ viewer can download undertaking                                      0.03s  

   PASS  Tests\Unit\RegistrationServiceTest
  âœ“ it returns required documents list                                   0.02s  
  âœ“ it checks document completeness for candidate with no documents      0.02s  
  âœ“ it checks document completeness for candidate with partial documentâ€¦ 0.02s  
  âœ“ it checks document completeness for candidate with all required docâ€¦ 0.03s  
  âœ“ it marks incomplete if documents not verified                        0.02s  
  âœ“ it generates undertaking content                                     0.03s  
  âœ“ it includes next of kin in undertaking                               0.02s  
  âœ“ it validates document file not found                                 0.01s  
  âœ“ it validates document too small                                      0.03s  
  âœ“ it validates document success                                        5.37s  
  âœ“ it allocates oep for candidate                                       0.02s  
  âœ“ it creates registration summary                                      0.02s  
  âœ“ it handles missing next of kin in summary                            0.02s  
  âœ“ it handles missing undertaking in summary                            0.03s  

   PASS  Tests\Unit\RemittanceAlertServiceTest
  âœ“ generate missing remittance alerts creates alert for old departure   0.02s  
  âœ“ generate missing remittance alerts does not create duplicate         0.02s  
  âœ“ generate missing remittance alerts skips recent departures           0.02s  
  âœ“ generate missing proof alerts creates alert for old remittance       0.03s  
  âœ“ generate missing proof alerts skips remittances with proof           0.02s  
  âœ“ generate first remittance delay alerts creates alert                 0.02s  
  âœ“ generate first remittance delay alerts skips candidates with remittâ€¦ 0.02s  
  âœ“ generate low frequency alerts creates alert for infrequent remitterâ€¦ 0.02s  
  âœ“ generate low frequency alerts skips candidates with enough remittanâ€¦ 0.04s  
  âœ“ generate unusual amount alerts detects outliers                      0.04s  
  âœ“ get unresolved alerts count returns correct count                    0.02s  
  âœ“ get critical alerts count returns correct count                      0.02s  
  âœ“ mark old alerts as read updates old alerts                           0.03s  
  âœ“ auto resolve alerts resolves missing remittance alert                0.02s  
  âœ“ auto resolve alerts resolves missing proof alert                     0.02s  
  âœ“ auto resolve alerts resolves first remittance delay alert            0.02s  
  âœ“ get alert statistics returns comprehensive stats                     0.03s  
  âœ“ generate all alerts returns breakdown                                0.03s  

   FAIL  Tests\Unit\RemittanceAnalyticsServiceTest
  â¨¯ get dashboard stats returns comprehensive statistics                 0.03s  
  â¨¯ get monthly trends returns data for all months                       0.02s  
  â¨¯ get purpose analysis returns correct distribution                    0.03s  
  â¨¯ get transfer method analysis calculates percentages                  0.04s  
  â¨¯ get proof compliance report returns detailed breakdown               0.04s  
  â¨¯ get top remitting candidates returns ordered list                    0.04s  
  â¨¯ get remittances by date range filters correctly                      0.03s  
  âœ“ dashboard stats handles empty database                               0.02s  
  âœ“ monthly trends fills missing months with zeros                       0.02s  

   FAIL  Tests\Unit\RemittancePoliciesTest
  âœ“ super admin can view any receipt                                     0.02s  
  âœ“ project director can view any receipt                                0.02s  
  âœ“ oep can view receipts                                                0.03s  
  â¨¯ oep can view receipt for assigned candidates                         0.03s  
  â¨¯ oep cannot view receipt for other candidates                         0.02s  
  â¨¯ super admin and project director can update receipts                 0.03s  
  â¨¯ only super admin can delete receipts                                 0.03s  
  â¨¯ user who can view receipt can download                               0.03s  
  âœ“ super admin can view any breakdown                                   0.02s  
  âœ“ oep can create breakdown                                             0.02s  
  â¨¯ oep can view breakdown for assigned candidates                       0.02s  
  â¨¯ super admin and project director can update breakdown                0.02s  
  â¨¯ only super admin can delete breakdown                                0.03s  

   FAIL  Tests\Unit\ReportingServiceTest
  â¨¯ it generates candidate pipeline report                               0.03s  
  â¨¯ it filters pipeline report by campus                                 0.02s  
  â¨¯ it calculates conversion rates                                       0.02s  
  âœ“ it generates training report                                         0.03s  
  âœ“ it calculates batch statistics                                       0.02s  
  âœ“ it calculates attendance summary                                     0.02s  
  â¨¯ it generates visa processing report                                  0.02s  
  â¨¯ it calculates average processing time                                0.03s  
  âœ“ it generates compliance report                                       0.02s  
  â¨¯ it calculates departure compliance                                   0.02s  
  âœ“ it calculates remittance compliance                                  0.03s  
  âœ“ it calculates complaint resolution                                   0.02s  
  âœ“ it builds custom report for candidates                               0.03s  
  âœ“ it applies filters to custom report                                  0.02s  
  âœ“ it throws exception for unknown report type                          0.02s  
  âœ“ it applies equals filter                                             0.02s  
  âœ“ it applies contains filter                                           0.02s  
  âœ“ it applies in filter                                                 0.03s  
  âœ“ it applies between filter                                            0.02s  
  âœ“ it returns available filters for candidates                          0.02s  
  âœ“ it returns available filters for training                            0.02s  
  â¨¯ it caches report results                                             0.02s  
  â¨¯ it can clear cache                                                   0.03s  

   PASS  Tests\Unit\ScreeningServiceTest
  âœ“ it generates undertaking content                                     0.03s  
  âœ“ it parses call logs from remarks                                     0.02s  
  âœ“ it returns empty logs when no remarks                                0.02s  
  âœ“ it generates screening report                                        0.03s  
  âœ“ it filters report by date range                                      0.02s  
  âœ“ it filters report by screening type                                  0.02s  
  âœ“ it schedules call screening after desk                               0.02s  
  âœ“ it schedules physical screening after call                           0.02s  
  âœ“ it does not schedule after physical                                  0.03s  
  âœ“ it returns ineligible for nonexistent candidate                      0.02s  
  âœ“ it returns eligible for desk screening                               0.02s  
  âœ“ it requires desk screening for call                                  0.02s  
  âœ“ it allows call after desk passed                                     0.02s  
  âœ“ it requires all prerequisites for physical                           0.03s  
  âœ“ it records call attempt                                              0.03s  
  âœ“ it throws exception for invalid call number                          0.05s  
  âœ“ it progresses call stage on successful call                          0.03s  
  âœ“ it marks unreachable after max attempts                              0.02s  
  âœ“ it handles callback request                                          0.03s  
  âœ“ it returns pending callbacks                                         0.02s  
  âœ“ it returns call stage statistics                                     0.02s  
  âœ“ it returns call success rates                                        0.02s  
  âœ“ it returns pending appointments                                      0.02s  
  âœ“ it returns todays appointments                                       0.03s  
  âœ“ it returns response rate analytics                                   0.02s  
  âœ“ it can bulk update call stage                                        0.02s  
  âœ“ it returns candidates needing follow up                              0.02s  

   FAIL  Tests\Unit\StateTransitionEdgeCasesTest
  â¨¯ it blocks transition from new directly to training                   0.04s  
  â¨¯ it blocks transition from new directly to departed                   0.02s  
  â¨¯ it blocks transition from departed to any status                     0.02s  
  â¨¯ it blocks transition from rejected without reactivation              0.02s  
  â¨¯ it blocks transition to visa process without training completion     0.02s  
  âœ“ it blocks transition to ready without visa issued                    0.03s  
  âœ“ it blocks transition to departed without briefing                    0.02s  
  âœ“ it handles concurrent status updates safely                          0.02s  
  âœ“ it prevents race condition in batch assignment                       0.02s  
  â¨¯ it blocks registration with partial documents                        0.02s  
  âœ“ it blocks training completion with partial assessments               0.03s  
  â¨¯ it blocks visa process with partial stages                           0.02s  
  â¨¯ it validates screening prerequisite chain                            0.02s  
  â¨¯ it validates visa stage prerequisite chain                           0.02s  
  âœ“ it handles null status gracefully                                    0.02s  
  âœ“ it handles invalid status value                                      0.03s  
  âœ“ it blocks training certificate for failed training                   0.02s  
  âœ“ it blocks training certificate for withdrawn candidate               0.02s  
  â¨¯ it allows reactivation of dropped candidate with reason              0.02s  
  âœ“ it blocks reactivation without reason                                0.02s  

   FAIL  Tests\Unit\SystemPoliciesTest
  âœ“ super admin can view system settings                                 0.03s  
  âœ“ only super admin can update system settings                          0.02s  
  âœ“ only super admin can create system settings                          0.02s  
  âœ“ only super admin can delete system settings                          0.02s  
  âœ“ regular users cannot view system settings                            0.03s  
  âœ“ super admin can view any visa partner                                0.02s  
  âœ“ project director can view any visa partner                           0.02s  
  âœ“ only super admin can create visa partner                             0.02s  
  âœ“ super admin and project director can update visa partner             0.02s  
  âœ“ only super admin can delete visa partner                             0.03s  
  âœ“ super admin can view any kpi                                         0.02s  
  âœ“ campus admin can view kpis from their campus                         0.02s  
  âœ“ campus admin cannot view kpis from other campus                      0.02s  
  âœ“ only super admin and project director can create kpis                0.03s  
  âœ“ only super admin can view password history                           0.03s  
  âœ“ nobody can create password history directly                          0.02s  
  âœ“ nobody can delete password history                                   0.02s  
  âœ“ super admin can view any usage log                                   0.02s  
  â¨¯ campus admin can view usage logs from their campus                   0.02s  
  âœ“ instructor can create usage log                                      0.03s  
  â¨¯ only super admin can delete usage log                                0.02s  

   PASS  Tests\Unit\TradePolicyTest
  âœ“ authorized roles can view any trade                                  0.04s  
  âœ“ unauthorized roles cannot view any trade                             0.02s  
  âœ“ authorized roles can view trade                                      0.03s  
  âœ“ super admin can create trade                                         0.02s  
  âœ“ non super admin cannot create trade                                  0.02s  
  âœ“ super admin can update trade                                         0.02s  
  âœ“ non super admin cannot update trade                                  0.02s  
  âœ“ super admin can delete trade                                         0.03s  
  âœ“ non super admin cannot delete trade                                  0.02s  
  âœ“ super admin can toggle status                                        0.02s  
  âœ“ non super admin cannot toggle status                                 0.02s  
  âœ“ authorized roles can access api list                                 0.02s  
  âœ“ unauthorized roles cannot access api list                            0.03s  

   PASS  Tests\Unit\TrainingPoliciesTest
  âœ“ super admin can view any assessment                                  0.02s  
  âœ“ campus admin can view assessments from their campus                  0.02s  
  âœ“ instructor can create assessments                                    0.02s  
  âœ“ instructor can update their own assessments                          0.03s  
  âœ“ instructor cannot update other instructors assessments               0.02s  
  âœ“ only super admin can delete assessments                              0.02s  
  âœ“ super admin can view any attendance                                  0.02s  
  âœ“ instructor can record attendance                                     0.02s  
  âœ“ instructor can bulk record attendance                                0.03s  
  âœ“ campus admin can view attendance from their campus                   0.02s  
  âœ“ viewer cannot create attendance                                      0.02s  
  âœ“ super admin can issue certificates                                   0.02s  
  âœ“ campus admin can issue certificates                                  0.02s  
  âœ“ only super admin can revoke certificates                             0.03s  
  âœ“ viewer can download certificates                                     0.02s  
  âœ“ super admin can create schedules                                     0.02s  
  âœ“ campus admin can create schedules                                    0.02s  
  âœ“ instructor can view schedules                                        0.02s  
  âœ“ instructor cannot create schedules                                   0.03s  
  âœ“ only super admin can delete schedules                                0.02s  

   PASS  Tests\Unit\TrainingServiceTest
  âœ“ it can start batch training                                          0.03s  
  âœ“ starting batch training is transactional                             0.02s  
  âœ“ it can record attendance                                             0.03s  
  âœ“ it can record bulk attendance                                        0.03s  
  âœ“ it calculates attendance statistics                                  0.05s  
  âœ“ low attendance marks candidate at risk                               0.03s  
  âœ“ it can record assessment                                             0.03s  
  âœ“ failed assessment marks candidate at risk                            0.02s  
  âœ“ passed final assessment updates status to completed                  0.51s  
  âœ“ it generates certificate for eligible candidate                      0.09s  
  âœ“ it rejects certificate for low attendance                            0.05s  
  âœ“ it rejects certificate without final assessment                      0.05s  
  âœ“ it rejects certificate for failed final assessment                   0.06s  
  âœ“ it rejects certificate for at risk candidate                         0.07s  
  âœ“ it calculates batch statistics                                       0.04s  
  âœ“ it returns at risk candidates                                        0.04s  
  âœ“ at risk candidates include attendance data                           0.03s  

   PASS  Tests\Unit\UserPolicyTest
  âœ“ super admin can view any user                                        0.04s  
  âœ“ project director can view any user                                   0.02s  
  âœ“ campus admin cannot view any user                                    0.02s  
  âœ“ other roles cannot view any user                                     0.02s  
  âœ“ user can view their own profile                                      0.02s  
  âœ“ super admin can view any user profile                                0.03s  
  âœ“ project director can view any user profile                           0.02s  
  âœ“ user cannot view other users profile                                 0.02s  
  âœ“ super admin can create user                                          0.02s  
  âœ“ non super admin cannot create user                                   0.02s  
  âœ“ user can update their own profile                                    0.03s  
  âœ“ super admin can update any user                                      0.02s  
  âœ“ user cannot update other users profile                               0.02s  
  âœ“ project director cannot update other users                           0.02s  
  âœ“ super admin can delete other users                                   0.02s  
  âœ“ super admin cannot delete themselves                                 0.03s  
  âœ“ non admin cannot delete users                                        0.03s  
  âœ“ super admin can toggle other users status                            0.02s  
  âœ“ super admin cannot toggle their own status                           0.02s  
  âœ“ non admin cannot toggle status                                       0.02s  
  âœ“ super admin can reset other users password                           0.03s  
  âœ“ super admin cannot reset their own password                          0.02s  
  âœ“ non admin cannot reset passwords                                     0.02s  
  âœ“ super admin can manage settings                                      0.02s  
  âœ“ non super admin cannot manage settings                               0.02s  
  âœ“ super admin can view audit logs                                      0.03s  
  âœ“ project director can view audit logs                                 0.02s  
  âœ“ other roles cannot view audit logs                                   0.02s  
  âœ“ authorized roles can use global search                               0.02s  
  âœ“ unauthorized roles cannot use global search                          0.02s  
  âœ“ inactive super admin still has permissions                           0.03s  

   PASS  Tests\Unit\VisaProcessingServiceTest
  âœ“ it returns all visa processing stages                                0.03s  
  âœ“ it generates unique enumber                                          0.02s  
  âœ“ it increments enumber sequence                                       0.03s  
  âœ“ it handles missing oep for enumber                                   0.02s  
  âœ“ it generates unique ptn number                                       0.02s  
  âœ“ it increments ptn sequence                                           0.02s  
  âœ“ it schedules interview for candidate                                 0.02s  
  âœ“ it updates existing interview schedule                               0.03s  
  âœ“ it throws exception for invalid candidate                            0.02s  
  âœ“ it records passed interview status                                   0.02s  
  âœ“ it records failed interview status                                   0.02s  
  âœ“ it schedules takamol test                                            0.02s  
  âœ“ it uploads takamol status and moves to next stage                    0.03s  
  âœ“ it does not advance on failed takamol                                0.02s  
  âœ“ it schedules gamca medical                                           0.02s  
  âœ“ it uploads gamca certificate and advances                            0.02s  
  âœ“ it does not advance on unfit medical                                 0.02s  
  âœ“ it schedules etimad biometrics                                       0.04s  
  âœ“ it generates etimad id if not provided                               0.02s  
  âœ“ it records biometrics completion                                     0.02s  
  âœ“ it records visa submission                                           0.02s  
  âœ“ it records ptn issuance                                              0.02s  
  âœ“ it uses provided ptn number                                          0.03s  
  âœ“ it uploads travel plan and completes process                         0.02s  
  âœ“ it calculates visa processing timeline                               0.02s  
  âœ“ it returns visa processing statistics                                0.03s  
  âœ“ it filters statistics by date range                                  0.04s  
  âœ“ it filters statistics by oep                                         0.03s  
  âœ“ it returns pending medical biometric candidates                      0.03s  
  âœ“ it returns expiring documents                                        0.02s  
  âœ“ it creates new visa process                                          0.02s  
  âœ“ it updates visa process                                              0.03s  
  âœ“ it updates interview stage                                           0.02s  
  âœ“ it updates trade test stage                                          0.02s  
  âœ“ it updates takamol stage                                             0.02s  
  âœ“ it updates medical stage                                             0.02s  
  âœ“ it updates biometric stage                                           0.05s  
  âœ“ it updates visa issuance                                             0.02s  
  âœ“ it uploads ticket                                                    0.02s  
  âœ“ it returns visa process timeline                                     0.02s  
  âœ“ it returns overdue processes                                         0.02s  
  âœ“ it completes visa process                                            0.03s  
  âœ“ it deletes visa process                                              0.02s  
  âœ“ it generates visa processing report                                  0.02s  
  âœ“ it generates report without campus filter                            0.03s  

   FAIL  Tests\Unit\WASLv3EnumsTest
  âœ“ placement interest enum has correct values                           0.05s  
  âœ“ training type enum has correct values                                0.02s  
  âœ“ training progress enum has correct values                            0.03s  
  âœ“ assessment type enum has correct values                              0.02s  
  âœ“ ptn status enum has correct values                                   0.02s  
  âœ“ protector status enum has correct values                             0.03s  
  âœ“ flight type enum has correct values                                  0.02s  
  âœ“ departure status enum has correct values                             0.01s  
  âœ“ visa application status enum has correct values                      0.04s  
  âœ“ visa issued status enum has correct values                           0.02s  
  âœ“ visa stage result enum has correct values                            0.03s  
  âœ“ evidence type enum has correct values                                0.02s  
  âœ“ updated screening status enum has correct values                     0.01s  
  â¨¯ candidate status enum has 17 statuses                                0.02s  
  âœ“ candidate status has active statuses                                 0.02s  
  âœ“ candidate status has terminal statuses                               0.03s  
  âœ“ enums can be used in match expressions                               0.02s  
  âœ“ enums can be compared directly                                       0.02s  
  âœ“ enums provide all cases method                                       0.02s  
  âœ“ enums can be serialized to value                                     0.02s  
  âœ“ enums can be created from value                                      0.03s  
  âœ“ enums try from returns null for invalid value                        0.02s  
  âœ“ all enums are backed by strings                                      0.02s  

   PASS  Tests\Feature\AuthenticationTest
  âœ“ login page loads                                                     0.05s  
  âœ“ user can login with correct credentials                              0.02s  
  âœ“ user cannot login with incorrect password                            0.22s  
  âœ“ user can logout                                                      0.02s  

   FAIL  Tests\Feature\BatchApiControllerTest
  â¨¯ it returns paginated batches                                         0.09s  
  â¨¯ it filters batches by status                                         0.03s  
  â¨¯ it filters batches by campus                                         0.03s  
  â¨¯ it filters batches by trade                                          0.05s  
  â¨¯ it searches batches                                                  0.03s  
  â¨¯ it filters available batches only                                    0.03s  
  âœ“ it returns single batch details                                      0.02s  
  âœ“ it returns 404 for nonexistent batch                                 0.02s  
  âœ“ it creates new batch                                                 0.04s  
  â¨¯ it validates required fields on create                               0.02s  
  âœ“ it validates unique batch code                                       0.02s  
  âœ“ it updates existing batch                                            0.02s  
  âœ“ it prevents capacity reduction below enrollment                      0.06s  
  âœ“ it deletes empty batch                                               0.02s  
  â¨¯ it prevents deletion of batch with candidates                        0.03s  
  âœ“ it returns batch statistics                                          0.05s  
  âœ“ it returns batch candidates                                          0.06s  
  âœ“ it filters batch candidates by training status                       0.03s  
  â¨¯ it bulk assigns candidates to batch                                  0.03s  
  âœ“ it validates bulk assign capacity                                    0.03s  
  âœ“ it validates bulk assign max 100 candidates                          0.05s  
  âœ“ it changes batch status                                              0.02s  
  âœ“ it validates status change value                                     0.02s  
  âœ“ it returns active batches only                                       0.03s  
  â¨¯ it returns batches by campus                                         0.04s  
  â¨¯ it requires authentication                                           0.02s  
  â¨¯ campus admin only sees their batches                                 0.03s  

   FAIL  Tests\Feature\BatchControllerTest
  âœ“ admin can view batches index                                         0.06s  
  â¨¯ campus admin only sees their campus batches                          0.03s  
  âœ“ batches can be filtered by status                                    0.03s  
  âœ“ batches can be searched                                              0.04s  
  âœ“ admin can view create batch form                                     0.05s  
  âœ“ admin can create batch                                               0.02s  
  â¨¯ batch creation requires valid data                                   0.04s  
  âœ“ batch code must be unique                                            0.02s  
  âœ“ start date must be today or future                                   0.02s  
  âœ“ end date must be after start date                                    0.04s  
  âœ“ admin can view edit batch form                                       0.03s  
  âœ“ admin can update batch                                               0.02s  
  âœ“ cannot reduce capacity below enrollment                              0.06s  
  âœ“ admin can view batch details                                         0.03s  
  âœ“ admin can delete empty batch                                         0.02s  
  â¨¯ cannot delete batch with candidates                                  0.03s  
  â¨¯ admin can view batch candidates                                      0.12s  
  â¨¯ batch candidates can be filtered                                     0.12s  
  â¨¯ admin can bulk assign candidates to batch                            0.03s  
  âœ“ cannot assign more candidates than capacity                          0.05s  
  âœ“ guest cannot access batches                                          0.02s  
  âœ“ campus admin cannot edit other campus batch                          0.02s  

   FAIL  Tests\Feature\BatchImportIntegrationTest
  â¨¯ it accepts valid excel file                                          0.07s  
  âœ“ it rejects invalid file types                                        0.03s  
  âœ“ it rejects oversized files                                           0.02s  
  â¨¯ it validates required columns                                        0.10s  
  â¨¯ it validates cnic format in import                                   0.10s  
  â¨¯ it validates date formats in import                                  0.13s  
  â¨¯ it detects duplicate cnic in import                                  0.09s  
  â¨¯ it detects duplicate phone in import                                 0.10s  
  âœ“ it allows skipping duplicates                                        0.03s  
  â¨¯ it allows updating duplicates                                        0.03s  
  â¨¯ it processes large import in chunks                                  0.04s  
  â¨¯ it tracks import progress                                            0.02s  
  âœ“ it can check import status                                           0.02s  
  â¨¯ it logs row errors without stopping import                           0.03s  
  â¨¯ it generates error report                                            0.04s  
  âœ“ it can download error report                                         0.02s  
  âœ“ it can rollback failed import                                        0.02s  
  â¨¯ campus admin can only import to their campus                         0.02s  
  âœ“ regular user cannot import                                           0.04s  

   FAIL  Tests\Feature\BulkOperationsControllerTest
  â¨¯ super admin can bulk update candidate status                         0.04s  
  â¨¯ campus admin can only update their campus candidates                 0.02s  
  â¨¯ bulk update validates status transitions                             0.03s  
  âœ“ bulk update requires authentication                                  0.02s  
  â¨¯ bulk update validates required fields                                0.03s  
  â¨¯ bulk update limits to 100 candidates                                 0.10s  
  âœ“ admin can bulk assign candidates to batch                            0.04s  
  âœ“ batch assignment respects capacity                                   0.03s  
  âœ“ batch assignment requires valid batch                                0.02s  
  âœ“ admin can bulk assign candidates to campus                           0.03s  
  âœ“ campus assignment clears batch                                       0.05s  
  â¨¯ admin can export candidates                                          0.03s  
  âœ“ export validates format                                              0.03s  
  â¨¯ export filters by user permissions                                   0.03s  
  âœ“ only admin can bulk delete                                           0.02s  
  âœ“ admin can bulk delete candidates                                     0.06s  
  âœ“ cannot delete departed candidates                                    0.02s  
  âœ“ bulk delete limits to 50 candidates                                  0.06s  
  â¨¯ admin can send bulk notifications                                    0.02s  
  âœ“ email notification requires subject                                  0.05s  

   FAIL  Tests\Feature\BulkOperationsIntegrationTest
  â¨¯ it updates multiple candidates status atomically                     0.04s  
  â¨¯ it validates status transitions in bulk                              0.02s  
  âœ“ it rolls back on partial failure                                     0.04s  
  âœ“ it assigns candidates to batch with capacity check                   0.05s  
  â¨¯ it rejects assignment exceeding capacity                             0.06s  
  â¨¯ it validates trade compatibility for batch assignment                0.04s  
  âœ“ it transfers candidates between campuses                             0.03s  
  âœ“ it clears batch on campus transfer                                   0.06s  
  â¨¯ it exports selected candidates to csv                                0.11s  
  â¨¯ it exports filtered candidates to excel                              0.05s  
  â¨¯ it queues large exports                                              0.69s  
  âœ“ it soft deletes candidates in bulk                                   0.03s  
  â¨¯ it prevents deletion of departed candidates                          0.02s  
  â¨¯ it requires confirmation for bulk delete                             0.03s  
  â¨¯ it sends notifications to selected candidates                        0.05s  
  â¨¯ it sends sms notifications                                           0.05s  
  â¨¯ it handles optimistic locking for concurrent updates                 0.06s  
  â¨¯ it logs bulk operations                                              0.03s  
  â¨¯ campus admin can only operate on their campus                        0.03s  
  âœ“ only admin can perform bulk delete                                   0.02s  

   FAIL  Tests\Feature\CandidateApiControllerTest
  â¨¯ it returns paginated candidates                                      0.08s  
  âœ“ it filters candidates by status                                      0.03s  
  âœ“ it filters candidates by campus                                      0.03s  
  âœ“ it searches candidates by name                                       0.02s  
  âœ“ it searches candidates by cnic                                       0.05s  
  â¨¯ it returns single candidate                                          0.02s  
  âœ“ it returns 404 for nonexistent candidate                             0.04s  
  âœ“ it includes relationships in show                                    0.03s  
  â¨¯ it creates a new candidate                                           0.04s  
  âœ“ it validates required fields                                         0.03s  
  âœ“ it validates unique cnic                                             0.03s  
  âœ“ it validates cnic format                                             0.02s  
  âœ“ it updates a candidate                                               0.02s  
  â¨¯ it validates update data                                             0.04s  
  âœ“ it soft deletes a candidate                                          0.02s  
  â¨¯ it returns candidate statistics                                      0.04s  
  âœ“ unauthenticated user cannot access api                               0.02s  
  âœ“ campus admin only sees their campus candidates                       0.05s  
  â¨¯ it respects per page parameter                                       0.08s  
  âœ“ it limits maximum per page                                           0.26s  

   FAIL  Tests\Feature\CandidateLifecycleIntegrationTest
  âœ“ it creates new candidate with generated ids                          0.05s  
  âœ“ it validates cnic format on creation                                 0.02s  
  â¨¯ it detects duplicate phone numbers                                   0.10s  
  âœ“ it transitions from new to screening                                 0.02s  
  âœ“ it records desk screening                                            0.05s  
  âœ“ it records call screening with attempts                              0.02s  
  âœ“ it records physical screening                                        0.03s  
  âœ“ it auto progresses to registered when all screenings pass            0.04s  
  âœ“ it fails screening and rejects candidate                             0.04s  
  â¨¯ it uploads required documents                                        0.04s  
  â¨¯ it verifies documents                                                0.02s  
  â¨¯ it blocks completion with expired documents                          0.02s  
  âœ“ it transitions to training                                           0.04s  
  âœ“ it records training attendance                                       0.02s  
  âœ“ it records training assessments                                      0.02s  
  âœ“ it issues training certificate                                       0.02s  
  âœ“ it transitions to visa process                                       0.04s  
  âœ“ it records visa process steps                                        0.02s  
  âœ“ it validates transition to ready                                     0.02s  
  âœ“ it transitions to ready status                                       0.02s  
  âœ“ it records departure                                                 0.02s  
  â¨¯ it transitions to departed                                           0.05s  
  âœ“ it completes full candidate lifecycle                                0.05s  

   WARN  Tests\Feature\CandidateManagementTest
  ! candidates list loads â†’ Test code or tested code did not close itsâ€¦  0.04s  
  âœ“ can create candidate                                                 0.04s  
  âœ“ can update candidate                                                 0.04s  
  âœ“ can delete candidate                                                 0.02s  

   PASS  Tests\Feature\CandidateModelFeatureTest
  âœ“ candidate has valid statuses                                         0.03s  
  âœ“ candidate status label                                               0.03s  
  âœ“ candidate age calculation                                            0.02s  
  âœ“ candidate is listed                                                  0.02s  
  âœ“ candidate progress percentage                                        0.02s  

   FAIL  Tests\Feature\ComplaintControllerTest
  âœ“ admin can view complaints list                                       0.04s  
  âœ“ index can filter by status                                           0.17s  
  âœ“ index can filter by priority                                         0.18s  
  âœ“ index can search complaints                                          0.16s  
  âœ“ admin can view create complaint form                                 0.04s  
  â¨¯ admin can create complaint                                           0.02s  
  âœ“ complaint validates required fields                                  0.02s  
  âœ“ complaint validates category                                         0.02s  
  âœ“ complaint validates priority                                         0.03s  
  â¨¯ complaint can include evidence                                       0.11s  
  â¨¯ admin can view complaint details                                     0.11s  
  â¨¯ admin can update complaint priority                                  0.02s  
  â¨¯ admin can update complaint status                                    0.02s  
  âœ“ admin can assign complaint                                           0.05s  
  âœ“ assign validates user exists                                         0.02s  
  âœ“ admin can add update to complaint                                    0.02s  
  âœ“ add update validates text required                                   0.04s  
  â¨¯ admin can add evidence to complaint                                  0.10s  
  âœ“ add evidence validates file type                                     0.03s  
  âœ“ admin can escalate complaint                                         0.03s  
  âœ“ escalate requires reason                                             0.04s  
  â¨¯ admin can resolve complaint                                          0.12s  
  âœ“ resolve validates required fields                                    0.02s  
  âœ“ admin can close complaint                                            0.05s  
  âœ“ admin can reopen closed complaint                                    0.03s  
  âœ“ reopen requires reason                                               0.02s  
  â¨¯ admin can view overdue complaints                                    0.02s  
  â¨¯ admin can view their assigned complaints                             0.04s  
  â¨¯ admin can view complaint statistics                                  0.03s  
  â¨¯ admin can generate analytics report                                  0.02s  
  â¨¯ admin can view sla report                                            0.04s  
  â¨¯ admin can export complaints                                          0.02s  
  â¨¯ export validates format                                              0.02s  
  âœ“ admin can delete complaint                                           0.04s  
  âœ“ unauthenticated user cannot access complaints                        0.02s  
  âœ“ regular user cannot access complaints                                0.02s  

   FAIL  Tests\Feature\ComplaintRestApiTest
  âœ“ it lists all complaints with authentication                          0.07s  
  âœ“ it requires authentication                                           0.02s  
  âœ“ it filters complaints for campus admin                               0.03s  
  â¨¯ it shows specific complaint with sla status                          0.02s  
  âœ“ it registers complaint                                               0.06s  
  â¨¯ it updates complaint                                                 0.03s  
  â¨¯ it assigns complaint                                                 0.03s  
  âœ“ it escalates complaint                                               0.03s  
  âœ“ it resolves complaint                                                0.03s  
  âœ“ it returns complaint statistics                                      0.04s  
  â¨¯ it returns overdue complaints                                        0.03s  
  âœ“ it filters by status                                                 0.03s  
  âœ“ it filters by priority                                               0.02s  
  âœ“ it filters by sla breached                                           0.05s  
  âœ“ it searches complaints                                               0.03s  
  âœ“ it validates required fields on create                               0.02s  
  âœ“ it supports pagination                                               0.09s  

   FAIL  Tests\Feature\ComplaintStatisticsTest
  â¨¯ admin can view complaint statistics                                  0.05s  
  â¨¯ statistics contain total complaints                                  0.04s  
  â¨¯ statistics contain status breakdown                                  0.04s  
  â¨¯ statistics contain category breakdown                                0.05s  
  â¨¯ statistics contain priority breakdown                                0.04s  
  â¨¯ statistics contain recent complaints                                 0.05s  
  â¨¯ statistics calculate sla compliance rate                             0.07s  
  â¨¯ statistics show monthly trends                                       0.04s  
  â¨¯ statistics show top assignees                                        0.05s  
  âœ“ unauthenticated users cannot view statistics                         0.04s  

   FAIL  Tests\Feature\CorrespondenceRestApiTest
  âœ“ it lists all correspondence with authentication                      0.04s  
  âœ“ it requires authentication                                           0.02s  
  âœ“ it filters correspondence for campus admin                           0.04s  
  âœ“ it shows specific correspondence                                     0.02s  
  â¨¯ it creates correspondence                                            0.02s  
  âœ“ it updates correspondence                                            0.03s  
  âœ“ it deletes correspondence                                            0.04s  
  â¨¯ it returns correspondence statistics                                 0.02s  
  âœ“ it returns pending correspondence                                    0.03s  
  âœ“ it filters by status                                                 0.03s  
  âœ“ it filters by type                                                   0.04s  
  âœ“ it searches correspondence                                           0.02s  
  âœ“ it filters by date range                                             0.02s  
  âœ“ it validates required fields on create                               0.02s  
  âœ“ it validates type field values                                       0.04s  
  âœ“ it supports pagination                                               0.06s  

   FAIL  Tests\Feature\DepartureApiControllerTest
  â¨¯ it returns paginated departures                                      0.09s  
  â¨¯ it filters departures by date range                                  0.04s  
  âœ“ it returns single departure                                          0.02s  
  âœ“ it returns 404 for nonexistent departure                             0.03s  
  âœ“ it returns departure by candidate                                    0.02s  
  â¨¯ it returns 404 for candidate without departure                       0.04s  
  âœ“ it creates a departure                                               0.02s  
  âœ“ it validates required fields for departure                           0.02s  
  âœ“ it prevents duplicate departure for candidate                        0.02s  
  â¨¯ it updates departure details                                         0.02s  
  â¨¯ it updates salary information                                        0.04s  
  â¨¯ it returns departure statistics                                      0.05s  
  âœ“ unauthenticated user cannot access departures                        0.02s  

   FAIL  Tests\Feature\DocumentArchiveAdvancedSearchTest
  â¨¯ admin can access advanced search page                                0.06s  
  â¨¯ it searches by keyword across multiple fields                        0.03s  
  â¨¯ it filters by document type                                          0.03s  
  â¨¯ it filters by tags                                                   0.02s  
  â¨¯ it filters by campus                                                 0.07s  
  â¨¯ campus admin only sees their campus documents                        0.03s  
  â¨¯ it filters by upload date range                                      0.03s  
  â¨¯ it filters by expiry date range                                      0.05s  
  â¨¯ it filters by expired status                                         0.03s  
  â¨¯ it filters by has expiry                                             0.03s  
  â¨¯ it filters by file type                                              0.05s  
  â¨¯ it only returns current version documents                            0.03s  
  â¨¯ it combines multiple filters                                         0.06s  
  â¨¯ it paginates results                                                 0.13s  

   FAIL  Tests\Feature\DocumentArchiveRestApiTest
  âœ“ it lists all documents with authentication                           0.03s  
  âœ“ it requires authentication                                           0.02s  
  âœ“ it filters documents for campus admin                                0.05s  
  â¨¯ it shows specific document                                           0.03s  
  âœ“ it returns documents for specific candidate                          0.05s  
  âœ“ it returns document statistics                                       0.03s  
  â¨¯ it returns expiring documents                                        0.05s  
  âœ“ it returns expired documents                                         0.03s  
  âœ“ it searches documents                                                0.03s  
  â¨¯ it returns download information                                      0.03s  
  âœ“ it filters by document type                                          0.05s  
  âœ“ it filters by category                                               0.03s  
  âœ“ it filters by status                                                 0.03s  
  âœ“ it filters by candidate                                              0.03s  
  âœ“ it filters by date range                                             0.05s  
  â¨¯ it filters expiring soon documents                                   0.04s  
  âœ“ it validates search query minimum length                             0.03s  
  âœ“ it supports pagination                                               0.12s  
  â¨¯ it orders documents by latest                                        0.04s  

   FAIL  Tests\Feature\DocumentArchiveVersionComparisonTest
  â¨¯ it compares two document versions                                    0.04s  
  â¨¯ it detects changes between versions                                  0.07s  
  âœ“ it rejects comparison of unrelated documents                         0.03s  
  âœ“ it allows comparison when version1 is current document               0.03s  
  â¨¯ it formats file sizes correctly                                      0.04s  
  â¨¯ it shows uploader information                                        0.05s  
  âœ“ it validates required parameters                                     0.02s  
  âœ“ it validates version ids exist                                       0.02s  
  â¨¯ it compares expiry dates                                             0.05s  
  âœ“ unauthorized user cannot compare versions                            0.03s  
  â¨¯ it compares documents with null values                               0.03s  

   FAIL  Tests\Feature\LoadTest
  â¨¯ it handles concurrent batch enrollment                               0.07s  
  âœ“ it handles bulk candidate creation                                   0.09s  
  âœ“ it handles concurrent screening updates                              0.08s  
  âœ“ it handles bulk attendance recording                                 0.36s  
  â¨¯ it handles concurrent api requests                                   0.11s  
  â¨¯ it handles dashboard with large dataset                              0.41s  
  â¨¯ it handles report generation with large dataset                      0.08s  
  â¨¯ it handles search with large dataset                                 0.31s  
  â¨¯ it handles export with large dataset                                 0.30s  
  âœ“ it maintains data integrity under concurrent updates                 0.03s  
  âœ“ it handles batch status transition under load                        0.11s  
  âœ“ it handles memory efficiently with large queries                     1.11s  
  â¨¯ it handles duplicate check with large dataset                        0.60s  
  âœ“ stress test rapid candidate creation                                 0.14s  
  âœ“ stress test rapid status transitions                                 0.03s  

   FAIL  Tests\Feature\RegistrationApiTest
  âœ“ it uploads registration document                                     0.07s  
  âœ“ it validates document type                                           0.02s  
  âœ“ it accepts image documents                                           0.03s  
  â¨¯ it verifies document                                                 0.02s  
  â¨¯ it rejects document with reason                                      0.04s  
  âœ“ it returns registration status                                       0.02s  
  âœ“ it identifies missing requirements                                   0.02s  
  âœ“ it starts training for eligible candidate                            0.05s  
  â¨¯ it rejects training start without documents                          0.02s  
  âœ“ it rejects training start without next of kin                        0.02s  
  âœ“ it rejects training start without undertaking                        0.02s  
  â¨¯ it completes registration with valid documents                       0.04s  
  â¨¯ it blocks completion with expired documents                          0.03s  
  â¨¯ it blocks completion with pending documents                          0.03s  

   FAIL  Tests\Feature\RegistrationControllerTest
  âœ“ admin can view registration list                                     0.05s  
  âœ“ campus admin sees only their campus candidates                       0.03s  
  â¨¯ admin can view candidate registration details                        0.18s  
  âœ“ admin can upload document                                            0.03s  
  âœ“ document upload validates file type                                  0.05s  
  âœ“ document upload validates document type                              0.02s  
  âœ“ document upload validates file size                                  0.03s  
  â¨¯ admin can delete document                                            0.02s  
  â¨¯ campus admin cannot delete other campus document                     0.03s  
  â¨¯ admin can save next of kin                                           0.04s  
  âœ“ next of kin validates required fields                                0.02s  
  âœ“ next of kin validates cnic format                                    0.02s  
  âœ“ admin can save undertaking                                           0.03s  
  âœ“ undertaking validates type                                           0.04s  
  âœ“ registration fails without required documents                        0.02s  
  âœ“ registration fails without next of kin                               0.02s  
  âœ“ registration fails without undertaking                               0.02s  
  â¨¯ registration succeeds with all requirements                          0.04s  
  âœ“ registration fails with expired documents                            0.02s  
  â¨¯ admin can verify document                                            0.02s  
  â¨¯ regular user cannot verify document                                  0.02s  
  â¨¯ admin can reject document                                            0.04s  
  â¨¯ reject document requires reason                                      0.02s  
  âœ“ admin can view registration status                                   0.03s  
  â¨¯ status returns json when requested                                   0.02s  
  â¨¯ admin can start training for registered candidate                    0.04s  
  âœ“ start training fails for non registered candidate                    0.02s  
  â¨¯ start training validates batch exists                                0.02s  
  â¨¯ valid qr code shows verification result                              0.02s  
  â¨¯ invalid qr token returns error                                       0.05s  
  â¨¯ qr verification fails for nonexistent candidate                      0.02s  
  âœ“ unauthenticated user cannot access registration                      0.02s  

   FAIL  Tests\Feature\RemittanceAlertApiControllerTest
  â¨¯ api index returns paginated alerts                                   0.06s  
  â¨¯ api index filters by status                                          0.04s  
  â¨¯ api index filters by severity                                        0.03s  
  â¨¯ api index filters by alert type                                      0.04s  
  â¨¯ api show returns single alert                                        0.04s  
  â¨¯ api show marks alert as read                                         0.02s  
  âœ“ api show returns 404 for nonexistent alert                           0.02s  
  â¨¯ api unread count returns correct number                              0.03s  
  â¨¯ api unread count filters by candidate                                0.04s  
  â¨¯ api statistics returns comprehensive stats                           0.05s  
  â¨¯ api by candidate returns candidate alerts                            0.04s  
  â¨¯ api mark as read updates alert                                       0.02s  
  â¨¯ api resolve updates alert with notes                                 0.05s  
  â¨¯ api resolve requires resolution notes                                0.04s  
  â¨¯ api dismiss quickly resolves alert                                   0.02s  
  âœ“ api alerts require authentication                                    0.03s  
  â¨¯ api index defaults to unresolved alerts                              0.07s  
  â¨¯ api index can show all alerts                                        0.05s  

   FAIL  Tests\Feature\RemittanceApiControllerTest
  â¨¯ api index returns paginated remittances                              0.04s  
  â¨¯ api show returns single remittance                                   0.04s  
  â¨¯ api show returns 404 for nonexistent remittance                      0.02s  
  â¨¯ api by candidate returns candidate remittances                       0.03s  
  â¨¯ api store creates new remittance                                     0.02s  
  â¨¯ api store validates required fields                                  0.04s  
  â¨¯ api update modifies remittance                                       0.03s  
  âœ“ api destroy deletes remittance                                       0.02s  
  â¨¯ api search finds remittances by transaction reference                0.02s  
  â¨¯ api search finds remittances by amount range                         0.05s  
  â¨¯ api statistics returns overview                                      0.04s  
  â¨¯ api verify marks remittance as verified                              0.03s  
  â¨¯ api index supports filtering by candidate                            0.03s  
  â¨¯ api index supports filtering by status                               0.05s  
  âœ“ api requires authentication                                          0.02s  

   FAIL  Tests\Feature\RemittanceControllerTest
  â¨¯ remittances index loads successfully                                 0.03s  
  â¨¯ remittances create page loads                                        0.04s  
  â¨¯ can create remittance                                                0.02s  
  â¨¯ can view remittance details                                          0.02s  
  â¨¯ can edit remittance                                                  0.05s  
  â¨¯ can update remittance                                                0.02s  
  â¨¯ can delete remittance                                                0.03s  
  â¨¯ can verify remittance                                                0.05s  
  â¨¯ transaction reference must be unique                                 0.03s  
  â¨¯ amount must be positive                                              0.05s  
  â¨¯ required fields validation                                           0.06s  
  âœ“ unauthenticated user cannot access remittances                       0.08s  
  â¨¯ can filter remittances by candidate                                  0.03s  
  â¨¯ can filter remittances by status                                     0.03s  
  â¨¯ can filter remittances by year                                       0.04s  

   FAIL  Tests\Feature\RemittanceReportApiControllerTest
  â¨¯ api dashboard returns combined statistics                            0.04s  
  â¨¯ api monthly trends returns all months                                0.02s  
  â¨¯ api monthly trends defaults to current year                          0.04s  
  â¨¯ api purpose analysis returns distribution                            0.03s  
  â¨¯ api transfer methods returns analysis                                0.03s  
  â¨¯ api country analysis returns data                                    0.03s  
  â¨¯ api proof compliance returns detailed report                         0.06s  
  â¨¯ api beneficiary report returns analysis                              0.02s  
  â¨¯ api impact analytics returns comprehensive data                      0.03s  
  â¨¯ api top candidates returns ordered list                              0.04s  
  â¨¯ api top candidates respects limit parameter                          0.04s  
  âœ“ api reports require authentication                                   0.02s  
  â¨¯ api dashboard handles empty database                                 0.02s  

   PASS  Tests\Feature\ScreeningApiTest
  âœ“ it creates desk screening                                            0.07s  
  âœ“ it validates desk screening status                                   0.02s  
  âœ“ it creates call screening                                            0.02s  
  âœ“ it updates existing call screening                                   0.03s  
  âœ“ it enforces max call attempts                                        0.02s  
  âœ“ it creates physical screening                                        0.04s  
  âœ“ it returns screening progress                                        0.02s  
  âœ“ it uploads screening evidence                                        0.02s  
  âœ“ it rejects invalid file types for evidence                           0.02s  
  âœ“ it rejects oversized evidence files                                  0.04s  
  âœ“ it auto progresses candidate when all screenings pass                0.02s  
  âœ“ it rejects candidate on screening failure                            0.02s  
  âœ“ it requires authentication                                           0.02s  
  âœ“ it returns 404 for invalid candidate                                 0.04s  

   PASS  Tests\Feature\ScreeningControllerTest
  âœ“ user can view screening index                                        0.06s  
  âœ“ user can view create screening form                                  0.05s  
  âœ“ user can create screening record                                     0.02s  
  âœ“ user can view edit screening form                                    0.03s  
  âœ“ user can update screening record                                     0.02s  
  âœ“ screening requires candidate id                                      0.02s  
  âœ“ screening requires valid outcome                                     0.04s  
  âœ“ call duration must be positive                                       0.03s  
  âœ“ edit redirects if no screening exists                                0.02s  
  âœ“ user can log call for candidate                                      0.03s  
  âœ“ user can record screening outcome                                    0.05s  
  âœ“ failed screening updates candidate status to rejected                0.02s  
  âœ“ unauthenticated users cannot access screening                        0.02s  

   PASS  Tests\Feature\ScreeningRestApiTest
  âœ“ it lists all screenings with authentication                          0.05s  
  âœ“ it requires authentication for screening list                        0.03s  
  âœ“ it filters screenings by campus for campus admin                     0.03s  
  âœ“ it shows specific screening                                          0.03s  
  âœ“ it returns screenings by candidate                                   0.05s  
  âœ“ it returns screening statistics                                      0.21s  
  âœ“ it returns pending screenings                                        0.03s  
  âœ“ it creates screening record                                          0.03s  
  âœ“ it updates screening record                                          0.03s  
  âœ“ it validates required fields on create                               0.03s  
  âœ“ it filters screenings by status                                      0.03s  
  âœ“ it filters screenings by outcome                                     0.02s  
  âœ“ it filters screenings by date range                                  0.03s  
  âœ“ it supports pagination                                               0.15s  

   FAIL  Tests\Feature\TrainingApiTest
  â¨¯ it assigns candidates to batch                                       0.03s  
  â¨¯ it respects batch capacity                                           0.02s  
  â¨¯ it skips already assigned candidates                                 0.02s  
  â¨¯ it records attendance                                                0.02s  
  âœ“ it calculates attendance percentage                                  0.02s  
  â¨¯ it generates attendance report                                       0.02s  
  â¨¯ it records assessment                                                0.02s  
  â¨¯ it calculates average score                                          0.03s  
  â¨¯ it validates passing all assessments                                 0.02s  
  â¨¯ it generates assessment report                                       0.06s  
  â¨¯ it issues certificate                                                0.04s  
  â¨¯ it validates certificate requirements                                0.02s  
  â¨¯ it completes training                                                0.04s  
  â¨¯ it rejects completion without attendance                             0.04s  
  â¨¯ it rejects completion without final assessment                       0.04s  
  â¨¯ it returns batch performance                                         0.03s  

   FAIL  Tests\Feature\UserControllerTest
  â¨¯ admin can view users list                                            0.02s  
  â¨¯ admin can view create user form                                      0.02s  
  â¨¯ admin can create new user                                            0.03s  
  â¨¯ admin can view user details                                          0.02s  
  â¨¯ admin can update user                                                0.02s  
  â¨¯ admin can delete user                                                0.02s  
  âœ“ admin can view settings page                                         0.02s  
  â¨¯ admin can update settings                                            0.06s  
  â¨¯ admin can view audit logs                                            0.12s  
  â¨¯ email must be unique                                                 0.02s  
  â¨¯ password must be at least 8 characters                               0.02s  
  â¨¯ oep id can be assigned to user                                       0.02s  

   FAIL  Tests\Feature\ValidationApiTest
  â¨¯ it validates valid cnic format                                       0.03s  
  â¨¯ it rejects invalid cnic length                                       0.05s  
  â¨¯ it handles cnic with dashes                                          0.02s  
  â¨¯ it rejects non numeric cnic                                          0.04s  
  â¨¯ it validates pakistan phone 03xx format                              0.02s  
  â¨¯ it validates pakistan phone with plus92                              0.04s  
  â¨¯ it validates pakistan phone with 92                                  0.02s  
  â¨¯ it validates phone with dashes                                       0.04s  
  â¨¯ it rejects invalid phone format                                      0.03s  
  â¨¯ it rejects non pakistan phone                                        0.05s  
  â¨¯ it detects duplicate by phone                                        0.02s  
  â¨¯ it detects duplicate by email                                        0.04s  
  â¨¯ it detects duplicate by similar name                                 0.03s  
  â¨¯ it excludes specified candidate from duplicates                      0.04s  
  â¨¯ it returns empty when no duplicates                                  0.02s  
  â¨¯ it requires authentication for validation apis                       0.06s  
  â¨¯ it handles multiple duplicate types                                  0.03s  

   FAIL  Tests\Feature\VisaProcessApiControllerTest
  â¨¯ it returns paginated visa processes                                  0.08s  
  â¨¯ it filters by overall status                                         0.04s  
  â¨¯ it filters by status                                                 0.04s  
  âœ“ it returns single visa process                                       0.02s  
  âœ“ it returns 404 for nonexistent visa process                          0.02s  
  âœ“ it returns visa process by candidate                                 0.05s  
  â¨¯ it returns 404 for candidate without visa process                    0.02s  
  âœ“ it creates a visa process                                            0.02s  
  âœ“ it validates required fields                                         0.03s  
  âœ“ it prevents duplicate visa process                                   0.05s  
  âœ“ it updates visa process                                              0.03s  
  â¨¯ it validates stage prerequisites                                     0.02s  
  âœ“ it allows progression when prerequisites met                         0.02s  
  â¨¯ it returns visa statistics                                           0.08s  
  âœ“ unauthenticated user cannot access visa processes                    0.02s  

   FAIL  Tests\Feature\VisaProcessingControllerTest
  âœ“ super admin can view visa processing list                            0.04s  
  âœ“ campus admin only sees their campus candidates                       0.05s  
  âœ“ index filters by stage                                               0.03s  
  âœ“ admin can create visa process for eligible candidate                 0.02s  
  âœ“ create validates candidate exists                                    0.02s  
  â¨¯ admin can view visa process details                                  0.04s  
  âœ“ show redirects if no visa process                                    0.03s  
  â¨¯ admin can update interview status                                    0.11s  
  â¨¯ interview update validates required fields                           0.13s  
  â¨¯ interview status must be valid value                                 0.10s  
  â¨¯ admin can update trade test                                          0.13s  
  â¨¯ medical update requires takamol passed                               0.12s  
  â¨¯ medical update succeeds when prerequisites met                       0.13s  
  â¨¯ biometric requires medical cleared                                   0.12s  
  â¨¯ enumber requires biometrics completed                                0.14s  
  â¨¯ enumber validates format                                             0.09s  
  â¨¯ admin can update visa issuance                                       0.13s  
  â¨¯ visa number is required for issuance                                 0.12s  
  â¨¯ admin can upload travel plan                                         0.13s  
  â¨¯ travel plan validates file type                                      0.11s  
  â¨¯ admin can complete visa process                                      0.08s  
  â¨¯ admin can delete visa process                                        0.02s  
  â¨¯ admin can view visa timeline                                         0.84s  
  âœ“ timeline redirects if no visa process                                0.03s  
  â¨¯ admin can view overdue processes                                     0.02s  
  âœ“ admin can generate visa report                                       0.04s  
  âœ“ unauthenticated user cannot access visa processing                   0.02s  
  âœ“ regular user cannot access visa processing                           0.02s  
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\AuthorizationEdgeCasesTest > campus admin cannot accesâ€¦   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Unit/AuthorizationEdgeCasesTest.php:111
    107â–•         ]);
    108â–• 
    109â–•         $response = $this->actingAs($campusAdmin)->get("/batches/{$otherCampusBatch->id}");
    110â–• 
  âžœ 111â–•         $response->assertStatus(403);
    112â–•     }
    113â–• 
    114â–•     #[Test]
    115â–•     public function campus_admin_cannot_view_other_campus_complaints()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\AuthorizationEdgeCasesTest > instructor cannot accessâ€¦    
  Instructor should not access POST /bulk/delete
Failed asserting that false is true.

  at tests/Unit/AuthorizationEdgeCasesTest.php:232
    228â–•         ];
    229â–• 
    230â–•         foreach ($adminFunctions as [$method, $route]) {
    231â–•             $response = $this->actingAs($instructor)->{strtolower($method)}($route);
  âžœ 232â–•             $this->assertTrue(
    233â–•                 in_array($response->status(), [403, 404]),
    234â–•                 "Instructor should not access {$method} {$route}"
    235â–•             );
    236â–•         }

  1   tests/Unit/AuthorizationEdgeCasesTest.php:232

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\AuthorizationEdgeCasesTest > oep cannot access other oâ€¦   
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Error: Call to a member function count() on null in /home/iihsedup/oep.jaamiah.com/storage/framework/views/a91fc955955a6ccdaea035a0d00b7cb6.php:256
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#60 /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php(304): Illuminate\Foundation\Testing\TestCase->get()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Unit\AuthorizationEdgeCasesTest->oep_cannot_access_other_oep_remittances()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#71 {main}

Next Spatie\LaravelIgnition\Exceptions\ViewException: Call to a member function count() on null in /home/iihsedup/oep.jaamiah.com/resources/views/remittances/show.blade.php:257
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#60 /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php(304): Illuminate\Foundation\Testing\TestCase->get()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Unit\AuthorizationEdgeCasesTest->oep_cannot_access_other_oep_remittances()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#71 {main}

----------------------------------------------------------------------------------

Call to a member function count() on null

  at tests/Unit/AuthorizationEdgeCasesTest.php:306
    302â–•         ]);
    303â–• 
    304â–•         $response = $this->actingAs($oepUser)->get("/remittances/{$remittance->id}");
    305â–• 
  âžœ 306â–•         $response->assertStatus(403);
    307â–•     }
    308â–• 
    309â–•     // =========================================================================
    310â–•     // INACTIVE USER ACCESS

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\AuthorizationEdgeCasesTest > user cannot delete otherâ€¦    
  Failed asserting that false is true.

  at tests/Unit/AuthorizationEdgeCasesTest.php:435
    431â–•         $user2Token = $user2->createToken('test-token');
    432â–• 
    433â–•         $response = $this->actingAs($user1)->delete("/api/tokens/{$user2Token->accessToken->id}");
    434â–• 
  âžœ 435â–•         $this->assertTrue(in_array($response->status(), [403, 404]));
    436â–•     }
    437â–• 
    438â–•     // =========================================================================
    439â–•     // SUPER ADMIN EDGE CASES

  1   tests/Unit/AuthorizationEdgeCasesTest.php:435

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\AuthorizationEdgeCasesTest > super admin can access alâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Unit/AuthorizationEdgeCasesTest.php:450
    446â–•         $campuses = Campus::factory()->count(3)->create();
    447â–• 
    448â–•         foreach ($campuses as $campus) {
    449â–•             $response = $this->actingAs($superAdmin)->get("/campuses/{$campus->id}");
  âžœ 450â–•             $response->assertStatus(200);
    451â–•         }
    452â–•     }
    453â–• 
    454â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\AuthorizationEdgeCasesTest > only super admin can acceâ€¦   
  admin should not access system settings
Failed asserting that false is true.

  at tests/Unit/AuthorizationEdgeCasesTest.php:483
    479â–•             $user = User::factory()->create(['role' => $role]);
    480â–• 
    481â–•             $response = $this->actingAs($user)->get('/admin/settings');
    482â–• 
  âžœ 483â–•             $this->assertTrue(
    484â–•                 in_array($response->status(), [403, 404]),
    485â–•                 "{$role} should not access system settings"
    486â–•             );
    487â–•         }

  1   tests/Unit/AuthorizationEdgeCasesTest.php:483

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\DataValidationEdgeCasesTest > it accepts cnic with leaâ€¦   
  Failed asserting that false is true.

  at tests/Unit/DataValidationEdgeCasesTest.php:57
     53â–•             'trade_id' => $this->trade->id,
     54â–•         ]);
     55â–• 
     56â–•         // Should accept or reject based on validation rules
  âžœ  57â–•         $this->assertTrue(in_array($response->status(), [200, 201, 422]));
     58â–•     }
     59â–• 
     60â–•     #[Test]
     61â–•     public function it_rejects_cnic_with_all_zeros()

  1   tests/Unit/DataValidationEdgeCasesTest.php:57

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\DataValidationEdgeCasesTest > it accepts boundary ageâ€¦    
  Failed asserting that false is true.

  at tests/Unit/DataValidationEdgeCasesTest.php:220
    216â–•             'trade_id' => $this->trade->id,
    217â–•         ]);
    218â–• 
    219â–•         // Should accept at minimum age boundary
  âžœ 220â–•         $this->assertTrue(in_array($response->status(), [200, 201]));
    221â–•     }
    222â–• 
    223â–•     #[Test]
    224â–•     public function it_handles_leap_year_date_correctly()

  1   tests/Unit/DataValidationEdgeCasesTest.php:220

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\DataValidationEdgeCasesTest > it handles leap year datâ€¦   
  Failed asserting that false is true.

  at tests/Unit/DataValidationEdgeCasesTest.php:239
    235â–•             'campus_id' => $this->campus->id,
    236â–•             'trade_id' => $this->trade->id,
    237â–•         ]);
    238â–• 
  âžœ 239â–•         $this->assertTrue(in_array($response->status(), [200, 201]));
    240â–•     }
    241â–• 
    242â–•     // =========================================================================
    243â–•     // MAXIMUM FIELD LENGTHS

  1   tests/Unit/DataValidationEdgeCasesTest.php:239

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\DataValidationEdgeCasesTest > it accepts name at max lâ€¦   
  Failed asserting that false is true.

  at tests/Unit/DataValidationEdgeCasesTest.php:282
    278â–•             'campus_id' => $this->campus->id,
    279â–•             'trade_id' => $this->trade->id,
    280â–•         ]);
    281â–• 
  âžœ 282â–•         $this->assertTrue(in_array($response->status(), [200, 201]));
    283â–•     }
    284â–• 
    285â–•     #[Test]
    286â–•     public function it_rejects_address_exceeding_max_length()

  1   tests/Unit/DataValidationEdgeCasesTest.php:282

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\DataValidationEdgeCasesTest > it accepts valid pakistaâ€¦   
  Phone 03001234567 should be valid
Failed asserting that false is true.

  at tests/Unit/DataValidationEdgeCasesTest.php:347
    343â–•                 'campus_id' => $this->campus->id,
    344â–•                 'trade_id' => $this->trade->id,
    345â–•             ]);
    346â–• 
  âžœ 347â–•             $this->assertTrue(
    348â–•                 in_array($response->status(), [200, 201]),
    349â–•                 "Phone {$phone} should be valid"
    350â–•             );
    351â–•         }

  1   tests/Unit/DataValidationEdgeCasesTest.php:347

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\DataValidationEdgeCasesTest > it handles names with spâ€¦   
  Failed asserting that false is true.

  at tests/Unit/DataValidationEdgeCasesTest.php:453
    449â–•             'campus_id' => $this->campus->id,
    450â–•             'trade_id' => $this->trade->id,
    451â–•         ]);
    452â–• 
  âžœ 453â–•         $this->assertTrue(in_array($response->status(), [200, 201]));
    454â–•     }
    455â–• 
    456â–•     #[Test]
    457â–•     public function it_sanitizes_xss_in_text_fields()

  1   tests/Unit/DataValidationEdgeCasesTest.php:453

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\DataValidationEdgeCasesTest > it handles unicode charaâ€¦   
  Failed asserting that false is true.

  at tests/Unit/DataValidationEdgeCasesTest.php:494
    490â–•             'campus_id' => $this->campus->id,
    491â–•             'trade_id' => $this->trade->id,
    492â–•         ]);
    493â–• 
  âžœ 494â–•         $this->assertTrue(in_array($response->status(), [200, 201]));
    495â–•     }
    496â–• 
    497â–•     // =========================================================================
    498â–•     // REQUIRED FIELD EDGE CASES

  1   tests/Unit/DataValidationEdgeCasesTest.php:494

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\EnumDatabaseConsistencyTest > candidate status enum vaâ€¦   
  Failed asserting that two arrays are equal.
   Array (
  -    0 => 'listed'
  -    1 => 'pre_departure_docs'
  -    2 => 'screening'
  -    3 => 'screened'
  -    4 => 'registered'
  -    5 => 'training'
  -    6 => 'training_completed'
  -    7 => 'visa_process'
  -    8 => 'visa_approved'
  -    9 => 'departure_processing'
  -    10 => 'ready_to_depart'
  -    11 => 'departed'
  -    12 => 'post_departure'
  -    13 => 'completed'
  -    14 => 'deferred'
  -    15 => 'rejected'
  -    16 => 'withdrawn'
  +    0 => 'new'
  +    1 => 'listed'
  +    2 => 'pre_departure_docs'
  +    3 => 'screening'
  +    4 => 'screened'
  +    5 => 'registered'
  +    6 => 'training'
  +    7 => 'training_completed'
  +    8 => 'visa_process'
  +    9 => 'visa_approved'
  +    10 => 'departure_processing'
  +    11 => 'ready_to_depart'
  +    12 => 'departed'
  +    13 => 'post_departure'
  +    14 => 'completed'
  +    15 => 'deferred'
  +    16 => 'rejected'
  +    17 => 'withdrawn'
   )
  

  at tests/Unit/EnumDatabaseConsistencyTest.php:46
     42â–•         ];
     43â–• 
     44â–•         $enumValues = array_column(CandidateStatus::cases(), 'value');
     45â–• 
  âžœ  46â–•         $this->assertEquals($expectedValues, $enumValues);
     47â–•     }
     48â–• 
     49â–•     #[Test]
     50â–•     public function candidate_status_visa_process_is_correctly_named(): void

  1   tests/Unit/EnumDatabaseConsistencyTest.php:46

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\GlobalSearchServiceTest > it sâ€¦  RouteNotFoundException   
  Route [trades.show] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   app/Services/GlobalSearchService.php:170
      [2m+3 vendor frames [22m
  7   app/Services/GlobalSearchService.php:165

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\GlobalSearchServiceTest > it sâ€¦  RouteNotFoundException   
  Route [campuses.show] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   app/Services/GlobalSearchService.php:195
      [2m+3 vendor frames [22m
  7   app/Services/GlobalSearchService.php:190

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\GlobalSearchServiceTest > campâ€¦  RouteNotFoundException   
  Route [campuses.show] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   app/Services/GlobalSearchService.php:195
      [2m+3 vendor frames [22m
  7   app/Services/GlobalSearchService.php:190

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\GlobalSearchServiceTest > it sâ€¦  RouteNotFoundException   
  Route [oeps.show] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   app/Services/GlobalSearchService.php:213
      [2m+3 vendor frames [22m
  7   app/Services/GlobalSearchService.php:208

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\GlobalSearchServiceTest > it sâ€¦  RouteNotFoundException   
  Route [trades.show] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   app/Services/GlobalSearchService.php:170
      [2m+3 vendor frames [22m
  7   app/Services/GlobalSearchService.php:165

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittanceAnalyticsServiceTest > get dashboard stats râ€¦   
  Failed asserting that 0 matches expected 5.

  at tests/Unit/RemittanceAnalyticsServiceTest.php:53
     49â–•         $this->assertArrayHasKey('current_year_count', $stats);
     50â–•         $this->assertArrayHasKey('status_breakdown', $stats);
     51â–•         $this->assertArrayHasKey('proof_compliance_rate', $stats);
     52â–• 
  âžœ  53â–•         $this->assertEquals(5, $stats['total_remittances']);
     54â–•         $this->assertEquals(5, $stats['current_year_count']);
     55â–•         $this->assertEquals(5, $stats['current_month_count']);
     56â–•         $this->assertEquals(1, $stats['total_candidates']);
     57â–•     }

  1   tests/Unit/RemittanceAnalyticsServiceTest.php:53

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittanceAnalyticsServiceTest > get monthly trends reâ€¦   
  Failed asserting that 0 matches expected 1.

  at tests/Unit/RemittanceAnalyticsServiceTest.php:93
     89â–•         $this->assertIsArray($trends);
     90â–•         $this->assertCount(12, $trends); // Should have all 12 months
     91â–• 
     92â–•         // Check January has data
  âžœ  93â–•         $this->assertEquals(1, $trends[1]['count']);
     94â–•         $this->assertEquals('January', $trends[1]['month']);
     95â–• 
     96â–•         // Check June has data
     97â–•         $this->assertEquals(1, $trends[6]['count']);

  1   tests/Unit/RemittanceAnalyticsServiceTest.php:93

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittanceAnalyticsServiceTest > get purpose analysisâ€¦    
  Failed asserting that an array is not empty.

  at tests/Unit/RemittanceAnalyticsServiceTest.php:131
    127â–• 
    128â–•         $analysis = $this->service->getPurposeAnalysis();
    129â–• 
    130â–•         $this->assertIsArray($analysis);
  âžœ 131â–•         $this->assertNotEmpty($analysis);
    132â–• 
    133â–•         // Find family_support in results
    134â–•         $familySupport = collect($analysis)->firstWhere('purpose', 'family_support');
    135â–•         $this->assertNotNull($familySupport);

  1   tests/Unit/RemittanceAnalyticsServiceTest.php:131

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittanceAnalyticsServiceTest > get transfer method aâ€¦   
  Failed asserting that an array is not empty.

  at tests/Unit/RemittanceAnalyticsServiceTest.php:169
    165â–• 
    166â–•         $analysis = $this->service->getTransferMethodAnalysis();
    167â–• 
    168â–•         $this->assertIsArray($analysis);
  âžœ 169â–•         $this->assertNotEmpty($analysis);
    170â–• 
    171â–•         $bankTransfer = collect($analysis)->firstWhere('method', 'bank_transfer');
    172â–•         $this->assertNotNull($bankTransfer);
    173â–•         $this->assertEquals(4, $bankTransfer['count']);

  1   tests/Unit/RemittanceAnalyticsServiceTest.php:169

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittanceAnalyticsServiceTest > get proof complianceâ€¦    
  Failed asserting that 0 matches expected 10.

  at tests/Unit/RemittanceAnalyticsServiceTest.php:214
    210â–•         $this->assertArrayHasKey('overall', $report);
    211â–•         $this->assertArrayHasKey('by_purpose', $report);
    212â–•         $this->assertArrayHasKey('by_month', $report);
    213â–• 
  âžœ 214â–•         $this->assertEquals(10, $report['overall']['total_remittances']);
    215â–•         $this->assertEquals(8, $report['overall']['with_proof']);
    216â–•         $this->assertEquals(2, $report['overall']['without_proof']);
    217â–•         $this->assertEquals(80.0, $report['overall']['compliance_rate']);
    218â–•     }

  1   tests/Unit/RemittanceAnalyticsServiceTest.php:214

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittanceAnalyticsServiceTest > get tâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such column: candidates.full_name (Connection: sqlite, SQL: select "candidates"."id", "candidates"."full_name", "candidates"."cnic", count(remittances.id) as remittance_count, sum(remittances.amount) as total_amount, avg(remittances.amount) as avg_amount from "remittances" inner join "candidates" on "remittances"."candidate_id" = "candidates"."id" where 0 = 1 and "remittances"."deleted_at" is null group by "candidates"."id", "candidates"."full_name", "candidates"."cnic" order by "total_amount" desc limit 5)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+12 vendor frames [22m
  13  app/Services/RemittanceAnalyticsService.php:608
  14  tests/Unit/RemittanceAnalyticsServiceTest.php:244

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittanceAnalyticsServiceTest > get remittances by daâ€¦   
  Failed asserting that actual size 0 matches expected size 3.

  at tests/Unit/RemittanceAnalyticsServiceTest.php:276
    272â–•         ]);
    273â–• 
    274â–•         $remittances = $this->service->getRemittancesByDateRange('2025-06-01', '2025-06-30');
    275â–• 
  âžœ 276â–•         $this->assertCount(3, $remittances);
    277â–•     }
    278â–• 
    279â–•     public function test_dashboard_stats_handles_empty_database()
    280â–•     {

  1   tests/Unit/RemittanceAnalyticsServiceTest.php:276

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > oep can viewâ€¦   QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-4536-skaq, receipts/8cac221c-6106-3ff5-bd75-e499f21152a6.pdf, 1983-05-25, 2026-01-26 13:29:20, 2026-01-26 13:29:20))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+18 vendor frames [22m
  19  tests/Unit/RemittancePoliciesTest.php:68

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > oep cannot viâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-8252-cjhm, receipts/827fdc4a-eb76-3ab8-8884-36c772aac2ca.pdf, 1983-10-15, 2026-01-26 13:29:21, 2026-01-26 13:29:21))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+18 vendor frames [22m
  19  tests/Unit/RemittancePoliciesTest.php:85

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > super admin aâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-7322-gngk, receipts/aee7b0b9-dabb-3042-bd13-8710e71ff311.pdf, 1991-05-08, 2026-01-26 13:29:21, 2026-01-26 13:29:21))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+17 vendor frames [22m
  18  tests/Unit/RemittancePoliciesTest.php:96

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > only super adâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-5046-ytjd, receipts/a72c0d8b-6f12-3826-bc7d-44676bd97fb6.pdf, 2005-12-09, 2026-01-26 13:29:21, 2026-01-26 13:29:21))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+17 vendor frames [22m
  18  tests/Unit/RemittancePoliciesTest.php:108

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > user who canâ€¦   QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-4698-radq, receipts/60829b87-3851-3507-bdfe-8f470bc65346.pdf, 2007-12-28, 2026-01-26 13:29:21, 2026-01-26 13:29:21))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+17 vendor frames [22m
  18  tests/Unit/RemittancePoliciesTest.php:119

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > oep can viewâ€¦   QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category (Connection: sqlite, SQL: insert into "remittance_usage_breakdown" ("remittance_id", "category", "amount", "description", "updated_at", "created_at") values (1, other, 2187.11, Est quisquam ut voluptatum animi maxime non., 2026-01-26 13:29:21, 2026-01-26 13:29:21))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+18 vendor frames [22m
  19  tests/Unit/RemittancePoliciesTest.php:161

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > super admin aâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category (Connection: sqlite, SQL: insert into "remittance_usage_breakdown" ("remittance_id", "category", "amount", "description", "updated_at", "created_at") values (1, business, 5416.17, Eveniet eum possimus omnis debitis molestias rerum eveniet soluta., 2026-01-26 13:29:21, 2026-01-26 13:29:21))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+17 vendor frames [22m
  18  tests/Unit/RemittancePoliciesTest.php:172

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\RemittancePoliciesTest > only super adâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category (Connection: sqlite, SQL: insert into "remittance_usage_breakdown" ("remittance_id", "category", "amount", "description", "updated_at", "created_at") values (1, healthcare, 233, At inventore aperiam quidem qui., 2026-01-26 13:29:21, 2026-01-26 13:29:21))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+17 vendor frames [22m
  18  tests/Unit/RemittancePoliciesTest.php:184

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it generates caâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+12 vendor frames [22m
  13  app/Services/ReportingService.php:322
  14  app/Services/ReportingService.php:233

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it filters pipeâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+12 vendor frames [22m
  13  app/Services/ReportingService.php:322
  14  app/Services/ReportingService.php:233

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it calculates câ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+12 vendor frames [22m
  13  app/Services/ReportingService.php:322
  14  app/Services/ReportingService.php:233

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it geneâ€¦  BadMethodCallException   
  Call to undefined method App\Models\Oep::visaProcesses()

  at vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
     63â–•      * @throws \BadMethodCallException
     64â–•      */
     65â–•     protected static function throwBadMethodCallException($method)
     66â–•     {
  âžœ  67â–•         throw new BadMethodCallException(sprintf(
     68â–•             'Call to undefined method %s::%s()', static::class, $method
     69â–•         ));
     70â–•     }
     71â–• }

      [2m+8 vendor frames [22m
  9   app/Services/ReportingService.php:676
  10  app/Services/ReportingService.php:587

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it calcâ€¦  BadMethodCallException   
  Call to undefined method App\Models\Oep::visaProcesses()

  at vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
     63â–•      * @throws \BadMethodCallException
     64â–•      */
     65â–•     protected static function throwBadMethodCallException($method)
     66â–•     {
  âžœ  67â–•         throw new BadMethodCallException(sprintf(
     68â–•             'Call to undefined method %s::%s()', static::class, $method
     69â–•         ));
     70â–•     }
     71â–• }

      [2m+8 vendor frames [22m
  9   app/Services/ReportingService.php:676
  10  app/Services/ReportingService.php:587

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it calculates departure compliaâ€¦   
  Failed asserting that 0 matches expected 1.

  at tests/Unit/ReportingServiceTest.php:240
    236â–• 
    237â–•         $report = $this->service->getComplianceReport();
    238â–• 
    239â–•         $this->assertEquals(2, $report['departure_compliance']['total_departures']);
  âžœ 240â–•         $this->assertEquals(1, $report['departure_compliance']['compliant']);
    241â–•         $this->assertEquals(1, $report['departure_compliance']['non_compliant']);
    242â–•     }
    243â–• 
    244â–•     #[Test]

  1   tests/Unit/ReportingServiceTest.php:240

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it caches reporâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+12 vendor frames [22m
  13  app/Services/ReportingService.php:322
  14  app/Services/ReportingService.php:233

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\ReportingServiceTest > it canâ€¦   BadMethodCallException   
  This cache store does not support tagging.

  at vendor/laravel/framework/src/Illuminate/Cache/Repository.php:592
    588â–•      */
    589â–•     public function tags($names)
    590â–•     {
    591â–•         if (! $this->supportsTags()) {
  âžœ 592â–•             throw new BadMethodCallException('This cache store does not support tagging.');
    593â–•         }
    594â–• 
    595â–•         $cache = $this->store->tags(is_array($names) ? $names : func_get_args());
    596â–•

      [2m+3 vendor frames [22m
  4   app/Services/ReportingService.php:1062
  5   tests/Unit/ReportingServiceTest.php:458

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it blocâ€¦  ErrorException   
  Trying to access array offset on value of type bool

  at tests/Unit/StateTransitionEdgeCasesTest.php:60
     56â–•         ]);
     57â–• 
     58â–•         $result = $candidate->canTransitionTo('training');
     59â–• 
  âžœ  60â–•         $this->assertFalse($result['can_transition']);
     61â–•         $this->assertNotEmpty($result['issues']);
     62â–•     }
     63â–• 
     64â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it blocâ€¦  ErrorException   
  Trying to access array offset on value of type bool

  at tests/Unit/StateTransitionEdgeCasesTest.php:75
     71â–•         ]);
     72â–• 
     73â–•         $result = $candidate->canTransitionTo('departed');
     74â–• 
  âžœ  75â–•         $this->assertFalse($result['can_transition']);
     76â–•     }
     77â–• 
     78â–•     #[Test]
     79â–•     public function it_blocks_transition_from_departed_to_any_status()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it blocâ€¦  ErrorException   
  Trying to access array offset on value of type bool

  at tests/Unit/StateTransitionEdgeCasesTest.php:91
     87â–•         $statuses = ['new', 'screening', 'registered', 'training', 'visa_process', 'ready'];
     88â–• 
     89â–•         foreach ($statuses as $status) {
     90â–•             $result = $candidate->canTransitionTo($status);
  âžœ  91â–•             $this->assertFalse($result['can_transition'], "Should not transition from departed to {$status}");
     92â–•         }
     93â–•     }
     94â–• 
     95â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it blocâ€¦  ErrorException   
  Trying to access array offset on value of type bool

  at tests/Unit/StateTransitionEdgeCasesTest.php:106
    102â–•         ]);
    103â–• 
    104â–•         $result = $candidate->canTransitionTo('screening');
    105â–• 
  âžœ 106â–•         $this->assertFalse($result['can_transition']);
    107â–•     }
    108â–• 
    109â–•     #[Test]
    110â–•     public function it_blocks_transition_to_visa_process_without_training_completion()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it blocks transition toâ€¦   
  Failed asserting that an array contains 'Training not completed'.

  at tests/Unit/StateTransitionEdgeCasesTest.php:123
    119â–• 
    120â–•         $result = $candidate->canTransitionToVisaProcess();
    121â–• 
    122â–•         $this->assertFalse($result['can_transition']);
  âžœ 123â–•         $this->assertContains('Training not completed', $result['issues']);
    124â–•     }
    125â–• 
    126â–•     #[Test]
    127â–•     public function it_blocks_transition_to_ready_without_visa_issued()

  1   tests/Unit/StateTransitionEdgeCasesTest.php:123

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest >â€¦  BadMethodCallException   
  Call to undefined method App\Models\Candidate::hasCompleteDocuments()

  at vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
     63â–•      * @throws \BadMethodCallException
     64â–•      */
     65â–•     protected static function throwBadMethodCallException($method)
     66â–•     {
  âžœ  67â–•         throw new BadMethodCallException(sprintf(
     68â–•             'Call to undefined method %s::%s()', static::class, $method
     69â–•         ));
     70â–•     }
     71â–• }

      [2m+3 vendor frames [22m
  4   tests/Unit/StateTransitionEdgeCasesTest.php:242

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it blocâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 table visa_processes has no column named trade_test_passed (Connection: sqlite, SQL: insert into "visa_processes" ("candidate_id", "interview_date", "interview_status", "interview_completed", "interview_remarks", "trade_test_date", "trade_test_status", "trade_test_completed", "trade_test_remarks", "takamol_date", "takamol_status", "medical_date", "medical_status", "medical_completed", "enumber", "biometric_date", "etimad_appointment_id", "biometric_status", "biometric_completed", "visa_date", "visa_number", "visa_status", "visa_issued", "ptn_number", "ticket_uploaded", "ticket_date", "ticket_path", "travel_plan_path", "overall_status", "remarks", "trade_test_passed", "medical_passed", "updated_at", "created_at") values (1, ?, passed, 0, ?, ?, ?, 0, ?, ?, ?, 2026-01-09 20:36:06, pending, 0, E69642435, 2026-01-22 16:04:50, ETIMAD262244, ?, 0, 2026-01-17 13:57:23, ?, issued, 0, PTN14586208, 0, 2026-02-25 05:16:59, /tmp/faker6yWvgZ, ?, in_progress, Consequuntur cupiditate sit quis. Eos fuga molestias consequatur cupiditate veniam possimus odit. Repellat reiciendis eum rerum rerum quaerat et praesentium molestias. Ducimus labore mollitia debitis quia., 0, 0, 2026-01-26 13:29:22, 2026-01-26 13:29:22))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+18 vendor frames [22m
  19  tests/Unit/StateTransitionEdgeCasesTest.php:271

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it validates screeningâ€¦    
  Failed asserting that true is false.

  at tests/Unit/StateTransitionEdgeCasesTest.php:299
    295â–• 
    296â–•         // Try to record physical screening without desk/call
    297â–•         $result = $candidate->canRecordScreening('physical');
    298â–• 
  âžœ 299â–•         $this->assertFalse($result);
    300â–•     }
    301â–• 
    302â–•     #[Test]
    303â–•     public function it_validates_visa_stage_prerequisite_chain()

  1   tests/Unit/StateTransitionEdgeCasesTest.php:299

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest >â€¦  BadMethodCallException   
  Call to undefined method App\Models\VisaProcess::canRecordMedical()

  at vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
     63â–•      * @throws \BadMethodCallException
     64â–•      */
     65â–•     protected static function throwBadMethodCallException($method)
     66â–•     {
  âžœ  67â–•         throw new BadMethodCallException(sprintf(
     68â–•             'Call to undefined method %s::%s()', static::class, $method
     69â–•         ));
     70â–•     }
     71â–• }

      [2m+3 vendor frames [22m
  4   tests/Unit/StateTransitionEdgeCasesTest.php:317

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\StateTransitionEdgeCasesTest > it allows reactivationâ€¦    
  Failed asserting that false is true.

  at tests/Unit/StateTransitionEdgeCasesTest.php:411
    407â–•         ]);
    408â–• 
    409â–•         $result = $candidate->canReactivate('Management approval received');
    410â–• 
  âžœ 411â–•         $this->assertTrue($result);
    412â–•     }
    413â–• 
    414â–•     #[Test]
    415â–•     public function it_blocks_reactivation_without_reason()

  1   tests/Unit/StateTransitionEdgeCasesTest.php:411

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\SystemPoliciesTest > campus admin canâ€¦   QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: equipment_usage_logs.usage_type (Connection: sqlite, SQL: insert into "equipment_usage_logs" ("equipment_id", "user_id", "start_time", "end_time", "notes", "hours_used", "status", "updated_at", "created_at") values (1, 2, 2026-01-17 17:07:34, 2026-01-17 18:07:34, Voluptatum et aliquam vel repudiandae recusandae iusto eligendi quis. Ut tempora nam dolores aspernatur. Sit modi a voluptas nihil modi pariatur. Saepe omnis dolores repellendus ratione et dicta necessitatibus., 1, completed, 2026-01-26 13:29:23, 2026-01-26 13:29:23))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+18 vendor frames [22m
  19  tests/Unit/SystemPoliciesTest.php:256

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\SystemPoliciesTest > only super adminâ€¦   QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: equipment_usage_logs.usage_type (Connection: sqlite, SQL: insert into "equipment_usage_logs" ("equipment_id", "user_id", "start_time", "end_time", "notes", "hours_used", "status", "updated_at", "created_at") values (1, 3, 2026-01-01 00:08:36, 2026-01-01 08:08:36, Voluptas rerum corrupti ullam et unde molestiae placeat totam. Debitis quia qui ut molestias. Nesciunt corrupti dolor eos a ab aut. Asperiores officiis qui est consequatur., 8, completed, 2026-01-26 13:29:23, 2026-01-26 13:29:23))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+17 vendor frames [22m
  18  tests/Unit/SystemPoliciesTest.php:276

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Unit\WASLv3EnumsTest > candidate status enum has 17 statuseâ€¦   
  Failed asserting that actual size 18 matches expected size 17.

  at tests/Unit/WASLv3EnumsTest.php:181
    177â–•     {
    178â–•         $cases = CandidateStatus::cases();
    179â–• 
    180â–•         // 14 active + 3 terminal = 17 total
  âžœ 181â–•         $this->assertCount(17, $cases);
    182â–•     }
    183â–• 
    184â–•     #[Test]
    185â–•     public function candidate_status_has_active_statuses()

  1   tests/Unit/WASLv3EnumsTest.php:181

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it returns paginated batchâ€¦   
  Failed asserting that an array has the key 'data'.

  at tests/Feature/BatchApiControllerTest.php:48
     44â–• 
     45â–•         $response = $this->getJson('/api/v1/batches');
     46â–• 
     47â–•         $response->assertStatus(200)
  âžœ  48â–•             ->assertJsonStructure([
     49â–•                 'success',
     50â–•                 'data' => [
     51â–•                     'data' => [
     52â–•                         '*' => ['id', 'batch_code', 'name', 'capacity', 'status']

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it filters batcâ€¦  TypeError   
  PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 73

  at tests/Feature/BatchApiControllerTest.php:73
     69â–•         $response->assertStatus(200)
     70â–•             ->assertJsonPath('success', true);
     71â–• 
     72â–•         $data = $response->json('data.data');
  âžœ  73â–•         $this->assertCount(5, $data);
     74â–•     }
     75â–• 
     76â–•     #[Test]
     77â–•     public function it_filters_batches_by_campus()

  1   tests/Feature/BatchApiControllerTest.php:73

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it filters batcâ€¦  TypeError   
  PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 86

  at tests/Feature/BatchApiControllerTest.php:86
     82â–•         $response = $this->getJson("/api/v1/batches?campus_id={$this->campus->id}");
     83â–• 
     84â–•         $response->assertStatus(200);
     85â–•         $data = $response->json('data.data');
  âžœ  86â–•         $this->assertCount(4, $data);
     87â–•     }
     88â–• 
     89â–•     #[Test]
     90â–•     public function it_filters_batches_by_trade()

  1   tests/Feature/BatchApiControllerTest.php:86

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it filters batcâ€¦  TypeError   
  PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 99

  at tests/Feature/BatchApiControllerTest.php:99
     95â–•         $response = $this->getJson("/api/v1/batches?trade_id={$this->trade->id}");
     96â–• 
     97â–•         $response->assertStatus(200);
     98â–•         $data = $response->json('data.data');
  âžœ  99â–•         $this->assertCount(6, $data);
    100â–•     }
    101â–• 
    102â–•     #[Test]
    103â–•     public function it_searches_batches()

  1   tests/Feature/BatchApiControllerTest.php:99

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it searches batâ€¦  TypeError   
  PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 113

  at tests/Feature/BatchApiControllerTest.php:113
    109â–•         $response = $this->getJson('/api/v1/batches?search=BATCH-2025');
    110â–• 
    111â–•         $response->assertStatus(200);
    112â–•         $data = $response->json('data.data');
  âžœ 113â–•         $this->assertCount(2, $data);
    114â–•     }
    115â–• 
    116â–•     #[Test]
    117â–•     public function it_filters_available_batches_only()

  1   tests/Feature/BatchApiControllerTest.php:113

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it filters avaiâ€¦  TypeError   
  PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 129

  at tests/Feature/BatchApiControllerTest.php:129
    125â–•         $response = $this->getJson('/api/v1/batches?available=1');
    126â–• 
    127â–•         $response->assertStatus(200);
    128â–•         $data = $response->json('data.data');
  âžœ 129â–•         $this->assertCount(2, $data);
    130â–•     }
    131â–• 
    132â–•     // =========================================================================
    133â–•     // SHOW

  1   tests/Feature/BatchApiControllerTest.php:129

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it validates required fielâ€¦   
  Failed to find a validation error in the response for key: 'batch_code'

Response has the following JSON validation errors:

{
    "name": [
        "The name field is required."
    ],
    "campus_id": [
        "The campus id field is required."
    ],
    "trade_id": [
        "The trade id field is required."
    ],
    "start_date": [
        "The start date field is required."
    ],
    "end_date": [
        "The end date field is required."
    ],
    "capacity": [
        "The capacity field is required."
    ],
    "status": [
        "The status field is required."
    ]
}

Failed asserting that an array has the key 'batch_code'.

The following errors occurred during the last request:

{
    "success": false,
    "errors": {
        "name": [
            "The name field is required."
        ],
        "campus_id": [
            "The campus id field is required."
        ],
        "trade_id": [
            "The trade id field is required."
        ],
        "start_date": [
            "The start date field is required."
        ],
        "end_date": [
            "The end date field is required."
        ],
        "capacity": [
            "The capacity field is required."
        ],
        "status": [
            "The status field is required."
        ]
    }
}

  at tests/Feature/BatchApiControllerTest.php:202
    198â–•     {
    199â–•         $response = $this->postJson('/api/v1/batches', []);
    200â–• 
    201â–•         $response->assertStatus(422)
  âžœ 202â–•             ->assertJsonValidationErrors([
    203â–•                 'batch_code', 'campus_id', 'trade_id',
    204â–•                 'start_date', 'end_date', 'capacity', 'status'
    205â–•             ]);
    206â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it prevents deletion of baâ€¦   
  Expected response status code [422] but received 403.
Failed asserting that 403 is identical to 422.

  at tests/Feature/BatchApiControllerTest.php:292
    288â–•         Candidate::factory()->count(5)->create(['batch_id' => $batch->id]);
    289â–• 
    290â–•         $response = $this->deleteJson("/api/v1/batches/{$batch->id}");
    291â–• 
  âžœ 292â–•         $response->assertStatus(422)
    293â–•             ->assertJsonPath('success', false);
    294â–• 
    295â–•         $this->assertDatabaseHas('batches', ['id' => $batch->id]);
    296â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it bulk assigns candidatesâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

  at tests/Feature/BatchApiControllerTest.php:374
    370â–•             'batch_id' => $batch->id,
    371â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
    372â–•         ]);
    373â–• 
  âžœ 374â–•         $response->assertStatus(200)
    375â–•             ->assertJsonPath('success', true);
    376â–• 
    377â–•         foreach ($candidates as $candidate) {
    378â–•             $this->assertDatabaseHas('candidates', [

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it returns batches by campâ€¦   
  Failed asserting that actual size 6 matches expected size 4.

  at tests/Feature/BatchApiControllerTest.php:489
    485â–•         $response = $this->getJson("/api/v1/batches/by-campus/{$this->campus->id}");
    486â–• 
    487â–•         $response->assertStatus(200);
    488â–•         $data = $response->json('data');
  âžœ 489â–•         $this->assertCount(4, $data);
    490â–• 
    491â–•         foreach ($data as $batch) {
    492â–•             $this->assertEquals($this->campus->id, $batch['campus_id']);
    493â–•         }

  1   tests/Feature/BatchApiControllerTest.php:489

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > it requires authentication    
  Expected response status code [401] but received 200.
Failed asserting that 200 is identical to 401.

  at tests/Feature/BatchApiControllerTest.php:508
    504â–•         $this->user->tokens()->delete(); // Remove token
    505â–• 
    506â–•         $response = $this->getJson('/api/v1/batches');
    507â–• 
  âžœ 508â–•         $response->assertStatus(401);
    509â–•     }
    510â–• 
    511â–•     #[Test]
    512â–•     public function campus_admin_only_sees_their_batches()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchApiControllerTest > campus admin onâ€¦  TypeError   
  PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 528

  at tests/Feature/BatchApiControllerTest.php:528
    524â–•         $response = $this->getJson('/api/v1/batches');
    525â–• 
    526â–•         $response->assertStatus(200);
    527â–•         $data = $response->json('data.data');
  âžœ 528â–•         $this->assertCount(3, $data);
    529â–•     }
    530â–• }
    531â–•

  1   tests/Feature/BatchApiControllerTest.php:528

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchControllerTest > campus admin only sees theirâ€¦    
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/BatchControllerTest.php:70
     66â–• 
     67â–•         $response = $this->actingAs($this->campusAdmin)
     68â–•             ->get(route('admin.batches.index'));
     69â–• 
  âžœ  70â–•         $response->assertStatus(200);
     71â–•         $batches = $response->viewData('batches');
     72â–•         $this->assertCount(3, $batches);
     73â–•     }
     74â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchControllerTest > batch creation requires validâ€¦   
  Session missing error: batch_code
Failed asserting that false is true.

The following errors occurred during the last request:

The name field is required.
The campus id field is required.
The trade id field is required.
The start date field is required.
The end date field is required.
The capacity field is required.
The status field is required.

  at tests/Feature/BatchControllerTest.php:151
    147â–•     {
    148â–•         $response = $this->actingAs($this->admin)
    149â–•             ->post(route('admin.batches.store'), []);
    150â–• 
  âžœ 151â–•         $response->assertSessionHasErrors(['batch_code', 'campus_id', 'trade_id', 'start_date', 'end_date', 'capacity', 'status']);
    152â–•     }
    153â–• 
    154â–•     #[Test]
    155â–•     public function batch_code_must_be_unique()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchControllerTest > cannot delete batch with candâ€¦   
  Session is missing expected key [error].
Failed asserting that false is true.

  at tests/Feature/BatchControllerTest.php:314
    310â–• 
    311â–•         $response = $this->actingAs($this->admin)
    312â–•             ->delete(route('admin.batches.destroy', $batch));
    313â–• 
  âžœ 314â–•         $response->assertSessionHas('error');
    315â–•         $this->assertDatabaseHas('batches', ['id' => $batch->id]);
    316â–•     }
    317â–• 
    318â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchControllerTest > admin can view batch candidatâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Symfony\Component\Routing\Exception\RouteNotFoundException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/131c60cf46457cc35796e36255dcff8c.php(150): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(329): Illuminate\Foundation\Testing\TestCase->get()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->admin_can_view_batch_candidates()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

Next Spatie\LaravelIgnition\Exceptions\ViewException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/resources/views/admin/batches/candidates.blade.php(148): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(329): Illuminate\Foundation\Testing\TestCase->get()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->admin_can_view_batch_candidates()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

----------------------------------------------------------------------------------

Route [admin.candidates.show] not defined.

  at tests/Feature/BatchControllerTest.php:331
    327â–• 
    328â–•         $response = $this->actingAs($this->admin)
    329â–•             ->get(route('admin.batches.candidates', $batch));
    330â–• 
  âžœ 331â–•         $response->assertStatus(200)
    332â–•             ->assertViewIs('admin.batches.candidates')
    333â–•             ->assertViewHas('batch', $batch);
    334â–•     }
    335â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchControllerTest > batch candidates can be filteâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Symfony\Component\Routing\Exception\RouteNotFoundException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/131c60cf46457cc35796e36255dcff8c.php(150): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(350): Illuminate\Foundation\Testing\TestCase->get()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->batch_candidates_can_be_filtered()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

Next Spatie\LaravelIgnition\Exceptions\ViewException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/resources/views/admin/batches/candidates.blade.php(148): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(350): Illuminate\Foundation\Testing\TestCase->get()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->batch_candidates_can_be_filtered()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

----------------------------------------------------------------------------------

Route [admin.candidates.show] not defined.

  at tests/Feature/BatchControllerTest.php:352
    348â–• 
    349â–•         $response = $this->actingAs($this->admin)
    350â–•             ->get(route('admin.batches.candidates', ['batch' => $batch->id, 'training_status' => 'enrolled']));
    351â–• 
  âžœ 352â–•         $response->assertStatus(200);
    353â–•         $candidates = $response->viewData('candidates');
    354â–•         $this->assertCount(5, $candidates);
    355â–•     }
    356â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchControllerTest > admin can bulk assign candidaâ€¦   
  Session is missing expected key [success].
Failed asserting that false is true.

  at tests/Feature/BatchControllerTest.php:374
    370â–•                 'candidate_ids' => $candidates->pluck('id')->toArray(),
    371â–•             ]);
    372â–• 
    373â–•         $response->assertRedirect()
  âžœ 374â–•             ->assertSessionHas('success');
    375â–• 
    376â–•         foreach ($candidates as $candidate) {
    377â–•             $this->assertDatabaseHas('candidates', [
    378â–•                 'id' => $candidate->id,

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it accepts valid excelâ€¦   
  Session has unexpected errors: 

{
    "default": [
        "Error processing file: Unable to identify a reader for this file"
    ]
}
Failed asserting that true is false.

  at tests/Feature/BatchImportIntegrationTest.php:58
     54â–•             'trade_id' => $this->trade->id,
     55â–•         ]);
     56â–• 
     57â–•         $response->assertRedirect();
  âžœ  58â–•         $response->assertSessionDoesntHaveErrors();
     59â–•     }
     60â–• 
     61â–•     #[Test]
     62â–•     public function it_rejects_invalid_file_types()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegratiâ€¦  MethodNotAllowedHttpException   
  The POST method is not supported for route import/candidates/validate. Supported methods: GET, HEAD.

  at vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:123
    119â–•      * @throws \Symfony\Component\HttpKernel\Exception\MethodNotAllowedHttpException
    120â–•      */
    121â–•     protected function requestMethodNotAllowed($request, array $others, $method)
    122â–•     {
  âžœ 123â–•         throw new MethodNotAllowedHttpException(
    124â–•             $others,
    125â–•             sprintf(
    126â–•                 'The %s method is not supported for route %s. Supported methods: %s.',
    127â–•                 $method,

      [2m+28 vendor frames [22m
  29  tests/Feature/BatchImportIntegrationTest.php:98

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegratiâ€¦  MethodNotAllowedHttpException   
  The POST method is not supported for route import/candidates/validate. Supported methods: GET, HEAD.

  at vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:123
    119â–•      * @throws \Symfony\Component\HttpKernel\Exception\MethodNotAllowedHttpException
    120â–•      */
    121â–•     protected function requestMethodNotAllowed($request, array $others, $method)
    122â–•     {
  âžœ 123â–•         throw new MethodNotAllowedHttpException(
    124â–•             $others,
    125â–•             sprintf(
    126â–•                 'The %s method is not supported for route %s. Supported methods: %s.',
    127â–•                 $method,

      [2m+28 vendor frames [22m
  29  tests/Feature/BatchImportIntegrationTest.php:112

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegratiâ€¦  MethodNotAllowedHttpException   
  The POST method is not supported for route import/candidates/validate. Supported methods: GET, HEAD.

  at vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:123
    119â–•      * @throws \Symfony\Component\HttpKernel\Exception\MethodNotAllowedHttpException
    120â–•      */
    121â–•     protected function requestMethodNotAllowed($request, array $others, $method)
    122â–•     {
  âžœ 123â–•         throw new MethodNotAllowedHttpException(
    124â–•             $others,
    125â–•             sprintf(
    126â–•                 'The %s method is not supported for route %s. Supported methods: %s.',
    127â–•                 $method,

      [2m+28 vendor frames [22m
  29  tests/Feature/BatchImportIntegrationTest.php:127

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it detects duplicate câ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/BatchImportIntegrationTest.php:154
    150â–•             'campus_id' => $this->campus->id,
    151â–•             'trade_id' => $this->trade->id,
    152â–•         ]);
    153â–• 
  âžœ 154â–•         $response->assertOk();
    155â–•         $data = $response->json();
    156â–•         $this->assertNotEmpty($data['duplicates']);
    157â–•     }
    158â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it detects duplicate pâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/BatchImportIntegrationTest.php:173
    169â–•             'campus_id' => $this->campus->id,
    170â–•             'trade_id' => $this->trade->id,
    171â–•         ]);
    172â–• 
  âžœ 173â–•         $response->assertOk();
    174â–•         $data = $response->json();
    175â–•         $this->assertNotEmpty($data['potential_duplicates']);
    176â–•     }
    177â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it allows updating dupâ€¦   
  Failed asserting that two strings are equal.
  -'New Name'
  +'Old Name'
  

  at tests/Feature/BatchImportIntegrationTest.php:216
    212â–•         ]);
    213â–• 
    214â–•         $response->assertRedirect();
    215â–•         $existing->refresh();
  âžœ 216â–•         $this->assertEquals('New Name', $existing->name);
    217â–•     }
    218â–• 
    219â–•     // =========================================================================
    220â–•     // BATCH PROCESSING

  1   tests/Feature/BatchImportIntegrationTest.php:216

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it processes large impâ€¦   
  The expected [App\Jobs\ProcessCandidateImport] job was not pushed.
Failed asserting that false is true.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/QueueFake.php:110
    106â–•         if (is_numeric($callback)) {
    107â–•             return $this->assertPushedTimes($job, $callback);
    108â–•         }
    109â–• 
  âžœ 110â–•         PHPUnit::assertTrue(
    111â–•             $this->pushed($job, $callback)->count() > 0,
    112â–•             "The expected [{$job}] job was not pushed."
    113â–•         );
    114â–•     }

      [2m+2 vendor frames [22m
  3   tests/Feature/BatchImportIntegrationTest.php:238

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it tracks import progrâ€¦   
  Session is missing expected key [import_id].
Failed asserting that false is true.

The following errors occurred during the last request:

Error processing file: Unable to identify a reader for this file

  at tests/Feature/BatchImportIntegrationTest.php:253
    249â–•             'trade_id' => $this->trade->id,
    250â–•         ]);
    251â–• 
    252â–•         $response->assertRedirect();
  âžœ 253â–•         $response->assertSessionHas('import_id');
    254â–•     }
    255â–• 
    256â–•     #[Test]
    257â–•     public function it_can_check_import_status()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it logs row errors witâ€¦   
  Failed asserting that 0 is greater than 0.

  at tests/Feature/BatchImportIntegrationTest.php:295
    291â–•         ]);
    292â–• 
    293â–•         $response->assertRedirect();
    294â–•         // Should have imported valid rows
  âžœ 295â–•         $this->assertGreaterThan(0, Candidate::count());
    296â–•     }
    297â–• 
    298â–•     #[Test]
    299â–•     public function it_generates_error_report()

  1   tests/Feature/BatchImportIntegrationTest.php:295

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > it generates error repâ€¦   
  Session is missing expected key [import_errors].
Failed asserting that false is true.

The following errors occurred during the last request:

Error processing file: Unable to identify a reader for this file

  at tests/Feature/BatchImportIntegrationTest.php:310
    306â–•             'trade_id' => $this->trade->id,
    307â–•         ]);
    308â–• 
    309â–•         $response->assertRedirect();
  âžœ 310â–•         $response->assertSessionHas('import_errors');
    311â–•     }
    312â–• 
    313â–•     #[Test]
    314â–•     public function it_can_download_error_report()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BatchImportIntegrationTest > campus admin can onlyâ€¦    
  Expected response status code [403] but received 302.
Failed asserting that 302 is identical to 403.

The following errors occurred during the last request:

Error processing file: Unable to identify a reader for this file

  at tests/Feature/BatchImportIntegrationTest.php:376
    372â–•             'campus_id' => $otherCampus->id,
    373â–•             'trade_id' => $this->trade->id,
    374â–•         ]);
    375â–• 
  âžœ 376â–•         $response->assertStatus(403);
    377â–•     }
    378â–• 
    379â–•     #[Test]
    380â–•     public function regular_user_cannot_import()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > super admin can bulkâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(28): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->super_admin_can_bulk_update_candidate_status()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsControllerTest.php:33
     29â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
     30â–•             'status' => 'screening',
     31â–•         ]);
     32â–• 
  âžœ  33â–•         $response->assertStatus(200)
     34â–•             ->assertJson([
     35â–•                 'success' => true,
     36â–•                 'updated' => 3,
     37â–•             ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > campus admin can onlâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(61): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->campus_admin_can_only_update_their_campus_candidates()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsControllerTest.php:66
     62â–•             'candidate_ids' => [$ownCandidate->id, $otherCandidate->id],
     63â–•             'status' => 'screening',
     64â–•         ]);
     65â–• 
  âžœ  66â–•         $response->assertStatus(200);
     67â–•         $data = $response->json();
     68â–• 
     69â–•         // Only own candidate should be updated
     70â–•         $this->assertEquals(1, $data['updated']);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > bulk update validateâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(81): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->bulk_update_validates_status_transitions()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsControllerTest.php:86
     82â–•             'candidate_ids' => [$candidate->id],
     83â–•             'status' => 'departed',
     84â–•         ]);
     85â–• 
  âžœ  86â–•         $response->assertStatus(200);
     87â–•         $data = $response->json();
     88â–• 
     89â–•         // Should fail due to invalid transition
     90â–•         $this->assertEquals(0, $data['updated']);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > bulk update validateâ€¦   
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(112): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->bulk_update_validates_required_fields()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsControllerTest.php:114
    110â–•         $user = User::factory()->create(['role' => 'super_admin']);
    111â–• 
    112â–•         $response = $this->actingAs($user)->postJson('/api/bulk/update-status', []);
    113â–• 
  âžœ 114â–•         $response->assertStatus(422)
    115â–•             ->assertJsonValidationErrors(['candidate_ids', 'status']);
    116â–•     }
    117â–• 
    118â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > bulk update limits tâ€¦   
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(124): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->bulk_update_limits_to_100_candidates()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsControllerTest.php:129
    125â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
    126â–•             'status' => 'screening',
    127â–•         ]);
    128â–• 
  âžœ 129â–•         $response->assertStatus(422)
    130â–•             ->assertJsonValidationErrors(['candidate_ids']);
    131â–•     }
    132â–• 
    133â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > admin can export canâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Symfony\Component\Routing\Exception\RouteNotFoundException: Route [candidates.export.download] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php(241): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->export()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#47 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(265): Illuminate\Foundation\Testing\TestCase->postJson()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->admin_can_export_candidates()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#58 {main}

----------------------------------------------------------------------------------

Route [candidates.export.download] not defined.

  at tests/Feature/BulkOperationsControllerTest.php:270
    266â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
    267â–•             'format' => 'csv',
    268â–•         ]);
    269â–• 
  âžœ 270â–•         $response->assertStatus(200)
    271â–•             ->assertJson(['success' => true])
    272â–•             ->assertJsonStructure(['download_url']);
    273â–•     }
    274â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > export filters by usâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Symfony\Component\Routing\Exception\RouteNotFoundException: Route [candidates.export.download] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php(241): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->export()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#47 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(304): Illuminate\Foundation\Testing\TestCase->postJson()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->export_filters_by_user_permissions()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#58 {main}

----------------------------------------------------------------------------------

Route [candidates.export.download] not defined.

  at tests/Feature/BulkOperationsControllerTest.php:309
    305â–•             'candidate_ids' => [$ownCandidate->id, $otherCandidate->id],
    306â–•             'format' => 'csv',
    307â–•         ]);
    308â–• 
  âžœ 309â–•         $response->assertStatus(200);
    310â–•         // Export should only include accessible candidates
    311â–•     }
    312â–• 
    313â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsControllerTest > admin can send bulkâ€¦    
  Unable to find JSON: 

[{
    "success": true,
    "queued": 3
}]

within response JSON:

[{
    "success": true,
    "message": "3 notifications sent",
    "sent": 3,
    "failed": 0,
    "errors": []
}].


Failed asserting that an array has the subset Array &0 [
    'success' => true,
    'queued' => 3,
].
     'errors' => 
     array (
     ),
  -  'queued' => 3,
   )
  

  at tests/Feature/BulkOperationsControllerTest.php:404
    400â–•             'message' => 'Test notification message',
    401â–•         ]);
    402â–• 
    403â–•         $response->assertStatus(200)
  âžœ 404â–•             ->assertJson([
    405â–•                 'success' => true,
    406â–•                 'queued' => 3,
    407â–•             ]);
    408â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it updates multipleâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(61): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_updates_multiple_candidates_status_atomically()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsIntegrationTest.php:66
     62â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
     63â–•             'status' => 'screening',
     64â–•         ]);
     65â–• 
  âžœ  66â–•         $response->assertOk();
     67â–•         $this->assertEquals(10, Candidate::where('status', 'screening')->count());
     68â–•     }
     69â–• 
     70â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it validates statusâ€¦   
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(80): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_validates_status_transitions_in_bulk()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsIntegrationTest.php:85
     81â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
     82â–•             'status' => 'departed',
     83â–•         ]);
     84â–• 
  âžœ  85â–•         $response->assertStatus(422);
     86â–•         // All should remain unchanged
     87â–•         $this->assertEquals(5, Candidate::where('status', 'new')->count());
     88â–•     }
     89â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it rejects assignmeâ€¦   
  Expected response status code [422] but received 200.
Failed asserting that 200 is identical to 422.

The following errors occurred during the last request:

{
    "success": true,
    "message": "0 candidates assigned to Foundation Course September 1977",
    "updated": 0,
    "errors": [
        "Batch Foundation Course September 1977 is at full capacity"
    ]
}

  at tests/Feature/BulkOperationsIntegrationTest.php:161
    157â–•             'candidate_ids' => $newCandidates->pluck('id')->toArray(),
    158â–•             'batch_id' => $this->batch->id,
    159â–•         ]);
    160â–• 
  âžœ 161â–•         $response->assertStatus(422);
    162â–•         $this->assertStringContainsString('capacity', strtolower($response->json('message')));
    163â–•     }
    164â–• 
    165â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it validates tradeâ€¦    
  Expected response status code [422] but received 200.
Failed asserting that 200 is identical to 422.

The following errors occurred during the last request:

{
    "success": true,
    "message": "5 candidates assigned to Advanced Skills Program February 1976",
    "updated": 5,
    "errors": []
}

  at tests/Feature/BulkOperationsIntegrationTest.php:180
    176â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
    177â–•             'batch_id' => $this->batch->id, // Different trade
    178â–•         ]);
    179â–• 
  âžœ 180â–•         $response->assertStatus(422);
    181â–•     }
    182â–• 
    183â–•     // =========================================================================
    184â–•     // BULK CAMPUS TRANSFER

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it exports selectedâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Symfony\Component\Routing\Exception\RouteNotFoundException: Route [candidates.export.download] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php(241): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->export()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#46 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(237): Illuminate\Foundation\Testing\TestCase->post()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_exports_selected_candidates_to_csv()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#57 {main}

----------------------------------------------------------------------------------

Route [candidates.export.download] not defined.

  at tests/Feature/BulkOperationsIntegrationTest.php:243
    239â–•             'format' => 'csv',
    240â–•             'columns' => ['name', 'cnic', 'phone', 'status'],
    241â–•         ]);
    242â–• 
  âžœ 243â–•         $response->assertOk();
    244â–•         $response->assertHeader('content-type', 'text/csv; charset=UTF-8');
    245â–•     }
    246â–• 
    247â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it exports filteredâ€¦   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

The following errors occurred during the last request:

The candidate ids field is required.
The selected format is invalid.

  at tests/Feature/BulkOperationsIntegrationTest.php:264
    260â–•                 'campus_id' => $this->campus->id,
    261â–•             ],
    262â–•         ]);
    263â–• 
  âžœ 264â–•         $response->assertOk();
    265â–•     }
    266â–• 
    267â–•     #[Test]
    268â–•     public function it_queues_large_exports()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it queues large expâ€¦   
  The expected [App\Jobs\ProcessBulkExport] job was not pushed.
Failed asserting that false is true.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/QueueFake.php:110
    106â–•         if (is_numeric($callback)) {
    107â–•             return $this->assertPushedTimes($job, $callback);
    108â–•         }
    109â–• 
  âžœ 110â–•         PHPUnit::assertTrue(
    111â–•             $this->pushed($job, $callback)->count() > 0,
    112â–•             "The expected [{$job}] job was not pushed."
    113â–•         );
    114â–•     }

      [2m+2 vendor frames [22m
  3   tests/Feature/BulkOperationsIntegrationTest.php:283

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it prevents deletioâ€¦   
  Expected response status code [422] but received 200.
Failed asserting that 200 is identical to 422.

  at tests/Feature/BulkOperationsIntegrationTest.php:322
    318â–•             'candidate_ids' => $departed->pluck('id')->toArray(),
    319â–•             'confirmation' => 'DELETE',
    320â–•         ]);
    321â–• 
  âžœ 322â–•         $response->assertStatus(422);
    323â–•         $this->assertEquals(3, Candidate::where('status', 'departed')->count());
    324â–•     }
    325â–• 
    326â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it requires confirmâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/BulkOperationsIntegrationTest.php:339
    335â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
    336â–•             // Missing confirmation
    337â–•         ]);
    338â–• 
  âžœ 339â–•         $response->assertSessionHasErrors('confirmation');
    340â–•     }
    341â–• 
    342â–•     // =========================================================================
    343â–•     // BULK NOTIFICATIONS

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it sends notificatiâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/BulkOperationsIntegrationTest.php:363
    359â–•             'template' => 'training_reminder',
    360â–•             'message' => 'Your training starts tomorrow.',
    361â–•         ]);
    362â–• 
  âžœ 363â–•         $response->assertOk();
    364â–•         Notification::assertCount(10);
    365â–•     }
    366â–• 
    367â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it sends sms notifiâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/BulkOperationsIntegrationTest.php:382
    378â–•             'channel' => 'sms',
    379â–•             'message' => 'Important update regarding your application.',
    380â–•         ]);
    381â–• 
  âžœ 382â–•         $response->assertOk();
    383â–•     }
    384â–• 
    385â–•     // =========================================================================
    386â–•     // CONCURRENT OPERATIONS

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it handles optimistâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(404): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_handles_optimistic_locking_for_concurrent_updates()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsIntegrationTest.php:410
    406â–•             'status' => 'screening',
    407â–•         ]);
    408â–• 
    409â–•         // Both should succeed (idempotent operation)
  âžœ 410â–•         $response1->assertOk();
    411â–•         $this->assertEquals('screening', $candidate->fresh()->status);
    412â–•     }
    413â–• 
    414â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > it logs bulk operatâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(427): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_logs_bulk_operations()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsIntegrationTest.php:432
    428â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
    429â–•             'status' => 'screening',
    430â–•         ]);
    431â–• 
  âžœ 432â–•         $response->assertOk();
    433â–• 
    434â–•         // Check activity log
    435â–•         $this->assertDatabaseHas('activity_log', [
    436â–•             'causer_id' => $this->admin->id,

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\BulkOperationsIntegrationTest > campus admin can onâ€¦   
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(459): Illuminate\Foundation\Testing\TestCase->postJson()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->campus_admin_can_only_operate_on_their_campus()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#56 {main}

----------------------------------------------------------------------------------

Undefined constant App\Models\Candidate::STATUSES

  at tests/Feature/BulkOperationsIntegrationTest.php:464
    460â–•             'candidate_ids' => $candidates->pluck('id')->toArray(),
    461â–•             'status' => 'screening',
    462â–•         ]);
    463â–• 
  âžœ 464â–•         $response->assertStatus(403);
    465â–•     }
    466â–• 
    467â–•     #[Test]
    468â–•     public function only_admin_can_perform_bulk_delete()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateApiControllerTest > it returns paginated câ€¦   
  Failed asserting that an array has the key 'cnic'.

  at tests/Feature/CandidateApiControllerTest.php:40
     36â–• 
     37â–•         $response = $this->getJson('/api/v1/candidates');
     38â–• 
     39â–•         $response->assertStatus(200)
  âžœ  40â–•             ->assertJsonStructure([
     41â–•                 'data' => [
     42â–•                     '*' => ['id', 'name', 'cnic', 'status']
     43â–•                 ],
     44â–•                 'meta' => ['current_page', 'per_page', 'total']

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateApiControllerTest > it returns single candâ€¦   
  Failed asserting that an array has the key 'cnic'.

  at tests/Feature/CandidateApiControllerTest.php:110
    106â–• 
    107â–•         $response = $this->getJson("/api/v1/candidates/{$candidate->id}");
    108â–• 
    109â–•         $response->assertStatus(200)
  âžœ 110â–•             ->assertJsonStructure([
    111â–•                 'data' => ['id', 'name', 'cnic', 'status', 'campus', 'trade']
    112â–•             ]);
    113â–•     }
    114â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateApiControllerTest > it creates a new candiâ€¦   
  Expected response status code [201] but received 422.
Failed asserting that 422 is identical to 201.

The following errors occurred during the last request:

{
    "success": false,
    "errors": {
        "father_name": [
            "The father name field is required."
        ],
        "address": [
            "The address field is required."
        ],
        "district": [
            "The district field is required."
        ]
    }
}

  at tests/Feature/CandidateApiControllerTest.php:162
    158â–•         ];
    159â–• 
    160â–•         $response = $this->postJson('/api/v1/candidates', $data);
    161â–• 
  âžœ 162â–•         $response->assertStatus(201)
    163â–•             ->assertJsonPath('data.name', 'New Candidate');
    164â–•         $this->assertDatabaseHas('candidates', ['cnic' => '1234567890123']);
    165â–•     }
    166â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateApiControllerTest > it validates update daâ€¦   
  Expected response status code [422] but received 200.
Failed asserting that 200 is identical to 422.

  at tests/Feature/CandidateApiControllerTest.php:231
    227â–•         $response = $this->putJson("/api/v1/candidates/{$candidate->id}", [
    228â–•             'phone' => 'not-a-phone',
    229â–•         ]);
    230â–• 
  âžœ 231â–•         $response->assertStatus(422);
    232â–•     }
    233â–• 
    234â–•     // =========================================================================
    235â–•     // DELETE

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateApiControllerTest > it returns candidate sâ€¦   
  Failed asserting that an array has the key 'by_status'.

  at tests/Feature/CandidateApiControllerTest.php:264
    260â–• 
    261â–•         $response = $this->getJson('/api/v1/candidates/stats');
    262â–• 
    263â–•         $response->assertStatus(200)
  âžœ 264â–•             ->assertJsonStructure([
    265â–•                 'data' => [
    266â–•                     'total',
    267â–•                     'by_status',
    268â–•                     'by_campus',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateApiControllerTest > it respects per page pâ€¦   
  Failed asserting that null matches expected 10.

  at tests/Feature/CandidateApiControllerTest.php:323
    319â–•         $response = $this->getJson('/api/v1/candidates?per_page=10');
    320â–• 
    321â–•         $response->assertStatus(200);
    322â–•         $this->assertCount(10, $response->json('data'));
  âžœ 323â–•         $this->assertEquals(10, $response->json('meta.per_page'));
    324â–•     }
    325â–• 
    326â–•     #[Test]
    327â–•     public function it_limits_maximum_per_page()

  1   tests/Feature/CandidateApiControllerTest.php:323

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateLifecycleIntegrationTest > it detects duplâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/CandidateLifecycleIntegrationTest.php:122
    118â–•         $response = $this->actingAs($this->admin)->post('/api/check-duplicates', [
    119â–•             'phone' => '03001234567',
    120â–•         ]);
    121â–• 
  âžœ 122â–•         $response->assertOk();
    123â–•         $data = $response->json();
    124â–•         $this->assertNotEmpty($data['duplicates']);
    125â–•     }
    126â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateLifecycleIntegrationTest > it uploads requâ€¦   
  Failed asserting that 3 matches expected 4.

  at tests/Feature/CandidateLifecycleIntegrationTest.php:286
    282â–•                 'expiry_date' => now()->addYear()->format('Y-m-d'),
    283â–•             ]);
    284â–•         }
    285â–• 
  âžœ 286â–•         $this->assertEquals(4, $candidate->registrationDocuments()->count());
    287â–•     }
    288â–• 
    289â–•     #[Test]
    290â–•     public function it_verifies_documents()

  1   tests/Feature/CandidateLifecycleIntegrationTest.php:286

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateLifecycleIntegrationTest > it verifies docâ€¦   
  Failed asserting that two strings are equal.
  -'verified'
  +'pending'
  

  at tests/Feature/CandidateLifecycleIntegrationTest.php:306
    302â–•         ]);
    303â–• 
    304â–•         $response = $this->actingAs($this->admin)->post("/registration/documents/{$document->id}/verify");
    305â–• 
  âžœ 306â–•         $this->assertEquals('verified', $document->fresh()->status);
    307â–•     }
    308â–• 
    309â–•     #[Test]
    310â–•     public function it_blocks_completion_with_expired_documents()

  1   tests/Feature/CandidateLifecycleIntegrationTest.php:306

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateLifecycleIntegrationTest > it blocks complâ€¦   
  Expected response status code [422] but received 302.
Failed asserting that 302 is identical to 422.

  at tests/Feature/CandidateLifecycleIntegrationTest.php:328
    324â–•         ]);
    325â–• 
    326â–•         $response = $this->actingAs($this->admin)->post("/registration/{$candidate->id}/complete");
    327â–• 
  âžœ 328â–•         $response->assertStatus(422);
    329â–•     }
    330â–• 
    331â–•     // ==================== PHASE 4: TRAINING ====================
    332â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CandidateLifecycleIntegrationTest > it transitionsâ€¦    
  Failed asserting that false is true.

  at tests/Feature/CandidateLifecycleIntegrationTest.php:538
    534â–•             'briefing_date' => now()->subDay(),
    535â–•         ]);
    536â–• 
    537â–•         $validation = $candidate->fresh()->canTransitionToDeparted();
  âžœ 538â–•         $this->assertTrue($validation['can_transition']);
    539â–• 
    540â–•         $candidate->updateStatus(Candidate::STATUS_DEPARTED);
    541â–•         $this->assertEquals(Candidate::STATUS_DEPARTED, $candidate->fresh()->status);
    542â–•     }

  1   tests/Feature/CandidateLifecycleIntegrationTest.php:538

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can create complainâ€¦   
  Failed asserting that a row in the table [complaints] matches the attributes {
    "complainant_name": "John Smith",
    "category": "training"
}.

Found similar results: [
    {
        "complainant_name": "John Smith",
        "\"category\"": "category"
    }
].

  at tests/Feature/ComplaintControllerTest.php:115
    111â–•         ]);
    112â–• 
    113â–•         $response->assertRedirect();
    114â–•         $response->assertSessionHas('success');
  âžœ 115â–•         $this->assertDatabaseHas('complaints', [
    116â–•             'complainant_name' => 'John Smith',
    117â–•             'category' => 'training',
    118â–•         ]);
    119â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > complaint can include eviâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Error: Call to a member function store() on string in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:168
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php(124): App\Services\ComplaintService->uploadEvidence()
#1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/ComplaintController.php(131): App\Services\ComplaintService->registerComplaint()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\ComplaintController->store()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#8 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#10 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#55 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(178): Illuminate\Foundation\Testing\TestCase->post()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->complaint_can_include_evidence()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#66 {main}

----------------------------------------------------------------------------------

Call to a member function store() on string

  at tests/Feature/ComplaintControllerTest.php:188
    184â–•             'priority' => 'high',
    185â–•             'evidence' => $file,
    186â–•         ]);
    187â–• 
  âžœ 188â–•         $response->assertRedirect();
    189â–•         $response->assertSessionHas('success');
    190â–•     }
    191â–• 
    192â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can view complaintâ€¦    
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to a member function format() on null in /home/iihsedup/oep.jaamiah.com/storage/framework/views/c1379df7699e27b4f8995d0be8daf54e.php:137
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#60 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(202): Illuminate\Foundation\Testing\TestCase->get()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_view_complaint_details()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#71 {main}

Next Spatie\LaravelIgnition\Exceptions\ViewException: Call to a member function format() on null in /home/iihsedup/oep.jaamiah.com/resources/views/complaints/show.blade.php:134
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#60 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(202): Illuminate\Foundation\Testing\TestCase->get()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_view_complaint_details()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#71 {main}

----------------------------------------------------------------------------------

Call to a member function format() on null

  at tests/Feature/ComplaintControllerTest.php:204
    200â–•         $complaint = Complaint::factory()->create();
    201â–• 
    202â–•         $response = $this->actingAs($user)->get("/complaints/{$complaint->id}");
    203â–• 
  âžœ 204â–•         $response->assertStatus(200);
    205â–•         $response->assertViewIs('complaints.show');
    206â–•     }
    207â–• 
    208â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can update complainâ€¦   
  Session is missing expected key [success].
Failed asserting that false is true.

The following errors occurred during the last request:

The selected priority is invalid.

  at tests/Feature/ComplaintControllerTest.php:223
    219â–•             'priority' => 'critical',
    220â–•         ]);
    221â–• 
    222â–•         $response->assertRedirect();
  âžœ 223â–•         $response->assertSessionHas('success');
    224â–•     }
    225â–• 
    226â–•     #[Test]
    227â–•     public function admin_can_update_complaint_status()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can update complainâ€¦   
  Session is missing expected key [success].
Failed asserting that false is true.

  at tests/Feature/ComplaintControllerTest.php:237
    233â–•             'status' => 'investigating',
    234â–•         ]);
    235â–• 
    236â–•         $response->assertRedirect();
  âžœ 237â–•         $response->assertSessionHas('success');
    238â–•     }
    239â–• 
    240â–•     // =========================================================================
    241â–•     // ASSIGN

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can add evidence toâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Error: Call to a member function store() on string in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:168
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php(790): App\Services\ComplaintService->uploadEvidence()
#1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/ComplaintController.php(303): App\Services\ComplaintService->addEvidence()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\ComplaintController->addEvidence()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#8 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#10 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#55 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(313): Illuminate\Foundation\Testing\TestCase->post()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_add_evidence_to_complaint()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#66 {main}

----------------------------------------------------------------------------------

Call to a member function store() on string

  at tests/Feature/ComplaintControllerTest.php:318
    314â–•             'evidence_file' => $file,
    315â–•             'evidence_description' => 'Additional documentation',
    316â–•         ]);
    317â–• 
  âžœ 318â–•         $response->assertRedirect();
    319â–•         $response->assertSessionHas('success');
    320â–•     }
    321â–• 
    322â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can resolve complaiâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Cannot access offset of type string on string in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:328
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/ComplaintController.php(354): App\Services\ComplaintService->resolveComplaint()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\ComplaintController->resolve()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#9 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#54 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(375): Illuminate\Foundation\Testing\TestCase->post()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_resolve_complaint()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#65 {main}

----------------------------------------------------------------------------------

Cannot access offset of type string on string

  at tests/Feature/ComplaintControllerTest.php:381
    377â–•             'resolution_date' => now()->toDateString(),
    378â–•             'resolution_satisfactory' => true,
    379â–•         ]);
    380â–• 
  âžœ 381â–•         $response->assertRedirect();
    382â–•         $response->assertSessionHas('success');
    383â–•     }
    384â–• 
    385â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can view overdue coâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/ComplaintControllerTest.php:454
    450â–•         $user = User::factory()->create(['role' => 'super_admin']);
    451â–• 
    452â–•         $response = $this->actingAs($user)->get('/complaints/overdue');
    453â–• 
  âžœ 454â–•         $response->assertStatus(200);
    455â–•         $response->assertViewIs('complaints.overdue');
    456â–•     }
    457â–• 
    458â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can view their assiâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/ComplaintControllerTest.php:469
    465â–•         $user = User::factory()->create(['role' => 'super_admin']);
    466â–• 
    467â–•         $response = $this->actingAs($user)->get('/complaints/my-assignments');
    468â–• 
  âžœ 469â–•         $response->assertStatus(200);
    470â–•         $response->assertViewIs('complaints.my-assignments');
    471â–•     }
    472â–• 
    473â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can view complaintâ€¦    
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/ComplaintControllerTest.php:487
    483â–•         Complaint::factory()->count(5)->create();
    484â–• 
    485â–•         $response = $this->actingAs($user)->get('/complaints/statistics');
    486â–• 
  âžœ 487â–•         $response->assertStatus(200);
    488â–•         $response->assertViewIs('complaints.statistics');
    489â–•     }
    490â–• 
    491â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can generate analytâ€¦   
  Failed asserting that false is true.

  at tests/Feature/ComplaintControllerTest.php:506
    502â–•             'end_date' => now()->toDateString(),
    503â–•         ]);
    504â–• 
    505â–•         // May require valid date params
  âžœ 506â–•         $this->assertTrue(in_array($response->status(), [200, 302, 422]));
    507â–•     }
    508â–• 
    509â–•     // =========================================================================
    510â–•     // SLA REPORT

  1   tests/Feature/ComplaintControllerTest.php:506

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can view sla report    
  Failed asserting that false is true.

  at tests/Feature/ComplaintControllerTest.php:524
    520â–•             'end_date' => now()->toDateString(),
    521â–•         ]);
    522â–• 
    523â–•         // May require valid date params
  âžœ 524â–•         $this->assertTrue(in_array($response->status(), [200, 302, 422]));
    525â–•     }
    526â–• 
    527â–•     // =========================================================================
    528â–•     // EXPORT

  1   tests/Feature/ComplaintControllerTest.php:524

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > admin can export complainâ€¦   
  Failed asserting that false is true.

  at tests/Feature/ComplaintControllerTest.php:539
    535â–• 
    536â–•         $response = $this->actingAs($user)->get('/complaints/export?format=csv');
    537â–• 
    538â–•         // Export might redirect or return file
  âžœ 539â–•         $this->assertTrue(in_array($response->status(), [200, 302, 422]));
    540â–•     }
    541â–• 
    542â–•     #[Test]
    543â–•     public function export_validates_format()

  1   tests/Feature/ComplaintControllerTest.php:539

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintControllerTest > export validates format      
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/ComplaintControllerTest.php:549
    545â–•         $user = User::factory()->create(['role' => 'super_admin']);
    546â–• 
    547â–•         $response = $this->actingAs($user)->get('/complaints/export?format=invalid');
    548â–• 
  âžœ 549â–•         $response->assertSessionHasErrors(['format']);
    550â–•     }
    551â–• 
    552â–•     // =========================================================================
    553â–•     // DELETE

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintRestApiTest > it shows specific complaintâ€¦    
  Failed asserting that an array has the key 'sla_status'.

  at tests/Feature/ComplaintRestApiTest.php:115
    111â–• 
    112â–•         $response = $this->getJson("/api/v1/complaints/{$this->complaint->id}");
    113â–• 
    114â–•         $response->assertStatus(200)
  âžœ 115â–•             ->assertJsonStructure([
    116â–•                 'success',
    117â–•                 'data' => [
    118â–•                     'id',
    119â–•                     'complaint_reference',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintRestApiTest > it updates complaint            
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Exception: Invalid status transition from 'registered' to 'in_progress'. Allowed:  in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:263
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/ComplaintApiController.php(162): App\Services\ComplaintService->updateStatus()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\ComplaintApiController->update()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(441): Illuminate\Foundation\Testing\TestCase->json()
#44 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php(163): Illuminate\Foundation\Testing\TestCase->putJson()
#45 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintRestApiTest->it_updates_complaint()
#46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#55 {main}

----------------------------------------------------------------------------------

Invalid status transition from 'registered' to 'in_progress'. Allowed:

  at tests/Feature/ComplaintRestApiTest.php:168
    164â–•             'priority' => 'urgent',
    165â–•             'status' => 'in_progress',
    166â–•         ]);
    167â–• 
  âžœ 168â–•         $response->assertStatus(200)
    169â–•             ->assertJson([
    170â–•                 'success' => true,
    171â–•                 'message' => 'Complaint updated successfully',
    172â–•             ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintRestApiTest > it assigns complaint            
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to a member function format() on string in /home/iihsedup/oep.jaamiah.com/app/Http/Resources/ComplaintResource.php:38
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Resources/Json/JsonResource.php(108): App\Http\Resources\ComplaintResource->toArray()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Resources/Json/JsonResource.php(255): Illuminate\Http\Resources\Json\JsonResource->resolve()
#2 [internal function]: Illuminate\Http\Resources\Json\JsonResource->jsonSerialize()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/JsonResponse.php(86): json_encode()
#4 /home/iihsedup/oep.jaamiah.com/vendor/symfony/http-foundation/JsonResponse.php(49): Illuminate\Http\JsonResponse->setData()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/JsonResponse.php(32): Symfony\Component\HttpFoundation\JsonResponse->__construct()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ResponseFactory.php(104): Illuminate\Http\JsonResponse->__construct()
#7 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/ComplaintApiController.php(192): Illuminate\Routing\ResponseFactory->json()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\ComplaintApiController->assign()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#51 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php(188): Illuminate\Foundation\Testing\TestCase->postJson()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintRestApiTest->it_assigns_complaint()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#62 {main}

----------------------------------------------------------------------------------

Call to a member function format() on string

  at tests/Feature/ComplaintRestApiTest.php:193
    189â–•             'assigned_to' => $assignee->id,
    190â–•             'remarks' => 'Assigned for investigation',
    191â–•         ]);
    192â–• 
  âžœ 193â–•         $response->assertStatus(200)
    194â–•             ->assertJson([
    195â–•                 'success' => true,
    196â–•                 'message' => 'Complaint assigned successfully',
    197â–•             ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintRestApiTest > it returns overdue complaintâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\RelationNotFoundException: Call to undefined relationship [assignedToUser] on model [App\Models\Complaint]. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/RelationNotFoundException.php:35
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(878): Illuminate\Database\Eloquent\RelationNotFoundException::make()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(120): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(874): Illuminate\Database\Eloquent\Relations\Relation::noConstraints()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(848): Illuminate\Database\Eloquent\Builder->getRelation()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(828): Illuminate\Database\Eloquent\Builder->eagerLoadRelation()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(794): Illuminate\Database\Eloquent\Builder->eagerLoadRelations()
#6 /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php(496): Illuminate\Database\Eloquent\Builder->get()
#7 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/ComplaintApiController.php(283): App\Services\ComplaintService->getOverdueComplaints()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\ComplaintApiController->overdue()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php(285): Illuminate\Foundation\Testing\TestCase->getJson()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintRestApiTest->it_returns_overdue_complaints()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#62 {main}

----------------------------------------------------------------------------------

Call to undefined relationship [assignedToUser] on model [App\Models\Complaint].

  at tests/Feature/ComplaintRestApiTest.php:287
    283â–•         Sanctum::actingAs($this->admin);
    284â–• 
    285â–•         $response = $this->getJson('/api/v1/complaints/overdue');
    286â–• 
  âžœ 287â–•         $response->assertStatus(200)
    288â–•             ->assertJsonStructure([
    289â–•                 'success',
    290â–•                 'data',
    291â–•             ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > admin can view complaintâ€¦    
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/ComplaintStatisticsTest.php:41
     37â–•         Complaint::factory()->count(2)->create(['status' => 'resolved']);
     38â–• 
     39â–•         $response = $this->get(route('complaints.statistics'));
     40â–• 
  âžœ  41â–•         $response->assertStatus(200);
     42â–•         $response->assertViewIs('complaints.statistics');
     43â–•         $response->assertViewHas('statistics');
     44â–•     }
     45â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:55
     51â–•         Complaint::factory()->count(10)->create();
     52â–• 
     53â–•         $response = $this->get(route('complaints.statistics'));
     54â–• 
  âžœ  55â–•         $statistics = $response->viewData('statistics');
     56â–• 
     57â–•         $this->assertEquals(10, $statistics['totalComplaints']);
     58â–•     }
     59â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:71
     67â–•         Complaint::factory()->count(2)->create(['status' => 'resolved']);
     68â–• 
     69â–•         $response = $this->get(route('complaints.statistics'));
     70â–• 
  âžœ  71â–•         $statistics = $response->viewData('statistics');
     72â–• 
     73â–•         $this->assertEquals(8, $statistics['openComplaints']); // registered + investigating
     74â–•         $this->assertEquals(2, $statistics['resolvedComplaints']);
     75â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:88
     84â–•         Complaint::factory()->count(1)->create(['category' => 'salary']);
     85â–• 
     86â–•         $response = $this->get(route('complaints.statistics'));
     87â–• 
  âžœ  88â–•         $statistics = $response->viewData('statistics');
     89â–• 
     90â–•         $this->assertArrayHasKey('byCategory', $statistics);
     91â–•         $this->assertEquals(3, $statistics['byCategory']['training'] ?? 0);
     92â–•         $this->assertEquals(2, $statistics['byCategory']['visa'] ?? 0);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:107
    103â–•         Complaint::factory()->count(5)->create(['priority' => 'medium']);
    104â–• 
    105â–•         $response = $this->get(route('complaints.statistics'));
    106â–• 
  âžœ 107â–•         $statistics = $response->viewData('statistics');
    108â–• 
    109â–•         $this->assertArrayHasKey('byPriority', $statistics);
    110â–•     }
    111â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:121
    117â–•         Complaint::factory()->count(15)->create();
    118â–• 
    119â–•         $response = $this->get(route('complaints.statistics'));
    120â–• 
  âžœ 121â–•         $statistics = $response->viewData('statistics');
    122â–• 
    123â–•         $this->assertArrayHasKey('recentComplaints', $statistics);
    124â–•         $this->assertCount(10, $statistics['recentComplaints']); // Should be limited to 10
    125â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:150
    146â–•         ]);
    147â–• 
    148â–•         $response = $this->get(route('complaints.statistics'));
    149â–• 
  âžœ 150â–•         $statistics = $response->viewData('statistics');
    151â–• 
    152â–•         $this->assertArrayHasKey('slaComplianceRate', $statistics);
    153â–•         // 7 out of 10 = 70%
    154â–•         $this->assertEquals(70, $statistics['slaComplianceRate']);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:172
    168â–•         ]);
    169â–• 
    170â–•         $response = $this->get(route('complaints.statistics'));
    171â–• 
  âžœ 172â–•         $statistics = $response->viewData('statistics');
    173â–• 
    174â–•         $this->assertArrayHasKey('monthlyTrends', $statistics);
    175â–•     }
    176â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ComplaintStatisticsTest > staâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/ComplaintStatisticsTest.php:190
    186â–•         Complaint::factory()->count(3)->create(['assigned_to' => $user2->id]);
    187â–• 
    188â–•         $response = $this->get(route('complaints.statistics'));
    189â–• 
  âžœ 190â–•         $statistics = $response->viewData('statistics');
    191â–• 
    192â–•         $this->assertArrayHasKey('topAssignees', $statistics);
    193â–•     }
    194â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CorrespondenceRestApiTest > it creates correspondenâ€¦   
  Expected response status code [201] but received 500.
Failed asserting that 500 is identical to 201.

The following exception occurred during the last request:

PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: correspondences.message in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(571): PDOStatement->execute()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(560): Illuminate\Database\Connection->run()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(524): Illuminate\Database\Connection->statement()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php(32): Illuminate\Database\Connection->insert()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3766): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->insertGetId()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1359): Illuminate\Database\Eloquent\Builder->__call()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1324): Illuminate\Database\Eloquent\Model->insertAndSetId()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1163): Illuminate\Database\Eloquent\Model->performInsert()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1128): Illuminate\Database\Eloquent\Model->save()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1127): tap()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2372): Illuminate\Database\Eloquent\Model->forwardCallTo()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2384): Illuminate\Database\Eloquent\Model->__call()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(128): Illuminate\Database\Eloquent\Model::__callStatic()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->store()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#61 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(121): Illuminate\Foundation\Testing\TestCase->postJson()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_creates_correspondence()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#72 {main}

Next Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: correspondences.message (Connection: sqlite, SQL: insert into "correspondences" ("subject", "campus_id", "status", "sent_at", "updated_at", "created_at") values (Test Subject, 1, pending, 2026-01-26 13:29:37, 2026-01-26 13:29:37, 2026-01-26 13:29:37)) in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(560): Illuminate\Database\Connection->run()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(524): Illuminate\Database\Connection->statement()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php(32): Illuminate\Database\Connection->insert()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3766): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->insertGetId()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1359): Illuminate\Database\Eloquent\Builder->__call()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1324): Illuminate\Database\Eloquent\Model->insertAndSetId()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1163): Illuminate\Database\Eloquent\Model->performInsert()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1128): Illuminate\Database\Eloquent\Model->save()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1127): tap()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2372): Illuminate\Database\Eloquent\Model->forwardCallTo()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2384): Illuminate\Database\Eloquent\Model->__call()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(128): Illuminate\Database\Eloquent\Model::__callStatic()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->store()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#59 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(121): Illuminate\Foundation\Testing\TestCase->postJson()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_creates_correspondence()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#70 {main}

----------------------------------------------------------------------------------

SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: correspondences.message (Connection: sqlite, SQL: insert into "correspondences" ("subject", "campus_id", "status", "sent_at", "updated_at", "created_at") values (Test Subject, 1, pending, 2026-01-26 13:29:37, 2026-01-26 13:29:37, 2026-01-26 13:29:37))

  at tests/Feature/CorrespondenceRestApiTest.php:134
    130â–•             'priority' => 'normal',
    131â–•             'status' => 'pending',
    132â–•         ]);
    133â–• 
  âžœ 134â–•         $response->assertStatus(201)
    135â–•             ->assertJson([
    136â–•                 'success' => true,
    137â–•                 'message' => 'Correspondence created successfully',
    138â–•             ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CorrespondenceRestApiTest > it returns correspondenâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such column: response_date in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): PDO->prepare()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(742): Illuminate\Database\Eloquent\Builder->first()
#12 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(242): Illuminate\Database\Eloquent\Builder->value()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->statistics()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#56 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(193): Illuminate\Foundation\Testing\TestCase->getJson()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_returns_correspondence_statistics()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#67 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: response_date (Connection: sqlite, SQL: select AVG(DATEDIFF(response_date, created_at)) as avg_days from "correspondences" where "response_date" is not null and "correspondences"."deleted_at" is null limit 1) in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(742): Illuminate\Database\Eloquent\Builder->first()
#10 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(242): Illuminate\Database\Eloquent\Builder->value()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->statistics()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#54 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(193): Illuminate\Foundation\Testing\TestCase->getJson()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_returns_correspondence_statistics()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#65 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such column: response_date (Connection: sqlite, SQL: select AVG(DATEDIFF(response_date, created_at)) as avg_days from "correspondences" where "response_date" is not null and "correspondences"."deleted_at" is null limit 1)

  at tests/Feature/CorrespondenceRestApiTest.php:195
    191â–•         Sanctum::actingAs($this->admin);
    192â–• 
    193â–•         $response = $this->getJson('/api/v1/correspondence/stats');
    194â–• 
  âžœ 195â–•         $response->assertStatus(200)
    196â–•             ->assertJsonStructure([
    197â–•                 'success',
    198â–•                 'data' => [
    199â–•                     'total',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DepartureApiControllerTest > it returnsâ€¦   TypeError   
  PHPUnit\Framework\Assert::assertArrayHasKey(): Argument #2 ($array) must be of type ArrayAccess|array, int given, called in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php on line 302

  at tests/Feature/DepartureApiControllerTest.php:42
     38â–• 
     39â–•         $response = $this->getJson('/api/v1/departures');
     40â–• 
     41â–•         $response->assertStatus(200)
  âžœ  42â–•             ->assertJsonStructure([
     43â–•                 'data' => [
     44â–•                     '*' => ['id', 'candidate_id', 'departure_date', 'candidate']
     45â–•                 ],
     46â–•                 'meta' => ['current_page', 'per_page', 'total']

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DepartureApiControllerTest > it filters departuresâ€¦    
  Failed asserting that actual size 13 matches expected size 2.

  at tests/Feature/DepartureApiControllerTest.php:73
     69â–• 
     70â–•         $response = $this->getJson('/api/v1/departures?from_date=2024-01-01&to_date=2024-02-28');
     71â–• 
     72â–•         $response->assertStatus(200);
  âžœ  73â–•         $this->assertCount(2, $response->json('data'));
     74â–•     }
     75â–• 
     76â–•     // =========================================================================
     77â–•     // SHOW

  1   tests/Feature/DepartureApiControllerTest.php:73

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DepartureApiControllerTest > it returns 404 for canâ€¦   
  Expected response status code [404] but received 200.
Failed asserting that 200 is identical to 404.

  at tests/Feature/DepartureApiControllerTest.php:125
    121â–•         $candidate = Candidate::factory()->create();
    122â–• 
    123â–•         $response = $this->getJson("/api/v1/departures/candidate/{$candidate->id}");
    124â–• 
  âžœ 125â–•         $response->assertStatus(404);
    126â–•     }
    127â–• 
    128â–•     // =========================================================================
    129â–•     // STORE

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DepartureApiControllerTest > it updates departure dâ€¦   
  Failed asserting that null is identical to 'IQ123456789'.

  at tests/Feature/DepartureApiControllerTest.php:192
    188â–•             'absher_registered' => true,
    189â–•         ]);
    190â–• 
    191â–•         $response->assertStatus(200)
  âžœ 192â–•             ->assertJsonPath('data.iqama_number', 'IQ123456789');
    193â–•     }
    194â–• 
    195â–•     #[Test]
    196â–•     public function it_updates_salary_information()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DepartureApiControllerTest > it updates salary infoâ€¦   
  Failed asserting that false is identical to true.

  at tests/Feature/DepartureApiControllerTest.php:208
    204â–•             'salary_confirmed' => true,
    205â–•         ]);
    206â–• 
    207â–•         $response->assertStatus(200)
  âžœ 208â–•             ->assertJsonPath('data.salary_confirmed', true);
    209â–•     }
    210â–• 
    211â–•     // =========================================================================
    212â–•     // STATISTICS

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DepartureApiControllerTest > it returns departure sâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such column: is_compliant in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): PDO->prepare()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
#11 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DepartureApiController.php(203): Illuminate\Database\Eloquent\Builder->first()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DepartureApiController->statistics()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#55 /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php(228): Illuminate\Foundation\Testing\TestCase->getJson()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DepartureApiControllerTest->it_returns_departure_statistics()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#66 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: is_compliant (Connection: sqlite, SQL: select 
            COUNT(*) as total_departures,
            SUM(CASE WHEN is_compliant = 1 THEN 1 ELSE 0 END) as compliant_count,
            SUM(CASE WHEN iqama_number IS NOT NULL THEN 1 ELSE 0 END) as with_iqama,
            SUM(CASE WHEN absher_registered = 1 THEN 1 ELSE 0 END) as absher_registered,
            SUM(CASE WHEN wps_registered = 1 THEN 1 ELSE 0 END) as wps_registered,
            SUM(CASE WHEN first_salary_date IS NOT NULL THEN 1 ELSE 0 END) as first_salary_received
         from "departures" where "departures"."deleted_at" is null limit 1) in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
#9 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DepartureApiController.php(203): Illuminate\Database\Eloquent\Builder->first()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DepartureApiController->statistics()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#53 /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php(228): Illuminate\Foundation\Testing\TestCase->getJson()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DepartureApiControllerTest->it_returns_departure_statistics()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#64 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such column: is_compliant (Connection: sqlite, SQL: select 
            COUNT(*) as total_departures,
            SUM(CASE WHEN is_compliant = 1 THEN 1 ELSE 0 END) as compliant_count,
            SUM(CASE WHEN iqama_number IS NOT NULL THEN 1 ELSE 0 END) as with_iqama,
            SUM(CASE WHEN absher_registered = 1 THEN 1 ELSE 0 END) as absher_registered,
            SUM(CASE WHEN wps_registered = 1 THEN 1 ELSE 0 END) as wps_registered,
            SUM(CASE WHEN first_salary_date IS NOT NULL THEN 1 ELSE 0 END) as first_salary_received
         from "departures" where "departures"."deleted_at" is null limit 1)

  at tests/Feature/DepartureApiControllerTest.php:230
    226â–•         }
    227â–• 
    228â–•         $response = $this->getJson('/api/v1/departures/stats');
    229â–• 
  âžœ 230â–•         $response->assertStatus(200)
    231â–•             ->assertJsonStructure([
    232â–•                 'data' => [
    233â–•                     'total_departed',
    234â–•                     'briefing_completed',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > admin can accesâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:48
     44â–•     {
     45â–•         $response = $this->actingAs($this->admin)
     46â–•             ->get(route('document-archive.advanced-search'));
     47â–• 
  âžœ  48â–•         $response->assertStatus(200);
     49â–•         $response->assertViewIs('document-archive.advanced-search');
     50â–•     }
     51â–• 
     52â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it searches byâ€¦    
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:76
     72â–•         // Search by document name
     73â–•         $response = $this->actingAs($this->admin)
     74â–•             ->get(route('document-archive.advanced-search', ['keyword' => 'Passport']));
     75â–• 
  âžœ  76â–•         $response->assertStatus(200);
     77â–•         $response->assertSee('Passport Copy');
     78â–•         $response->assertDontSee('CNIC Copy');
     79â–• 
     80â–•         // Search by document number

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it filters by dâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:112
    108â–• 
    109â–•         $response = $this->actingAs($this->admin)
    110â–•             ->get(route('document-archive.advanced-search', ['document_type' => 'CNIC']));
    111â–• 
  âžœ 112â–•         $response->assertStatus(200);
    113â–•         $response->assertSee('CNIC');
    114â–•         $response->assertDontSee('Passport');
    115â–•     }
    116â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveâ€¦  UniqueConstraintViolationException   
  SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: document_tags.name (Connection: sqlite, SQL: insert into "document_tags" ("name", "slug", "color", "description", "created_by", "updated_by", "updated_at", "created_at") values (Urgent, totam-quis-253808, #6366f1, Sint voluptatem quo mollitia fugit omnis., ?, ?, 2026-01-26 13:29:38, 2026-01-26 13:29:38))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:820
    816â–•         // message to include the bindings with SQL, which will make this exception a
    817â–•         // lot more helpful to the developer instead of just the database's errors.
    818â–•         catch (Exception $e) {
    819â–•             if ($this->isUniqueConstraintError($e)) {
  âžœ 820â–•                 throw new UniqueConstraintViolationException(
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–•

      [2m+18 vendor frames [22m
  19  tests/Feature/DocumentArchiveAdvancedSearchTest.php:120

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it filters by câ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:153
    149â–• 
    150â–•         $response = $this->actingAs($this->admin)
    151â–•             ->get(route('document-archive.advanced-search', ['campus_id' => $this->campus1->id]));
    152â–• 
  âžœ 153â–•         $response->assertStatus(200);
    154â–•         // Should only see documents from campus 1
    155â–•         $this->assertEquals(1, $response->viewData('documents')->count());
    156â–•     }
    157â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > campus admin onâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:176
    172â–• 
    173â–•         $response = $this->actingAs($this->campusAdmin)
    174â–•             ->get(route('document-archive.advanced-search', ['keyword' => 'Doc']));
    175â–• 
  âžœ 176â–•         $response->assertStatus(200);
    177â–•         $response->assertSee('Campus 1 Doc');
    178â–•         $response->assertDontSee('Campus 2 Doc');
    179â–•     }
    180â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it filters by uâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:200
    196â–•                 'upload_date_from' => now()->subDays(10)->format('Y-m-d'),
    197â–•                 'upload_date_to' => now()->format('Y-m-d'),
    198â–•             ]));
    199â–• 
  âžœ 200â–•         $response->assertStatus(200);
    201â–•         $response->assertSee($recentDoc->document_name);
    202â–•         $response->assertDontSee($oldDoc->document_name);
    203â–•     }
    204â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it filters by eâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:224
    220â–•                 'expiry_date_from' => now()->format('Y-m-d'),
    221â–•                 'expiry_date_to' => now()->addDays(30)->format('Y-m-d'),
    222â–•             ]));
    223â–• 
  âžœ 224â–•         $response->assertStatus(200);
    225â–•         $response->assertSee($expiringSoon->document_name);
    226â–•         $response->assertDontSee($expiringLater->document_name);
    227â–•     }
    228â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it filters by eâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:245
    241â–• 
    242â–•         $response = $this->actingAs($this->admin)
    243â–•             ->get(route('document-archive.advanced-search', ['is_expired' => true]));
    244â–• 
  âžœ 245â–•         $response->assertStatus(200);
    246â–•         $response->assertSee($expired->document_name);
    247â–•         $response->assertDontSee($valid->document_name);
    248â–•     }
    249â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it filters by hâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:266
    262â–• 
    263â–•         $response = $this->actingAs($this->admin)
    264â–•             ->get(route('document-archive.advanced-search', ['has_expiry' => true]));
    265â–• 
  âžœ 266â–•         $response->assertStatus(200);
    267â–•         $response->assertSee($withExpiry->document_name);
    268â–•         $response->assertDontSee($withoutExpiry->document_name);
    269â–•     }
    270â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it filters by fâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:287
    283â–• 
    284â–•         $response = $this->actingAs($this->admin)
    285â–•             ->get(route('document-archive.advanced-search', ['file_type' => 'pdf']));
    286â–• 
  âžœ 287â–•         $response->assertStatus(200);
    288â–•         $response->assertSee($pdfDoc->document_name);
    289â–•         $response->assertDontSee($imageDoc->document_name);
    290â–•     }
    291â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it only returnsâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:309
    305â–• 
    306â–•         $response = $this->actingAs($this->admin)
    307â–•             ->get(route('document-archive.advanced-search', ['keyword' => 'Doc']));
    308â–• 
  âžœ 309â–•         $response->assertStatus(200);
    310â–•         $response->assertSee('Current Doc');
    311â–•         $response->assertDontSee('Old Version Doc');
    312â–•     }
    313â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveâ€¦  UniqueConstraintViolationException   
  SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: document_tags.name (Connection: sqlite, SQL: insert into "document_tags" ("name", "slug", "color", "description", "created_by", "updated_by", "updated_at", "created_at") values (Urgent, quo-perspiciatis-67186, #f59e0b, Libero voluptatem consequuntur voluptatum eum aut., ?, ?, 2026-01-26 13:29:39, 2026-01-26 13:29:39))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:820
    816â–•         // message to include the bindings with SQL, which will make this exception a
    817â–•         // lot more helpful to the developer instead of just the database's errors.
    818â–•         catch (Exception $e) {
    819â–•             if ($this->isUniqueConstraintError($e)) {
  âžœ 820â–•                 throw new UniqueConstraintViolationException(
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–•

      [2m+18 vendor frames [22m
  19  tests/Feature/DocumentArchiveAdvancedSearchTest.php:317

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveAdvancedSearchTest > it paginates reâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveAdvancedSearchTest.php:355
    351â–• 
    352â–•         $response = $this->actingAs($this->admin)
    353â–•             ->get(route('document-archive.advanced-search', ['keyword' => 'Document']));
    354â–• 
  âžœ 355â–•         $response->assertStatus(200);
    356â–•         $this->assertEquals(20, $response->viewData('documents')->count());
    357â–•         $this->assertEquals(25, $response->viewData('documents')->total());
    358â–•     }
    359â–• }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveRestApiTest > it shows specific docuâ€¦   
  Failed asserting that an array has the key 'file_path'.

  at tests/Feature/DocumentArchiveRestApiTest.php:114
    110â–• 
    111â–•         $response = $this->getJson("/api/v1/documents/{$this->document->id}");
    112â–• 
    113â–•         $response->assertStatus(200)
  âžœ 114â–•             ->assertJsonStructure([
    115â–•                 'success',
    116â–•                 'data' => [
    117â–•                     'id',
    118â–•                     'document_name',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveRestApiTest > it returns expiring doâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

TypeError: Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356 and defined in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php:455
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php(356): Carbon\Carbon::rawAddUnit()
#1 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2905): Carbon\Carbon->addUnit()
#2 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2596): Carbon\Carbon->callModifierMethod()
#3 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DocumentArchiveApiController.php(192): Carbon\Carbon->__call()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DocumentArchiveApiController->expiring()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#47 /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php(189): Illuminate\Foundation\Testing\TestCase->getJson()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DocumentArchiveRestApiTest->it_returns_expiring_documents()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#58 {main}

----------------------------------------------------------------------------------

Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356

  at tests/Feature/DocumentArchiveRestApiTest.php:191
    187â–•         Sanctum::actingAs($this->admin);
    188â–• 
    189â–•         $response = $this->getJson('/api/v1/documents/expiring?days=30');
    190â–• 
  âžœ 191â–•         $response->assertStatus(200)
    192â–•             ->assertJsonStructure([
    193â–•                 'success',
    194â–•                 'data',
    195â–•                 'meta' => [

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveRestApiTest > it returns download inâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/DocumentArchiveRestApiTest.php:258
    254â–•         Sanctum::actingAs($this->admin);
    255â–• 
    256â–•         $response = $this->getJson("/api/v1/documents/{$this->document->id}/download");
    257â–• 
  âžœ 258â–•         $response->assertStatus(200)
    259â–•             ->assertJsonStructure([
    260â–•                 'success',
    261â–•                 'data' => [
    262â–•                     'document_id',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveRestApiTest > it filters expiring soâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

TypeError: Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356 and defined in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php:455
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php(356): Carbon\Carbon::rawAddUnit()
#1 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2905): Carbon\Carbon->addUnit()
#2 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2596): Carbon\Carbon->callModifierMethod()
#3 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DocumentArchiveApiController.php(57): Carbon\Carbon->__call()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DocumentArchiveApiController->index()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#47 /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php(391): Illuminate\Foundation\Testing\TestCase->getJson()
#48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DocumentArchiveRestApiTest->it_filters_expiring_soon_documents()
#49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#58 {main}

----------------------------------------------------------------------------------

Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356

  at tests/Feature/DocumentArchiveRestApiTest.php:393
    389â–•         Sanctum::actingAs($this->admin);
    390â–• 
    391â–•         $response = $this->getJson('/api/v1/documents?expiring_soon=true&expiry_days=30');
    392â–• 
  âžœ 393â–•         $response->assertStatus(200);
    394â–• 
    395â–•         $data = $response->json('data');
    396â–•         $this->assertNotEmpty($data);
    397â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveRestApiTest > it orders documents byâ€¦   
  Failed asserting that 1 matches expected 3.

  at tests/Feature/DocumentArchiveRestApiTest.php:450
    446â–•         $response->assertStatus(200);
    447â–• 
    448â–•         $data = $response->json('data');
    449â–•         // First document should be the newest
  âžœ 450â–•         $this->assertEquals($newer->id, $data[0]['id']);
    451â–•     }
    452â–• }
    453â–•

  1   tests/Feature/DocumentArchiveRestApiTest.php:450

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveVersionComparisonTest > it comparesâ€¦    
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/DocumentArchiveVersionComparisonTest.php:63
     59â–•                 'version1_id' => $originalDoc->id,
     60â–•                 'version2_id' => $newVersion->id,
     61â–•             ]);
     62â–• 
  âžœ  63â–•         $response->assertStatus(200);
     64â–•         $response->assertViewIs('document-archive.compare-versions');
     65â–•         $response->assertViewHas('version1');
     66â–•         $response->assertViewHas('version2');
     67â–•         $response->assertViewHas('comparison');

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveVersionComparisonTest > it detects câ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/DocumentArchiveVersionComparisonTest.php:96
     92â–•                 'version1_id' => $originalDoc->id,
     93â–•                 'version2_id' => $newVersion->id,
     94â–•             ]);
     95â–• 
  âžœ  96â–•         $response->assertStatus(200);
     97â–• 
     98â–•         $comparison = $response->viewData('comparison')['metadata'];
     99â–• 
    100â–•         // Document number changed

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveVersionComparisonTest > it formats fâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/DocumentArchiveVersionComparisonTest.php:182
    178â–•                 'version1_id' => $smallDoc->id,
    179â–•                 'version2_id' => $largeDoc->id,
    180â–•             ]);
    181â–• 
  âžœ 182â–•         $response->assertStatus(200);
    183â–• 
    184â–•         $comparison = $response->viewData('comparison')['metadata'];
    185â–• 
    186â–•         // File sizes should be formatted

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveVersionComparisonTest > it shows uplâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/DocumentArchiveVersionComparisonTest.php:214
    210â–•                 'version1_id' => $version1->id,
    211â–•                 'version2_id' => $version2->id,
    212â–•             ]);
    213â–• 
  âžœ 214â–•         $response->assertStatus(200);
    215â–• 
    216â–•         $comparison = $response->viewData('comparison')['metadata'];
    217â–• 
    218â–•         $this->assertEquals('John Doe', $comparison['uploaded_by']['v1']);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveVersionComparisonTest > it comparesâ€¦    
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/DocumentArchiveVersionComparisonTest.php:280
    276â–•                 'version1_id' => $version1->id,
    277â–•                 'version2_id' => $version2->id,
    278â–•             ]);
    279â–• 
  âžœ 280â–•         $response->assertStatus(200);
    281â–• 
    282â–•         $comparison = $response->viewData('comparison')['metadata'];
    283â–• 
    284â–•         $this->assertTrue($comparison['expiry_date']['changed']);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\DocumentArchiveVersionComparisonTest > it comparesâ€¦    
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/DocumentArchiveVersionComparisonTest.php:332
    328â–•                 'version1_id' => $version1->id,
    329â–•                 'version2_id' => $version2->id,
    330â–•             ]);
    331â–• 
  âžœ 332â–•         $response->assertStatus(200);
    333â–• 
    334â–•         $comparison = $response->viewData('comparison')['metadata'];
    335â–• 
    336â–•         // All should be marked as changed

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\LoadTest > it handles concurrent batch enrollment      
  Failed asserting that 10 matches expected 0.

  at tests/Feature/LoadTest.php:83
     79â–• 
     80â–•         // Verify capacity was respected
     81â–•         $actualEnrolled = Candidate::where('batch_id', $batch->id)->count();
     82â–•         $this->assertLessThanOrEqual(10, $actualEnrolled);
  âžœ  83â–•         $this->assertEquals($enrolledCount, $actualEnrolled);
     84â–•     }
     85â–• 
     86â–•     #[Test]
     87â–•     public function it_handles_bulk_candidate_creation()

  1   tests/Feature/LoadTest.php:83

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\LoadTest > it handles concurrent api requests          
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/LoadTest.php:195
    191â–•         $duration = $endTime - $startTime;
    192â–• 
    193â–•         // All requests should succeed
    194â–•         foreach ($responses as $response) {
  âžœ 195â–•             $response->assertOk();
    196â–•         }
    197â–• 
    198â–•         // Should complete in reasonable time
    199â–•         $this->assertLessThan(10, $duration, "Concurrent API requests took too long: {$duration}s");

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\LoadTest > it handles dashboard with large dataset     
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 HAVING clause on a non-aggregate query in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): PDO->prepare()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3603): Illuminate\Database\Query\Builder->get()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3531): Illuminate\Database\Query\Builder->aggregate()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->count()
#11 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(537): Illuminate\Database\Eloquent\Builder->__call()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php(427): App\Http\Controllers\DashboardController->App\Http\Controllers\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php(453): Illuminate\Cache\Repository->remember()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(361): Illuminate\Cache\CacheManager->__call()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(513): Illuminate\Support\Facades\Facade::__callStatic()
#16 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(38): App\Http\Controllers\DashboardController->getAlerts()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\DashboardController->index()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#63 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#64 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#65 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#66 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#67 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#68 /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php(227): Illuminate\Foundation\Testing\TestCase->get()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\LoadTest->it_handles_dashboard_with_large_dataset()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#74 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#75 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#76 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#77 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#78 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#79 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 HAVING clause on a non-aggregate query (Connection: sqlite, SQL: select count(*) as aggregate from (select "candidates".*, (select count(*) from "candidate_screenings" where "candidates"."id" = "candidate_screenings"."candidate_id" and "candidate_screenings"."deleted_at" is null) as "screenings_count" from "candidates" where "status" = screening and "candidates"."deleted_at" is null having "screenings_count" < 3) as "temp_table") in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3603): Illuminate\Database\Query\Builder->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3531): Illuminate\Database\Query\Builder->aggregate()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->count()
#9 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(537): Illuminate\Database\Eloquent\Builder->__call()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php(427): App\Http\Controllers\DashboardController->App\Http\Controllers\{closure}()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php(453): Illuminate\Cache\Repository->remember()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(361): Illuminate\Cache\CacheManager->__call()
#13 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(513): Illuminate\Support\Facades\Facade::__callStatic()
#14 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(38): App\Http\Controllers\DashboardController->getAlerts()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\DashboardController->index()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#63 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#64 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#65 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#66 /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php(227): Illuminate\Foundation\Testing\TestCase->get()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\LoadTest->it_handles_dashboard_with_large_dataset()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#74 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#75 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#76 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#77 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 HAVING clause on a non-aggregate query (Connection: sqlite, SQL: select count(*) as aggregate from (select "candidates".*, (select count(*) from "candidate_screenings" where "candidates"."id" = "candidate_screenings"."candidate_id" and "candidate_screenings"."deleted_at" is null) as "screenings_count" from "candidates" where "status" = screening and "candidates"."deleted_at" is null having "screenings_count" < 3) as "temp_table")

  at tests/Feature/LoadTest.php:232
    228â–• 
    229â–•         $endTime = microtime(true);
    230â–•         $duration = $endTime - $startTime;
    231â–• 
  âžœ 232â–•         $response->assertOk();
    233â–• 
    234â–•         // Dashboard should load in reasonable time even with 400 candidates
    235â–•         $this->assertLessThan(5, $duration, "Dashboard took too long: {$duration}s");
    236â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\LoadTest > it handles report generaâ€¦  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 87, pass, 2026-01-26 13:29:41, 2026-01-26 13:29:41))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+19 vendor frames [22m
  20  tests/Feature/LoadTest.php:263

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\LoadTest > it handles search with large dataset        
  Expected: <div class="space-y-6">\n
      <div class="flex items-center justify-between">\n
          <h2 class="text-2xl font-bold text-gray-900">All Candidates</h2>\n
  ... (942 more lines)

  To contain: Muhammad Ali Unique Name

  at tests/Feature/LoadTest.php:312
    308â–•         $endTime = microtime(true);
    309â–•         $duration = $endTime - $startTime;
    310â–• 
    311â–•         $response->assertOk();
  âžœ 312â–•         $response->assertSee('Muhammad Ali Unique Name');
    313â–• 
    314â–•         // Search should be fast even with 500+ records
    315â–•         $this->assertLessThan(3, $duration, "Search took too long: {$duration}s");
    316â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\LoadTest > it handles export with large dataset        
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/LoadTest.php:333
    329â–• 
    330â–•         $endTime = microtime(true);
    331â–•         $duration = $endTime - $startTime;
    332â–• 
  âžœ 333â–•         $response->assertOk();
    334â–• 
    335â–•         // Export should complete in reasonable time
    336â–•         $this->assertLessThan(30, $duration, "Export took too long: {$duration}s");
    337â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\LoadTest > it handles duplicate check with large daâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/LoadTest.php:443
    439â–• 
    440â–•         $endTime = microtime(true);
    441â–•         $duration = $endTime - $startTime;
    442â–• 
  âžœ 443â–•         $response->assertOk();
    444â–• 
    445â–•         // Duplicate check should be fast
    446â–•         $this->assertLessThan(3, $duration, "Duplicate check took too long: {$duration}s");
    447â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationApiTest > it verifies document             
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/RegistrationApiTest.php:127
    123â–•         $response = $this->actingAs($this->admin)->postJson(
    124â–•             route('registration.verify-document', ['document' => $document->id])
    125â–•         );
    126â–• 
  âžœ 127â–•         $response->assertOk();
    128â–• 
    129â–•         $document->refresh();
    130â–•         $this->assertEquals('verified', $document->status);
    131â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationApiTest > it rejects document with reasâ€¦   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/RegistrationApiTest.php:150
    146â–•                 'reason' => 'Document is blurry and unreadable',
    147â–•             ]
    148â–•         );
    149â–• 
  âžœ 150â–•         $response->assertOk();
    151â–• 
    152â–•         $document->refresh();
    153â–•         $this->assertEquals('rejected', $document->status);
    154â–•         $this->assertStringContainsString('blurry', $document->rejection_reason);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationApiTest > it rejects training start witâ€¦   
  Unable to find JSON fragment: 

[["message"]]

within

[{"message":"Cannot start training. Missing requirements.","missing_requirements":["Completed undertaking is required","Missing verified documents: cnic, education, photo","Next of Kin information is required"],"success":false}].
Failed asserting that false is true.

  at tests/Feature/RegistrationApiTest.php:238
    234â–•             ]
    235â–•         );
    236â–• 
    237â–•         $response->assertStatus(422);
  âžœ 238â–•         $response->assertJsonFragment(['message']);
    239â–•     }
    240â–• 
    241â–•     #[Test]
    242â–•     public function it_rejects_training_start_without_next_of_kin()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationApiTest > it completes registration witâ€¦   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/RegistrationApiTest.php:315
    311â–•         $response = $this->actingAs($this->admin)->postJson(
    312â–•             "/registration/{$this->candidate->id}/complete"
    313â–•         );
    314â–• 
  âžœ 315â–•         $response->assertOk();
    316â–•     }
    317â–• 
    318â–•     #[Test]
    319â–•     public function it_blocks_completion_with_expired_documents()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationApiTest > it blocks completion with expâ€¦   
  Expected response status code [422] but received 302.
Failed asserting that 302 is identical to 422.

  at tests/Feature/RegistrationApiTest.php:344
    340â–•         $response = $this->actingAs($this->admin)->postJson(
    341â–•             "/registration/{$this->candidate->id}/complete"
    342â–•         );
    343â–• 
  âžœ 344â–•         $response->assertStatus(422);
    345â–•         $data = $response->json();
    346â–•         $this->assertStringContainsString('expired', strtolower($data['message']));
    347â–•     }
    348â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationApiTest > it blocks completion with penâ€¦   
  Expected response status code [422] but received 302.
Failed asserting that 302 is identical to 422.

  at tests/Feature/RegistrationApiTest.php:364
    360â–•         $response = $this->actingAs($this->admin)->postJson(
    361â–•             "/registration/{$this->candidate->id}/complete"
    362â–•         );
    363â–• 
  âžœ 364â–•         $response->assertStatus(422);
    365â–•     }
    366â–• 
    367â–•     // ==================== HELPER METHODS ====================
    368â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > admin can view candidaâ€¦   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Routing\Exceptions\UrlGenerationException: Missing required parameter for [Route: candidates.show] [URI: candidates/{candidate}] [Missing parameter: candidate]. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Exceptions/UrlGenerationException.php:35
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/RouteUrlGenerator.php(90): Illuminate\Routing\Exceptions\UrlGenerationException::forMissingParameters()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(544): Illuminate\Routing\RouteUrlGenerator->to()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(509): Illuminate\Routing\UrlGenerator->toRoute()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#4 /home/iihsedup/oep.jaamiah.com/storage/framework/views/6aa20566dd4adfcb10f89b78a66a836e.php(21): route()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#63 /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php(84): Illuminate\Foundation\Testing\TestCase->get()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\RegistrationControllerTest->admin_can_view_candidate_registration_details()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#74 {main}

Next Spatie\LaravelIgnition\Exceptions\ViewException: Missing required parameter for [Route: candidates.show] [URI: candidates/{candidate}] [Missing parameter: candidate]. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Exceptions/UrlGenerationException.php:35
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/RouteUrlGenerator.php(90): Illuminate\Routing\Exceptions\UrlGenerationException::forMissingParameters()
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(544): Illuminate\Routing\RouteUrlGenerator->to()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(509): Illuminate\Routing\UrlGenerator->toRoute()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#4 /home/iihsedup/oep.jaamiah.com/resources/views/registration/show.blade.php(22): route()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#63 /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php(84): Illuminate\Foundation\Testing\TestCase->get()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\RegistrationControllerTest->admin_can_view_candidate_registration_details()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#74 {main}

----------------------------------------------------------------------------------

Missing required parameter for [Route: candidates.show] [URI: candidates/{candidate}] [Missing parameter: candidate].

  at tests/Feature/RegistrationControllerTest.php:86
     82â–•         $candidate = Candidate::factory()->create(['status' => 'screening_passed']);
     83â–• 
     84â–•         $response = $this->actingAs($user)->get("/registration/{$candidate->id}");
     85â–• 
  âžœ  86â–•         $response->assertStatus(200);
     87â–•         $response->assertViewIs('registration.show');
     88â–•         $response->assertViewHas('candidate');
     89â–•     }
     90â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > admin can delete documâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
Failed asserting that false is true.

  at tests/Feature/RegistrationControllerTest.php:175
    171â–•         ]);
    172â–• 
    173â–•         $response = $this->actingAs($user)->delete("/registration/documents/{$document->id}");
    174â–• 
  âžœ 175â–•         $response->assertRedirect();
    176â–•         $response->assertSessionHas('success');
    177â–•         $this->assertDatabaseMissing('registration_documents', ['id' => $document->id]);
    178â–•     }
    179â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > campus admin cannot deâ€¦   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/RegistrationControllerTest.php:201
    197â–•         ]);
    198â–• 
    199â–•         $response = $this->actingAs($user)->delete("/registration/documents/{$document->id}");
    200â–• 
  âžœ 201â–•         $response->assertStatus(403);
    202â–•     }
    203â–• 
    204â–•     // =========================================================================
    205â–•     // SAVE NEXT OF KIN

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > admin can save next ofâ€¦   
  Session is missing expected key [success].
Failed asserting that false is true.

  at tests/Feature/RegistrationControllerTest.php:223
    219â–•             'address' => '123 Main Street, Lahore',
    220â–•         ]);
    221â–• 
    222â–•         $response->assertRedirect();
  âžœ 223â–•         $response->assertSessionHas('success');
    224â–•         $this->assertDatabaseHas('next_of_kins', [
    225â–•             'candidate_id' => $candidate->id,
    226â–•             'name' => 'John Father',
    227â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > registration succeedsâ€¦    
  Failed asserting that two strings are equal.
  -'http://oep.jaamiah.com/registration'
  +'http://oep.jaamiah.com'
  

  at tests/Feature/RegistrationControllerTest.php:403
    399â–•         ]);
    400â–• 
    401â–•         $response = $this->actingAs($user)->post("/registration/{$candidate->id}/complete");
    402â–• 
  âžœ 403â–•         $response->assertRedirect(route('registration.index'));
    404â–•         $response->assertSessionHas('success');
    405â–• 
    406â–•         $candidate->refresh();
    407â–•         $this->assertEquals('registered', $candidate->status);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > admin can verify documâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
Failed asserting that false is true.

  at tests/Feature/RegistrationControllerTest.php:461
    457â–•         $response = $this->actingAs($user)->post("/registration/documents/{$document->id}/verify", [
    458â–•             'verification_remarks' => 'Document verified successfully',
    459â–•         ]);
    460â–• 
  âžœ 461â–•         $response->assertRedirect();
    462â–•         $response->assertSessionHas('success');
    463â–• 
    464â–•         $document->refresh();
    465â–•         $this->assertEquals('verified', $document->status);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > regular user cannot veâ€¦   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/RegistrationControllerTest.php:479
    475â–•         ]);
    476â–• 
    477â–•         $response = $this->actingAs($user)->post("/registration/documents/{$document->id}/verify");
    478â–• 
  âžœ 479â–•         $response->assertStatus(403);
    480â–•     }
    481â–• 
    482â–•     // =========================================================================
    483â–•     // REJECT DOCUMENT

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > admin can reject documâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
Failed asserting that false is true.

  at tests/Feature/RegistrationControllerTest.php:500
    496â–•         $response = $this->actingAs($user)->post("/registration/documents/{$document->id}/reject", [
    497â–•             'rejection_reason' => 'Document is blurry and unreadable',
    498â–•         ]);
    499â–• 
  âžœ 500â–•         $response->assertRedirect();
    501â–•         $response->assertSessionHas('success');
    502â–• 
    503â–•         $document->refresh();
    504â–•         $this->assertEquals('rejected', $document->status);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > reject document requirâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/RegistrationControllerTest.php:518
    514â–•         ]);
    515â–• 
    516â–•         $response = $this->actingAs($user)->post("/registration/documents/{$document->id}/reject", []);
    517â–• 
  âžœ 518â–•         $response->assertSessionHasErrors(['rejection_reason']);
    519â–•     }
    520â–• 
    521â–•     // =========================================================================
    522â–•     // REGISTRATION STATUS

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > status returns json whâ€¦   
  Failed asserting that an array has the key 'registration_status'.

  at tests/Feature/RegistrationControllerTest.php:547
    543â–•         $response = $this->actingAs($user)
    544â–•             ->getJson("/registration/{$candidate->id}/status");
    545â–• 
    546â–•         $response->assertStatus(200);
  âžœ 547â–•         $response->assertJsonStructure([
    548â–•             'candidate',
    549â–•             'registration_status' => [
    550â–•                 'documents',
    551â–•                 'documents_complete',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > admin can start trainiâ€¦   
  Failed asserting that two strings are equal.
  -'http://oep.jaamiah.com/training'
  +'http://oep.jaamiah.com'
  

  at tests/Feature/RegistrationControllerTest.php:574
    570â–•         $response = $this->actingAs($user)->post("/registration/{$candidate->id}/start-training", [
    571â–•             'batch_id' => $batch->id,
    572â–•         ]);
    573â–• 
  âžœ 574â–•         $response->assertRedirect(route('training.index'));
    575â–•         $response->assertSessionHas('success');
    576â–• 
    577â–•         $candidate->refresh();
    578â–•         $this->assertEquals('training', $candidate->status);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > start training validatâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/RegistrationControllerTest.php:607
    603â–•         $response = $this->actingAs($user)->post("/registration/{$candidate->id}/start-training", [
    604â–•             'batch_id' => 99999,
    605â–•         ]);
    606â–• 
  âžœ 607â–•         $response->assertSessionHasErrors(['batch_id']);
    608â–•     }
    609â–• 
    610â–•     // =========================================================================
    611â–•     // QR CODE VERIFICATION

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > valid qr code shows veâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RegistrationControllerTest.php:626
    622â–•         $token = hash('sha256', $candidate->id . $candidate->cnic . config('app.key'));
    623â–• 
    624â–•         $response = $this->get("/registration/verify/{$candidate->id}/{$token}");
    625â–• 
  âžœ 626â–•         $response->assertStatus(200);
    627â–•         $response->assertViewIs('registration.verify-result');
    628â–•         $response->assertViewHas('success', true);
    629â–•     }
    630â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest >â€¦   AssertionFailedError   
  The response is not a view.

  at tests/Feature/RegistrationControllerTest.php:639
    635â–• 
    636â–•         $response = $this->get("/registration/verify/{$candidate->id}/invalid-token");
    637â–• 
    638â–•         $response->assertStatus(403);
  âžœ 639â–•         $response->assertViewHas('success', false);
    640â–•     }
    641â–• 
    642â–•     #[Test]
    643â–•     public function qr_verification_fails_for_nonexistent_candidate()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RegistrationControllerTest > qr verification failsâ€¦    
  Expected response status code [404] but received 403.
Failed asserting that 403 is identical to 404.

  at tests/Feature/RegistrationControllerTest.php:647
    643â–•     public function qr_verification_fails_for_nonexistent_candidate()
    644â–•     {
    645â–•         $response = $this->get('/registration/verify/99999/any-token');
    646â–• 
  âžœ 647â–•         $response->assertStatus(404);
    648â–•     }
    649â–• 
    650â–•     // =========================================================================
    651â–•     // AUTHORIZATION

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api index returnâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:38
     34â–• 
     35â–•         $response = $this->actingAs($this->user)
     36â–•             ->getJson('/api/v1/remittance/alerts/');
     37â–• 
  âžœ  38â–•         $response->assertStatus(200)
     39â–•             ->assertJsonStructure([
     40â–•                 'data' => [
     41â–•                     '*' => [
     42â–•                         'id',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api index filterâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:71
     67â–• 
     68â–•         $response = $this->actingAs($this->user)
     69â–•             ->getJson('/api/v1/remittance/alerts/?status=unresolved');
     70â–• 
  âžœ  71â–•         $response->assertStatus(200)
     72â–•             ->assertJsonPath('total', 3);
     73â–•     }
     74â–• 
     75â–•     public function test_api_index_filters_by_severity()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api index filterâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:89
     85â–• 
     86â–•         $response = $this->actingAs($this->user)
     87â–•             ->getJson('/api/v1/remittance/alerts/?severity=critical');
     88â–• 
  âžœ  89â–•         $response->assertStatus(200)
     90â–•             ->assertJsonPath('total', 2);
     91â–•     }
     92â–• 
     93â–•     public function test_api_index_filters_by_alert_type()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api index filterâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:106
    102â–• 
    103â–•         $response = $this->actingAs($this->user)
    104â–•             ->getJson('/api/v1/remittance/alerts/?type=missing_remittance');
    105â–• 
  âžœ 106â–•         $response->assertStatus(200)
    107â–•             ->assertJsonPath('total', 2);
    108â–•     }
    109â–• 
    110â–•     public function test_api_show_returns_single_alert()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api show returnsâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:119
    115â–• 
    116â–•         $response = $this->actingAs($this->user)
    117â–•             ->getJson("/api/v1/remittance/alerts/{$alert->id}");
    118â–• 
  âžœ 119â–•         $response->assertStatus(200)
    120â–•             ->assertJson([
    121â–•                 'id' => $alert->id,
    122â–•                 'alert_type' => $alert->alert_type,
    123â–•                 'severity' => $alert->severity,

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api show marks aâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:138
    134â–• 
    135â–•         $response = $this->actingAs($this->user)
    136â–•             ->getJson("/api/v1/remittance/alerts/{$alert->id}");
    137â–• 
  âžœ 138â–•         $response->assertStatus(200);
    139â–• 
    140â–•         $alert->refresh();
    141â–•         $this->assertTrue($alert->is_read);
    142â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api unread countâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:167
    163â–• 
    164â–•         $response = $this->actingAs($this->user)
    165â–•             ->getJson('/api/v1/remittance/alerts/stats/unread-count');
    166â–• 
  âžœ 167â–•         $response->assertStatus(200)
    168â–•             ->assertJson(['count' => 3]);
    169â–•     }
    170â–• 
    171â–•     public function test_api_unread_count_filters_by_candidate()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api unread countâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:185
    181â–• 
    182â–•         $response = $this->actingAs($this->user)
    183â–•             ->getJson("/api/v1/remittance/alerts/stats/unread-count?candidate_id={$this->candidate->id}");
    184â–• 
  âžœ 185â–•         $response->assertStatus(200)
    186â–•             ->assertJson(['count' => 2]);
    187â–•     }
    188â–• 
    189â–•     public function test_api_statistics_returns_comprehensive_stats()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api statistics râ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:198
    194â–• 
    195â–•         $response = $this->actingAs($this->user)
    196â–•             ->getJson('/api/v1/remittance/alerts/stats/overview');
    197â–• 
  âžœ 198â–•         $response->assertStatus(200)
    199â–•             ->assertJsonStructure([
    200â–•                 'total_alerts',
    201â–•                 'unresolved_alerts',
    202â–•                 'critical_alerts',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api by candidateâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:225
    221â–• 
    222â–•         $response = $this->actingAs($this->user)
    223â–•             ->getJson("/api/v1/remittance/alerts/candidate/{$this->candidate->id}");
    224â–• 
  âžœ 225â–•         $response->assertStatus(200)
    226â–•             ->assertJsonStructure([
    227â–•                 'candidate_id',
    228â–•                 'alerts',
    229â–•                 'summary' => [

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api mark as readâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:250
    246â–• 
    247â–•         $response = $this->actingAs($this->user)
    248â–•             ->postJson("/api/v1/remittance/alerts/{$alert->id}/read");
    249â–• 
  âžœ 250â–•         $response->assertStatus(200)
    251â–•             ->assertJson(['message' => 'Alert marked as read']);
    252â–• 
    253â–•         $alert->refresh();
    254â–•         $this->assertTrue($alert->is_read);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api resolve updaâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:270
    266â–• 
    267â–•         $response = $this->actingAs($this->user)
    268â–•             ->postJson("/api/v1/remittance/alerts/{$alert->id}/resolve", $data);
    269â–• 
  âžœ 270â–•         $response->assertStatus(200)
    271â–•             ->assertJson(['message' => 'Alert resolved successfully']);
    272â–• 
    273â–•         $alert->refresh();
    274â–•         $this->assertTrue($alert->is_resolved);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api resolve requâ€¦   
  Expected response status code [422] but received 403.
Failed asserting that 403 is identical to 422.

  at tests/Feature/RemittanceAlertApiControllerTest.php:289
    285â–• 
    286â–•         $response = $this->actingAs($this->user)
    287â–•             ->postJson("/api/v1/remittance/alerts/{$alert->id}/resolve", []);
    288â–• 
  âžœ 289â–•         $response->assertStatus(422)
    290â–•             ->assertJsonValidationErrors(['resolution_notes']);
    291â–•     }
    292â–• 
    293â–•     public function test_api_dismiss_quickly_resolves_alert()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api dismiss quicâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:302
    298â–• 
    299â–•         $response = $this->actingAs($this->user)
    300â–•             ->postJson("/api/v1/remittance/alerts/{$alert->id}/dismiss");
    301â–• 
  âžœ 302â–•         $response->assertStatus(200)
    303â–•             ->assertJson(['message' => 'Alert dismissed successfully']);
    304â–• 
    305â–•         $alert->refresh();
    306â–•         $this->assertTrue($alert->is_resolved);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api index defaulâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:336
    332â–• 
    333â–•         $response = $this->actingAs($this->user)
    334â–•             ->getJson('/api/v1/remittance/alerts/');
    335â–• 
  âžœ 336â–•         $response->assertStatus(200)
    337â–•             ->assertJsonPath('total', 3);
    338â–•     }
    339â–• 
    340â–•     public function test_api_index_can_show_all_alerts()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceAlertApiControllerTest > api index can shâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceAlertApiControllerTest.php:354
    350â–• 
    351â–•         $response = $this->actingAs($this->user)
    352â–•             ->getJson('/api/v1/remittance/alerts/?status=all');
    353â–• 
  âžœ 354â–•         $response->assertStatus(200)
    355â–•             ->assertJsonPath('total', 5);
    356â–•     }
    357â–• }
    358â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api index returns pagâ€¦   
  Failed asserting that an array has the key 'candidate_id'.

  at tests/Feature/RemittanceApiControllerTest.php:39
     35â–• 
     36â–•         $response = $this->actingAs($this->user)->getJson('/api/v1/remittances/');
     37â–• 
     38â–•         $response->assertStatus(200)
  âžœ  39â–•             ->assertJsonStructure([
     40â–•                 'data' => [
     41â–•                     '*' => [
     42â–•                         'id',
     43â–•                         'candidate_id',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api show returns singâ€¦   
  Unable to find JSON: 

[{
    "id": 1,
    "transaction_reference": "RMT-20260126-VX2477",
    "amount": 21441.34
}]

within response JSON:

[{
    "success": true,
    "data": {
        "id": 1,
        "transaction_reference": "RMT-20260126-VX2477",
        "transaction_type": "reimbursement",
        "transaction_date": "2025-09-22",
        "amount": "21441.34",
        "currency": "PKR",
        "exchange_rate": "70.6125",
        "amount_in_pkr": "1514026.62",
        "formatted_amount": "PKR 21,441.34",
        "transfer_method": "cash",
        "bank_name": "HBL",
        "account_number": "0489-8141004-564",
        "swift_code": null,
        "iban": null,
        "purpose": "Overtime payment",
        "description": "Est perspiciatis enim deserunt dolorem unde et.",
        "month_year": "2019-06",
        "has_proof": false,
        "proof_url": null,
        "proof_document_type": null,
        "proof_document_size": null,
        "verification_status": "under_review",
        "is_verified": false,
        "is_pending": false,
        "verified_at": null,
        "verification_notes": null,
        "rejection_reason": null,
        "status": "failed",
        "candidate": {
            "id": 1,
            "name": "Georgiana Rutherford",
            "passport_number": null
        },
        "campus": {
            "id": 1,
            "name": "asperiores Campus"
        },
        "departure": {
            "id": 1,
            "departure_date": "2025-05-30"
        },
        "verified_by": {
            "id": null,
            "name": null
        },
        "recorded_by": {
            "id": 1,
            "name": "Joany D'Amore Sr."
        },
        "metadata": null,
        "created_at": "2026-01-26 13:29:46",
        "updated_at": "2026-01-26 13:29:46"
    }
}].


Failed asserting that an array has the subset Array &0 [
    'id' => 1,
    'transaction_reference' => 'RMT-20260126-VX2477',
    'amount' => 21441.34,
].
       'created_at' => '2026-01-26 13:29:46',
       'updated_at' => '2026-01-26 13:29:46',
     ),
  -  'id' => 1,
  -  'transaction_reference' => 'RMT-20260126-VX2477',
  -  'amount' => 21441.34,
   )
  

  at tests/Feature/RemittanceApiControllerTest.php:69
     65â–• 
     66â–•         $response = $this->actingAs($this->user)->getJson("/api/v1/remittances/{$remittance->id}");
     67â–• 
     68â–•         $response->assertStatus(200)
  âžœ  69â–•             ->assertJson([
     70â–•                 'id' => $remittance->id,
     71â–•                 'transaction_reference' => $remittance->transaction_reference,
     72â–•                 'amount' => (float)$remittance->amount,
     73â–•             ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api show returns 404â€¦    
  Unable to find JSON: 

[{
    "error": "Remittance not found"
}]

within response JSON:

[{
    "message": "No query results for model [App\\Models\\Remittance] 99999",
    "exception": "Symfony\\Component\\HttpKernel\\Exception\\NotFoundHttpException",
    "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php",
    "line": 636,
    "trace": [
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php",
            "line": 584,
            "function": "prepareException",
            "class": "Illuminate\\Foundation\\Exceptions\\Handler",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php",
            "line": 51,
            "function": "render",
            "class": "Illuminate\\Foundation\\Exceptions\\Handler",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 172,
            "function": "handleException",
            "class": "Illuminate\\Routing\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php",
            "line": 51,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Routing\\Middleware\\SubstituteBindings",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php",
            "line": 161,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php",
            "line": 127,
            "function": "handleRequest",
            "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php",
            "line": 89,
            "function": "handleRequestUsingNamedLimiter",
            "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php",
            "line": 64,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Auth\\Middleware\\Authenticate",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 127,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 807,
            "function": "then",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 786,
            "function": "runRouteWithinStack",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 750,
            "function": "runRoute",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 739,
            "function": "dispatchToRoute",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 201,
            "function": "dispatch",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 170,
            "function": "Illuminate\\Foundation\\Http\\{closure}",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
            "line": 21,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php",
            "line": 31,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
            "line": 21,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php",
            "line": 51,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TrimStrings",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php",
            "line": 27,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\ValidatePostSize",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php",
            "line": 110,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php",
            "line": 62,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\HandleCors",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php",
            "line": 58,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\TrustProxies",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php",
            "line": 22,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 127,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 176,
            "function": "then",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 145,
            "function": "sendRequestThroughRouter",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 607,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 573,
            "function": "call",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 381,
            "function": "json",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php",
            "line": 78,
            "function": "getJson",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 1657,
            "function": "test_api_show_returns_404_for_nonexistent_remittance",
            "class": "Tests\\Feature\\RemittanceApiControllerTest",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 515,
            "function": "runTest",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php",
            "line": 87,
            "function": "runBare",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 361,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestRunner",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php",
            "line": 64,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php",
            "line": 211,
            "function": "run",
            "class": "PHPUnit\\TextUI\\TestRunner",
            "type": "->"
        },
        {
            "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit",
            "line": 104,
            "function": "run",
            "class": "PHPUnit\\TextUI\\Application",
            "type": "->"
        }
    ]
}].


Failed asserting that an array has the subset Array &0 [
    'error' => 'Remittance not found',
].
         'type' => '->',
       ),
     ),
  -  'error' => 'Remittance not found',
   )
  

  at tests/Feature/RemittanceApiControllerTest.php:81
     77â–•     {
     78â–•         $response = $this->actingAs($this->user)->getJson('/api/v1/remittances/99999');
     79â–• 
     80â–•         $response->assertStatus(404)
  âžœ  81â–•             ->assertJson(['error' => 'Remittance not found']);
     82â–•     }
     83â–• 
     84â–•     public function test_api_by_candidate_returns_candidate_remittances()
     85â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api by candidate retuâ€¦   
  Failed asserting that an array has the key 'candidate'.

  at tests/Feature/RemittanceApiControllerTest.php:96
     92â–•         $response = $this->actingAs($this->user)
     93â–•             ->getJson("/api/v1/remittances/candidate/{$this->candidate->id}");
     94â–• 
     95â–•         $response->assertStatus(200)
  âžœ  96â–•             ->assertJsonStructure([
     97â–•                 'candidate',
     98â–•                 'remittances',
     99â–•                 'summary' => [
    100â–•                     'total_count',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api store creates newâ€¦   
  Expected response status code [201] but received 422.
Failed asserting that 422 is identical to 201.

The following errors occurred during the last request:

{
    "message": "The transaction type field is required. (and 2 more errors)",
    "errors": {
        "transaction_type": [
            "The transaction type field is required."
        ],
        "transaction_date": [
            "The transaction date field is required."
        ],
        "purpose": [
            "The purpose field is required."
        ]
    }
}

  at tests/Feature/RemittanceApiControllerTest.php:131
    127â–•         ];
    128â–• 
    129â–•         $response = $this->actingAs($this->user)->postJson('/api/v1/remittances/', $data);
    130â–• 
  âžœ 131â–•         $response->assertStatus(201)
    132â–•             ->assertJsonStructure([
    133â–•                 'message',
    134â–•                 'remittance' => [
    135â–•                     'id',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api store validates râ€¦   
  Failed to find a validation error in the response for key: 'transfer_date'

Response has the following JSON validation errors:

{
    "candidate_id": [
        "The candidate id field is required."
    ],
    "transaction_type": [
        "The transaction type field is required."
    ],
    "transaction_date": [
        "The transaction date field is required."
    ],
    "amount": [
        "The amount field is required."
    ],
    "currency": [
        "The currency field is required."
    ],
    "purpose": [
        "The purpose field is required."
    ]
}

Failed asserting that an array has the key 'transfer_date'.

The following errors occurred during the last request:

{
    "message": "The candidate id field is required. (and 5 more errors)",
    "errors": {
        "candidate_id": [
            "The candidate id field is required."
        ],
        "transaction_type": [
            "The transaction type field is required."
        ],
        "transaction_date": [
            "The transaction date field is required."
        ],
        "amount": [
            "The amount field is required."
        ],
        "currency": [
            "The currency field is required."
        ],
        "purpose": [
            "The purpose field is required."
        ]
    }
}

  at tests/Feature/RemittanceApiControllerTest.php:157
    153â–• 
    154â–•         $response = $this->actingAs($this->user)->postJson('/api/v1/remittances/', $data);
    155â–• 
    156â–•         $response->assertStatus(422)
  âžœ 157â–•             ->assertJsonValidationErrors(['candidate_id', 'amount', 'transfer_date']);
    158â–•     }
    159â–• 
    160â–•     public function test_api_update_modifies_remittance()
    161â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api update modifies râ€¦   
  Expected response status code [200] but received 422.
Failed asserting that 422 is identical to 200.

The following errors occurred during the last request:

{
    "message": "The transaction date field is required. (and 2 more errors)",
    "errors": {
        "transaction_date": [
            "The transaction date field is required."
        ],
        "currency": [
            "The currency field is required."
        ],
        "purpose": [
            "The purpose field is required."
        ]
    }
}

  at tests/Feature/RemittanceApiControllerTest.php:177
    173â–• 
    174â–•         $response = $this->actingAs($this->user)
    175â–•             ->putJson("/api/v1/remittances/{$remittance->id}", $data);
    176â–• 
  âžœ 177â–•         $response->assertStatus(200)
    178â–•             ->assertJsonStructure([
    179â–•                 'message',
    180â–•                 'remittance',
    181â–•             ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api search finds remiâ€¦   
  Expected response status code [200] but received 422.
Failed asserting that 422 is identical to 200.

The following errors occurred during the last request:

{
    "message": "The q field is required.",
    "errors": {
        "q": [
            "The q field is required."
        ]
    }
}

  at tests/Feature/RemittanceApiControllerTest.php:219
    215â–• 
    216â–•         $response = $this->actingAs($this->user)
    217â–•             ->getJson('/api/v1/remittances/search/query?transaction_reference=SEARCH');
    218â–• 
  âžœ 219â–•         $response->assertStatus(200)
    220â–•             ->assertJsonStructure([
    221â–•                 'count',
    222â–•                 'results',
    223â–•             ])

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api search finds remiâ€¦   
  Expected response status code [200] but received 422.
Failed asserting that 422 is identical to 200.

The following errors occurred during the last request:

{
    "message": "The q field is required.",
    "errors": {
        "q": [
            "The q field is required."
        ]
    }
}

  at tests/Feature/RemittanceApiControllerTest.php:246
    242â–• 
    243â–•         $response = $this->actingAs($this->user)
    244â–•             ->getJson('/api/v1/remittances/search/query?min_amount=45000&max_amount=55000');
    245â–• 
  âžœ 246â–•         $response->assertStatus(200)
    247â–•             ->assertJsonPath('count', 1);
    248â–•     }
    249â–• 
    250â–•     public function test_api_statistics_returns_overview()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api statistics returnâ€¦   
  Failed asserting that an array has the key 'total_remittances'.

  at tests/Feature/RemittanceApiControllerTest.php:263
    259â–• 
    260â–•         $response = $this->actingAs($this->user)->getJson('/api/v1/remittances/stats/overview');
    261â–• 
    262â–•         $response->assertStatus(200)
  âžœ 263â–•             ->assertJsonStructure([
    264â–•                 'total_remittances',
    265â–•                 'total_amount',
    266â–•                 'average_amount',
    267â–•                 'total_candidates',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api verify marks remiâ€¦   
  Failed asserting that a row in the table [remittances] matches the attributes {
    "id": 1,
    "status": "verified",
    "verified_by": 1
}.

Found similar results: [
    {
        "id": 1,
        "status": "completed",
        "verified_by": 1
    }
].

  at tests/Feature/RemittanceApiControllerTest.php:291
    287â–• 
    288â–•         $response->assertStatus(200)
    289â–•             ->assertJson(['message' => 'Remittance verified successfully']);
    290â–• 
  âžœ 291â–•         $this->assertDatabaseHas('remittances', [
    292â–•             'id' => $remittance->id,
    293â–•             'status' => 'verified',
    294â–•             'verified_by' => $this->user->id,
    295â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api index supports fiâ€¦   
  Failed asserting that null is identical to 3.

  at tests/Feature/RemittanceApiControllerTest.php:319
    315â–•         $response = $this->actingAs($this->user)
    316â–•             ->getJson("/api/v1/remittances/?candidate_id={$this->candidate->id}");
    317â–• 
    318â–•         $response->assertStatus(200)
  âžœ 319â–•             ->assertJsonPath('total', 3);
    320â–•     }
    321â–• 
    322â–•     public function test_api_index_supports_filtering_by_status()
    323â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceApiControllerTest > api index supports fiâ€¦   
  Failed asserting that null is identical to 2.

  at tests/Feature/RemittanceApiControllerTest.php:342
    338â–•         $response = $this->actingAs($this->user)
    339â–•             ->getJson('/api/v1/remittances/?status=verified');
    340â–• 
    341â–•         $response->assertStatus(200)
  âžœ 342â–•             ->assertJsonPath('total', 2);
    343â–•     }
    344â–• 
    345â–•     public function test_api_requires_authentication()
    346â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > remittances index loadsâ€¦    
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceControllerTest.php:31
     27â–• 
     28â–•     public function test_remittances_index_loads_successfully()
     29â–•     {
     30â–•         $response = $this->actingAs($this->user)->get('/remittances');
  âžœ  31â–•         $response->assertStatus(200);
     32â–•     }
     33â–• 
     34â–•     public function test_remittances_create_page_loads()
     35â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > remittances create pageâ€¦    
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceControllerTest.php:37
     33â–• 
     34â–•     public function test_remittances_create_page_loads()
     35â–•     {
     36â–•         $response = $this->actingAs($this->user)->get('/remittances/create');
  âžœ  37â–•         $response->assertStatus(200);
     38â–•     }
     39â–• 
     40â–•     public function test_can_create_remittance()
     41â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can create remittance       
  Failed asserting that a row in the table [remittances] matches the attributes {
    "transaction_reference": "TXN123456789",
    "amount": 50000,
    "candidate_id": 1
}.

The table is empty.

  at tests/Feature/RemittanceControllerTest.php:66
     62â–•         ];
     63â–• 
     64â–•         $response = $this->actingAs($this->user)->post('/remittances', $data);
     65â–• 
  âžœ  66â–•         $this->assertDatabaseHas('remittances', [
     67â–•             'transaction_reference' => 'TXN123456789',
     68â–•             'amount' => 50000,
     69â–•             'candidate_id' => $this->candidate->id,
     70â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can view remittance detaâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceControllerTest.php:82
     78â–•             'recorded_by' => $this->user->id,
     79â–•         ]);
     80â–• 
     81â–•         $response = $this->actingAs($this->user)->get("/remittances/{$remittance->id}");
  âžœ  82â–•         $response->assertStatus(200);
     83â–•     }
     84â–• 
     85â–•     public function test_can_edit_remittance()
     86â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can edit remittance         
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceControllerTest.php:94
     90â–•             'recorded_by' => $this->user->id,
     91â–•         ]);
     92â–• 
     93â–•         $response = $this->actingAs($this->user)->get("/remittances/{$remittance->id}/edit");
  âžœ  94â–•         $response->assertStatus(200);
     95â–•     }
     96â–• 
     97â–•     public function test_can_update_remittance()
     98â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can update remittance       
  Failed asserting that a row in the table [remittances] matches the attributes {
    "id": 1,
    "amount": 75000,
    "notes": "Updated amount"
}.

Found similar results: [
    {
        "id": 1,
        "amount": 50000,
        "notes": null
    }
].

  at tests/Feature/RemittanceControllerTest.php:124
    120â–•         ];
    121â–• 
    122â–•         $response = $this->actingAs($this->user)->put("/remittances/{$remittance->id}", $updateData);
    123â–• 
  âžœ 124â–•         $this->assertDatabaseHas('remittances', [
    125â–•             'id' => $remittance->id,
    126â–•             'amount' => 75000,
    127â–•             'notes' => 'Updated amount',
    128â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can delete remittance       
  Failed asserting that any soft deleted row in the table [remittances] matches the attributes {"id":1}.

Found: [
    {
        "id": 1,
        "candidate_id": 1,
        "departure_id": 1,
        "recorded_by": 1,
        "transaction_reference": "RMT-20260126-BU8880",
        "amount": 36008.9,
        "currency": "PKR",
        "amount_foreign": null,
        "foreign_currency": null,
        "exchange_rate": 291.1685,
        "transfer_date": "2025-11-08 07:49:24",
        "transfer_method": "cash",
        "sender_name": "Ona Hintz",
        "sender_location": null,
        "receiver_name": "Christ Lesch",
        "receiver_account": null,
        "bank_name": "MCB",
        "primary_purpose": "family_support",
        "purpose_description": null,
        "has_proof": 0,
        "proof_verified_date": null,
        "verified_by": null,
        "status": "initiated",
        "notes": null,
        "alert_message": null,
        "is_first_remittance": 0,
        "month_number": null,
        "year": 2025,
        "month": 11,
        "quarter": null,
        "created_at": "2026-01-26 13:29:47",
        "updated_at": "2026-01-26 13:29:47",
        "deleted_at": null,
        "beneficiary_id": null,
        "campus_id": 1,
        "transaction_type": "salary",
        "transaction_date": "2025-11-08 07:49:24",
        "amount_in_pkr": 10484657.39965,
        "account_number": "7345-1201887-713",
        "swift_code": null,
        "iban": null,
        "purpose": "Bonus payment",
        "description": null,
        "month_year": "2023-07",
        "proof_document_path": null,
        "proof_document_type": null,
        "proof_document_size": null,
        "verification_status": "under_review",
        "verified_at": null,
        "verification_notes": null,
        "rejection_reason": null,
        "metadata": null
    }
].

  at tests/Feature/RemittanceControllerTest.php:141
    137â–•         ]);
    138â–• 
    139â–•         $response = $this->actingAs($this->user)->delete("/remittances/{$remittance->id}");
    140â–• 
  âžœ 141â–•         $this->assertSoftDeleted('remittances', ['id' => $remittance->id]);
    142â–•     }
    143â–• 
    144â–•     public function test_can_verify_remittance()
    145â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can verify remittance       
  Failed asserting that a row in the table [remittances] matches the attributes {
    "id": 1,
    "status": "verified",
    "verified_by": 1
}.

Found similar results: [
    {
        "id": 1,
        "status": "pending",
        "verified_by": null
    }
].

  at tests/Feature/RemittanceControllerTest.php:155
    151â–•         ]);
    152â–• 
    153â–•         $response = $this->actingAs($this->user)->post("/remittances/{$remittance->id}/verify");
    154â–• 
  âžœ 155â–•         $this->assertDatabaseHas('remittances', [
    156â–•             'id' => $remittance->id,
    157â–•             'status' => 'verified',
    158â–•             'verified_by' => $this->user->id,
    159â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > transaction reference muâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/RemittanceControllerTest.php:187
    183â–•         ];
    184â–• 
    185â–•         $response = $this->actingAs($this->user)->post('/remittances', $data);
    186â–• 
  âžœ 187â–•         $response->assertSessionHasErrors('transaction_reference');
    188â–•     }
    189â–• 
    190â–•     public function test_amount_must_be_positive()
    191â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > amount must be positive     
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/RemittanceControllerTest.php:208
    204â–•         ];
    205â–• 
    206â–•         $response = $this->actingAs($this->user)->post('/remittances', $data);
    207â–• 
  âžœ 208â–•         $response->assertSessionHasErrors('amount');
    209â–•     }
    210â–• 
    211â–•     public function test_required_fields_validation()
    212â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > required fields validatiâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/RemittanceControllerTest.php:219
    215â–•         ];
    216â–• 
    217â–•         $response = $this->actingAs($this->user)->post('/remittances', $data);
    218â–• 
  âžœ 219â–•         $response->assertSessionHasErrors([
    220â–•             'candidate_id',
    221â–•             'amount',
    222â–•             'transfer_date',
    223â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can filter remittances bâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceControllerTest.php:252
    248â–• 
    249â–•         $response = $this->actingAs($this->user)
    250â–•             ->get("/remittances?candidate_id={$this->candidate->id}");
    251â–• 
  âžœ 252â–•         $response->assertStatus(200);
    253â–•     }
    254â–• 
    255â–•     public function test_can_filter_remittances_by_status()
    256â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can filter remittances bâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceControllerTest.php:273
    269â–•         ]);
    270â–• 
    271â–•         $response = $this->actingAs($this->user)->get('/remittances?status=verified');
    272â–• 
  âžœ 273â–•         $response->assertStatus(200);
    274â–•     }
    275â–• 
    276â–•     public function test_can_filter_remittances_by_year()
    277â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceControllerTest > can filter remittances bâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceControllerTest.php:294
    290â–•         ]);
    291â–• 
    292â–•         $response = $this->actingAs($this->user)->get('/remittances?year=2025');
    293â–• 
  âžœ 294â–•         $response->assertStatus(200);
    295â–•     }
    296â–• }
    297â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api dashboard râ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:40
     36â–• 
     37â–•         $response = $this->actingAs($this->user)
     38â–•             ->getJson('/api/v1/remittance/reports/dashboard');
     39â–• 
  âžœ  40â–•         $response->assertStatus(200)
     41â–•             ->assertJsonStructure([
     42â–•                 'statistics' => [
     43â–•                     'total_remittances',
     44â–•                     'total_amount',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api monthly treâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:68
     64â–• 
     65â–•         $response = $this->actingAs($this->user)
     66â–•             ->getJson("/api/v1/remittance/reports/monthly-trends?year=$currentYear");
     67â–• 
  âžœ  68â–•         $response->assertStatus(200)
     69â–•             ->assertJsonStructure([
     70â–•                 'year',
     71â–•                 'trends' => [
     72â–•                     '*' => [

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api monthly treâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:90
     86â–•     {
     87â–•         $response = $this->actingAs($this->user)
     88â–•             ->getJson('/api/v1/remittance/reports/monthly-trends');
     89â–• 
  âžœ  90â–•         $response->assertStatus(200)
     91â–•             ->assertJsonPath('year', date('Y'));
     92â–•     }
     93â–• 
     94â–•     public function test_api_purpose_analysis_returns_distribution()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api purpose anaâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:115
    111â–• 
    112â–•         $response = $this->actingAs($this->user)
    113â–•             ->getJson('/api/v1/remittance/reports/purpose-analysis');
    114â–• 
  âžœ 115â–•         $response->assertStatus(200)
    116â–•             ->assertJsonStructure([
    117â–•                 '*' => [
    118â–•                     'purpose',
    119â–•                     'count',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api transfer meâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:146
    142â–• 
    143â–•         $response = $this->actingAs($this->user)
    144â–•             ->getJson('/api/v1/remittance/reports/transfer-methods');
    145â–• 
  âžœ 146â–•         $response->assertStatus(200)
    147â–•             ->assertJsonStructure([
    148â–•                 '*' => [
    149â–•                     'method',
    150â–•                     'count',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api country anaâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:173
    169â–• 
    170â–•         $response = $this->actingAs($this->user)
    171â–•             ->getJson('/api/v1/remittance/reports/country-analysis');
    172â–• 
  âžœ 173â–•         $response->assertStatus(200)
    174â–•             ->assertJsonStructure([
    175â–•                 '*' => [
    176â–•                     'country',
    177â–•                     'count',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api proof complâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:207
    203â–• 
    204â–•         $response = $this->actingAs($this->user)
    205â–•             ->getJson('/api/v1/remittance/reports/proof-compliance');
    206â–• 
  âžœ 207â–•         $response->assertStatus(200)
    208â–•             ->assertJsonStructure([
    209â–•                 'overall' => [
    210â–•                     'total_remittances',
    211â–•                     'with_proof',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api beneficiaryâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:229
    225â–•     {
    226â–•         $response = $this->actingAs($this->user)
    227â–•             ->getJson('/api/v1/remittance/reports/beneficiary-report');
    228â–• 
  âžœ 229â–•         $response->assertStatus(200)
    230â–•             ->assertJsonStructure([
    231â–•                 'overview' => [
    232â–•                     'total',
    233â–•                     'active',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api impact analâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:252
    248â–• 
    249â–•         $response = $this->actingAs($this->user)
    250â–•             ->getJson('/api/v1/remittance/reports/impact-analytics');
    251â–• 
  âžœ 252â–•         $response->assertStatus(200)
    253â–•             ->assertJsonStructure([
    254â–•                 'avg_time_to_first_remittance',
    255â–•                 'remittance_frequency',
    256â–•                 'economic_impact' => [

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api top candidaâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:289
    285â–• 
    286â–•         $response = $this->actingAs($this->user)
    287â–•             ->getJson('/api/v1/remittance/reports/top-candidates?limit=5');
    288â–• 
  âžœ 289â–•         $response->assertStatus(200)
    290â–•             ->assertJsonStructure([
    291â–•                 '*' => [
    292â–•                     'candidate_id',
    293â–•                     'candidate_name',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api top candidaâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:316
    312â–• 
    313â–•         $response = $this->actingAs($this->user)
    314â–•             ->getJson('/api/v1/remittance/reports/top-candidates?limit=1');
    315â–• 
  âžœ 316â–•         $response->assertStatus(200)
    317â–•             ->assertJsonCount(1);
    318â–•     }
    319â–• 
    320â–•     public function test_api_reports_require_authentication()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RemittanceReportApiControllerTest > api dashboard hâ€¦   
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/RemittanceReportApiControllerTest.php:337
    333â–•     {
    334â–•         $response = $this->actingAs($this->user)
    335â–•             ->getJson('/api/v1/remittance/reports/dashboard');
    336â–• 
  âžœ 337â–•         $response->assertStatus(200)
    338â–•             ->assertJsonPath('statistics.total_remittances', 0);
    339â–•     }
    340â–• }
    341â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it assigns candidates to batch       
  Failed asserting that an array has the key 'assigned'.

  at tests/Feature/TrainingApiTest.php:62
     58â–•             $this->batch->id,
     59â–•             $candidateIds
     60â–•         );
     61â–• 
  âžœ  62â–•         $this->assertArrayHasKey('assigned', $result);
     63â–•         $this->assertEquals(5, count($result['assigned']));
     64â–• 
     65â–•         foreach ($candidates as $candidate) {
     66â–•             $candidate->refresh();

  1   tests/Feature/TrainingApiTest.php:62

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it respects batchâ€¦  ErrorException   
  Undefined array key "assigned"

  at tests/Feature/TrainingApiTest.php:98
     94â–•             $newCandidates->pluck('id')->toArray()
     95â–•         );
     96â–• 
     97â–•         // Only 1 should be assigned (capacity is 3, already have 2)
  âžœ  98â–•         $this->assertEquals(1, count($result['assigned']));
     99â–•         $this->assertEquals(2, count($result['failed']));
    100â–•     }
    101â–• 
    102â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it skips alreadyâ€¦   ErrorException   
  Undefined array key "assigned"

  at tests/Feature/TrainingApiTest.php:116
    112â–•             $this->batch->id,
    113â–•             [$candidate->id]
    114â–•         );
    115â–• 
  âžœ 116â–•         $this->assertEmpty($result['assigned']);
    117â–•     }
    118â–• 
    119â–•     // ==================== ATTENDANCE ====================
    120â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it records attendance                
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/TrainingApiTest.php:138
    134â–•             'date' => now()->format('Y-m-d'),
    135â–•             'status' => 'present',
    136â–•         ]);
    137â–• 
  âžœ 138â–•         $response->assertOk();
    139â–• 
    140â–•         $this->assertDatabaseHas('training_attendances', [
    141â–•             'candidate_id' => $candidate->id,
    142â–•             'status' => 'present',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it generates attendance report       
  Failed asserting that an array has the key 'summary'.

  at tests/Feature/TrainingApiTest.php:194
    190â–•         $report = $this->trainingService->generateAttendanceReport([
    191â–•             'batch_id' => $this->batch->id,
    192â–•         ]);
    193â–• 
  âžœ 194â–•         $this->assertArrayHasKey('summary', $report);
    195â–•         $this->assertArrayHasKey('candidates', $report);
    196â–•         $this->assertEquals(3, count($report['candidates']));
    197â–•     }
    198â–•

  1   tests/Feature/TrainingApiTest.php:194

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it records assessment                
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/TrainingApiTest.php:220
    216â–•             'score' => 75,
    217â–•             'result' => 'pass',
    218â–•         ]);
    219â–• 
  âžœ 220â–•         $response->assertOk();
    221â–• 
    222â–•         $this->assertDatabaseHas('training_assessments', [
    223â–•             'candidate_id' => $candidate->id,
    224â–•             'score' => 75,

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it calculates aveâ€¦  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, practical, 70, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+19 vendor frames [22m
  20  tests/Feature/TrainingApiTest.php:238

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it validates passâ€¦  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, practical, 70, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+19 vendor frames [22m
  20  tests/Feature/TrainingApiTest.php:271

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it generates asseâ€¦  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 73, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+19 vendor frames [22m
  20  tests/Feature/TrainingApiTest.php:304

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it issues certifiâ€¦  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 75, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+19 vendor frames [22m
  20  tests/Feature/TrainingApiTest.php:346

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it validates certâ€¦  ErrorException   
  Undefined array key "eligible"

  at tests/Feature/TrainingApiTest.php:377
    373â–•         ]);
    374â–• 
    375â–•         $validation = $this->trainingService->validateCertificateRequirements($candidate->id);
    376â–• 
  âžœ 377â–•         $this->assertFalse($validation['eligible']);
    378â–•         $this->assertNotEmpty($validation['issues']);
    379â–•     }
    380â–• 
    381â–•     // ==================== TRAINING COMPLETION ====================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it completes traiâ€¦  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 75, pass, 2026-01-26 13:29:50, 2026-01-26 13:29:50))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+19 vendor frames [22m
  20  tests/Feature/TrainingApiTest.php:513
  21  tests/Feature/TrainingApiTest.php:386

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it rejects completionâ€¦   Exception   
  Attendance (50%) is below required threshold (80%)

  at app/Services/TrainingService.php:771
    767â–•         $attendanceStats = $this->getAttendanceStatistics($candidateId);
    768â–•         $threshold = $this->getAttendanceThreshold();
    769â–• 
    770â–•         if ($attendanceStats['percentage'] < $threshold) {
  âžœ 771â–•             throw new \Exception(
    772â–•                 "Attendance ({$attendanceStats['percentage']}%) is below required threshold ({$threshold}%)"
    773â–•             );
    774â–•         }
    775â–•

  1   app/Services/TrainingService.php:771
  2   tests/Feature/TrainingApiTest.php:417

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it rejects completionâ€¦   Exception   
  Candidate has not passed final assessment

  at app/Services/TrainingService.php:783
    779â–•             ->where('result', 'pass')
    780â–•             ->first();
    781â–• 
    782â–•         if (!$finalAssessment) {
  âžœ 783â–•             throw new \Exception('Candidate has not passed final assessment');
    784â–•         }
    785â–• 
    786â–•         // Check or generate certificate
    787â–•         $certificate = $candidate->certificate ?? $this->generateCertificate($candidateId);

  1   app/Services/TrainingService.php:783
  2   tests/Feature/TrainingApiTest.php:445

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\TrainingApiTest > it returns batchâ€¦   QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 90, pass, 2026-01-26 13:29:50, 2026-01-26 13:29:50))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821â–•                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822â–•                 );
    823â–•             }
    824â–• 
  âžœ 825â–•             throw new QueryException(
    826â–•                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827â–•             );
    828â–•         }
    829â–•     }

      [2m+19 vendor frames [22m
  20  tests/Feature/TrainingApiTest.php:471

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > adminâ€¦   RouteNotFoundException   
  Route [users.index] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:34

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > adminâ€¦   RouteNotFoundException   
  Route [users.create] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:46

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > adminâ€¦   RouteNotFoundException   
  Route [users.store] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:68

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > adminâ€¦   RouteNotFoundException   
  Route [users.show] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:85

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > adminâ€¦   RouteNotFoundException   
  Route [users.update] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:99

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > adminâ€¦   RouteNotFoundException   
  Route [users.destroy] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:119

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > adminâ€¦   RouteNotFoundException   
  Route [settings.save] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:142

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > admin can view audit logs         
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Symfony\Component\Routing\Exception\RouteNotFoundException: Route [dashboard.index] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/6dc38cf60226b08df417e6706527c837.php(8): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#62 /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php(156): Illuminate\Foundation\Testing\TestCase->get()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\UserControllerTest->admin_can_view_audit_logs()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

Next Spatie\LaravelIgnition\Exceptions\ViewException: Route [dashboard.index] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
#1 /home/iihsedup/oep.jaamiah.com/resources/views/admin/audit-logs.blade.php(9): route()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#62 /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php(156): Illuminate\Foundation\Testing\TestCase->get()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\UserControllerTest->admin_can_view_audit_logs()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

----------------------------------------------------------------------------------

Route [dashboard.index] not defined.

  at tests/Feature/UserControllerTest.php:158
    154â–•         $this->actingAs($this->admin);
    155â–• 
    156â–•         $response = $this->get(route('admin.audit-logs'));
    157â–• 
  âžœ 158â–•         $response->assertStatus(200);
    159â–•         $response->assertViewIs('admin.audit-logs');
    160â–•         $response->assertViewHas('logs');
    161â–•         $response->assertViewHas('users');
    162â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > emailâ€¦   RouteNotFoundException   
  Route [users.store] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:171

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > passwoâ€¦  RouteNotFoundException   
  Route [users.store] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:186

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\UserControllerTest > oep idâ€¦  RouteNotFoundException   
  Route [users.store] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
    513â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    514â–•             return $url;
    515â–•         }
    516â–• 
  âžœ 517â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    518â–•     }
    519â–• 
    520â–•     /**
    521â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/UserControllerTest.php:209

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it validates valid cnic format     
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:40
     36â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-cnic', [
     37â–•             'cnic' => '3520112345671', // 13 digit valid format
     38â–•         ]);
     39â–• 
  âžœ  40â–•         $response->assertOk();
     41â–•         $response->assertJsonStructure([
     42â–•             'valid',
     43â–•             'format_valid',
     44â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it rejects invalid cnic length     
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:54
     50â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-cnic', [
     51â–•             'cnic' => '12345', // Too short
     52â–•         ]);
     53â–• 
  âžœ  54â–•         $response->assertOk();
     55â–•         $data = $response->json();
     56â–•         $this->assertFalse($data['format_valid']);
     57â–•     }
     58â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it handles cnic with dashes        
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:66
     62â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-cnic', [
     63â–•             'cnic' => '35201-1234567-1', // With dashes
     64â–•         ]);
     65â–• 
  âžœ  66â–•         $response->assertOk();
     67â–•         $data = $response->json();
     68â–•         $this->assertTrue($data['format_valid']);
     69â–•     }
     70â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it rejects non numeric cnic        
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:78
     74â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-cnic', [
     75â–•             'cnic' => '3520ABCDEFGH1',
     76â–•         ]);
     77â–• 
  âžœ  78â–•         $response->assertOk();
     79â–•         $data = $response->json();
     80â–•         $this->assertFalse($data['format_valid']);
     81â–•     }
     82â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it validates pakistan phone 03xâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:92
     88â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-phone', [
     89â–•             'phone' => '03001234567',
     90â–•         ]);
     91â–• 
  âžœ  92â–•         $response->assertOk();
     93â–•         $data = $response->json();
     94â–•         $this->assertTrue($data['valid']);
     95â–•     }
     96â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it validates pakistan phone witâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:104
    100â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-phone', [
    101â–•             'phone' => '+923001234567',
    102â–•         ]);
    103â–• 
  âžœ 104â–•         $response->assertOk();
    105â–•         $data = $response->json();
    106â–•         $this->assertTrue($data['valid']);
    107â–•     }
    108â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it validates pakistan phone witâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:116
    112â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-phone', [
    113â–•             'phone' => '923001234567',
    114â–•         ]);
    115â–• 
  âžœ 116â–•         $response->assertOk();
    117â–•         $data = $response->json();
    118â–•         $this->assertTrue($data['valid']);
    119â–•     }
    120â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it validates phone with dashes     
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:128
    124â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-phone', [
    125â–•             'phone' => '0300-1234567',
    126â–•         ]);
    127â–• 
  âžœ 128â–•         $response->assertOk();
    129â–•         $data = $response->json();
    130â–•         $this->assertTrue($data['valid']);
    131â–•     }
    132â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it rejects invalid phone format    
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:140
    136â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-phone', [
    137â–•             'phone' => '12345',
    138â–•         ]);
    139â–• 
  âžœ 140â–•         $response->assertOk();
    141â–•         $data = $response->json();
    142â–•         $this->assertFalse($data['valid']);
    143â–•     }
    144â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it rejects non pakistan phone      
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:152
    148â–•         $response = $this->actingAs($this->admin)->postJson('/api/validate-phone', [
    149â–•             'phone' => '+14155551234', // US number
    150â–•         ]);
    151â–• 
  âžœ 152â–•         $response->assertOk();
    153â–•         $data = $response->json();
    154â–•         $this->assertFalse($data['valid']);
    155â–•     }
    156â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it detects duplicate by phone      
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:171
    167â–•         $response = $this->actingAs($this->admin)->postJson('/api/check-duplicates', [
    168â–•             'phone' => '03001234567',
    169â–•         ]);
    170â–• 
  âžœ 171â–•         $response->assertOk();
    172â–•         $data = $response->json();
    173â–•         $this->assertNotEmpty($data['duplicates']);
    174â–•         $this->assertEquals('phone', $data['duplicates'][0]['match_type']);
    175â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it detects duplicate by email      
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:189
    185â–•         $response = $this->actingAs($this->admin)->postJson('/api/check-duplicates', [
    186â–•             'email' => 'test@example.com',
    187â–•         ]);
    188â–• 
  âžœ 189â–•         $response->assertOk();
    190â–•         $data = $response->json();
    191â–•         $this->assertNotEmpty($data['duplicates']);
    192â–•         $this->assertEquals('email', $data['duplicates'][0]['match_type']);
    193â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it detects duplicate by similarâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:207
    203â–•         $response = $this->actingAs($this->admin)->postJson('/api/check-duplicates', [
    204â–•             'name' => 'Muhammad Ali',
    205â–•         ]);
    206â–• 
  âžœ 207â–•         $response->assertOk();
    208â–•         $data = $response->json();
    209â–•         // May or may not find match depending on similarity threshold
    210â–•         $this->assertIsArray($data['duplicates']);
    211â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it excludes specified candidateâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:226
    222â–•             'phone' => '03001234567',
    223â–•             'exclude_id' => $existing->id,
    224â–•         ]);
    225â–• 
  âžœ 226â–•         $response->assertOk();
    227â–•         $data = $response->json();
    228â–•         $this->assertEmpty($data['duplicates']);
    229â–•     }
    230â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it returns empty when no duplicâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:239
    235â–•             'phone' => '03009999999',
    236â–•             'email' => 'unique@example.com',
    237â–•         ]);
    238â–• 
  âžœ 239â–•         $response->assertOk();
    240â–•         $data = $response->json();
    241â–•         $this->assertEmpty($data['duplicates']);
    242â–•     }
    243â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it requires authentication forâ€¦    
  Expected response status code [401] but received 405.
Failed asserting that 405 is identical to 401.

  at tests/Feature/ValidationApiTest.php:251
    247â–•         $response = $this->postJson('/api/validate-cnic', [
    248â–•             'cnic' => '3520112345671',
    249â–•         ]);
    250â–• 
  âžœ 251â–•         $response->assertUnauthorized();
    252â–•     }
    253â–• 
    254â–•     #[Test]
    255â–•     public function it_handles_multiple_duplicate_types()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ValidationApiTest > it handles multiple duplicate tâ€¦   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/ValidationApiTest.php:268
    264â–•             'phone' => '03001234567',
    265â–•             'email' => 'test@example.com',
    266â–•         ]);
    267â–• 
  âžœ 268â–•         $response->assertOk();
    269â–•         $data = $response->json();
    270â–•         $this->assertNotEmpty($data['duplicates']);
    271â–•     }
    272â–• }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessApiControllerTest > it returnâ€¦  TypeError   
  PHPUnit\Framework\Assert::assertArrayHasKey(): Argument #2 ($array) must be of type ArrayAccess|array, int given, called in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php on line 302

  at tests/Feature/VisaProcessApiControllerTest.php:42
     38â–• 
     39â–•         $response = $this->getJson('/api/v1/visa-processes');
     40â–• 
     41â–•         $response->assertStatus(200)
  âžœ  42â–•             ->assertJsonStructure([
     43â–•                 'data' => [
     44â–•                     '*' => ['id', 'candidate_id', 'overall_status', 'candidate']
     45â–•                 ],
     46â–•                 'meta' => ['current_page', 'per_page', 'total']

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessApiControllerTest > it filters by overalâ€¦   
  Failed asserting that actual size 13 matches expected size 3.

  at tests/Feature/VisaProcessApiControllerTest.php:70
     66â–• 
     67â–•         $response = $this->getJson('/api/v1/visa-processes?stage=interview');
     68â–• 
     69â–•         $response->assertStatus(200);
  âžœ  70â–•         $this->assertCount(3, $response->json('data'));
     71â–•     }
     72â–• 
     73â–•     #[Test]
     74â–•     public function it_filters_by_status()

  1   tests/Feature/VisaProcessApiControllerTest.php:70

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessApiControllerTest > it filters by status    
  Failed asserting that actual size 13 matches expected size 5.

  at tests/Feature/VisaProcessApiControllerTest.php:93
     89â–• 
     90â–•         $response = $this->getJson('/api/v1/visa-processes?interview_status=passed');
     91â–• 
     92â–•         $response->assertStatus(200);
  âžœ  93â–•         $this->assertCount(5, $response->json('data'));
     94â–•     }
     95â–• 
     96â–•     // =========================================================================
     97â–•     // SHOW

  1   tests/Feature/VisaProcessApiControllerTest.php:93

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessApiControllerTest > it returns 404 for câ€¦   
  Expected response status code [404] but received 200.
Failed asserting that 200 is identical to 404.

  at tests/Feature/VisaProcessApiControllerTest.php:150
    146â–•         $candidate = Candidate::factory()->create();
    147â–• 
    148â–•         $response = $this->getJson("/api/v1/visa-processes/candidate/{$candidate->id}");
    149â–• 
  âžœ 150â–•         $response->assertStatus(404);
    151â–•     }
    152â–• 
    153â–•     // =========================================================================
    154â–•     // STORE

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessApiControllerTest > it validates stage pâ€¦   
  Expected response status code [422] but received 200.
Failed asserting that 200 is identical to 422.

  at tests/Feature/VisaProcessApiControllerTest.php:238
    234â–•         $response = $this->putJson("/api/v1/visa-processes/{$visaProcess->id}", [
    235â–•             'overall_status' => 'medical',
    236â–•         ]);
    237â–• 
  âžœ 238â–•         $response->assertStatus(422);
    239â–•     }
    240â–• 
    241â–•     #[Test]
    242â–•     public function it_allows_progression_when_prerequisites_met()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessApiControllerTest > it returns visa statâ€¦   
  Failed asserting that an array has the key 'by_stage'.

  at tests/Feature/VisaProcessApiControllerTest.php:278
    274â–• 
    275â–•         $response = $this->getJson('/api/v1/visa-processes/stats');
    276â–• 
    277â–•         $response->assertStatus(200)
  âžœ 278â–•             ->assertJsonStructure([
    279â–•                 'data' => [
    280â–•                     'total',
    281â–•                     'by_stage',
    282â–•                     'interview_pass_rate',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can view visaâ€¦    
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/VisaProcessingControllerTest.php:141
    137â–•         VisaProcess::factory()->create(['candidate_id' => $candidate->id]);
    138â–• 
    139â–•         $response = $this->actingAs($user)->get("/visa-processing/{$candidate->id}");
    140â–• 
  âžœ 141â–•         $response->assertStatus(200);
    142â–•         $response->assertViewIs('visa-processing.show');
    143â–•     }
    144â–• 
    145â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can update intâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:174
    170â–•             'interview_status' => 'passed',
    171â–•             'interview_remarks' => 'Good performance',
    172â–•         ]);
    173â–• 
  âžœ 174â–•         $response->assertRedirect();
    175â–•         $response->assertSessionHas('success');
    176â–•     }
    177â–• 
    178â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > interview update valâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:187
    183â–•         VisaProcess::factory()->create(['candidate_id' => $candidate->id]);
    184â–• 
    185â–•         $response = $this->actingAs($user)->patch("/visa-processing/{$candidate->id}/interview", []);
    186â–• 
  âžœ 187â–•         $response->assertSessionHasErrors(['interview_date', 'interview_status']);
    188â–•     }
    189â–• 
    190â–•     #[Test]
    191â–•     public function interview_status_must_be_valid_value()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > interview status musâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:202
    198â–•             'interview_date' => now()->toDateString(),
    199â–•             'interview_status' => 'invalid_status',
    200â–•         ]);
    201â–• 
  âžœ 202â–•         $response->assertSessionHasErrors(['interview_status']);
    203â–•     }
    204â–• 
    205â–•     // =========================================================================
    206â–•     // UPDATE TRADE TEST

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can update traâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:221
    217â–•             'trade_test_date' => now()->toDateString(),
    218â–•             'trade_test_status' => 'passed',
    219â–•         ]);
    220â–• 
  âžœ 221â–•         $response->assertRedirect();
    222â–•         $response->assertSessionHas('success');
    223â–•     }
    224â–• 
    225â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > medical update requiâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:245
    241â–•             'medical_date' => now()->toDateString(),
    242â–•             'medical_status' => 'fit',
    243â–•         ]);
    244â–• 
  âžœ 245â–•         $response->assertSessionHasErrors(['prerequisites']);
    246â–•     }
    247â–• 
    248â–•     #[Test]
    249â–•     public function medical_update_succeeds_when_prerequisites_met()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > medical update succeâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:264
    260â–•             'medical_date' => now()->toDateString(),
    261â–•             'medical_status' => 'fit',
    262â–•         ]);
    263â–• 
  âžœ 264â–•         $response->assertRedirect();
    265â–•         $response->assertSessionHas('success');
    266â–•     }
    267â–• 
    268â–•     // =========================================================================

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > biometric requires mâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:287
    283â–•             'biometric_date' => now()->toDateString(),
    284â–•             'biometric_status' => 'completed',
    285â–•         ]);
    286â–• 
  âžœ 287â–•         $response->assertSessionHasErrors(['prerequisites']);
    288â–•     }
    289â–• 
    290â–•     // =========================================================================
    291â–•     // UPDATE E-NUMBER - WITH PREREQUISITES

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > enumber requires bioâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:309
    305â–•             'enumber_date' => now()->toDateString(),
    306â–•             'enumber_status' => 'generated',
    307â–•         ]);
    308â–• 
  âžœ 309â–•         $response->assertSessionHasErrors(['prerequisites']);
    310â–•     }
    311â–• 
    312â–•     #[Test]
    313â–•     public function enumber_validates_format()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > enumber validates foâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:328
    324â–•             'enumber_date' => now()->toDateString(),
    325â–•             'enumber_status' => 'generated',
    326â–•         ]);
    327â–• 
  âžœ 328â–•         $response->assertSessionHasErrors(['enumber']);
    329â–•     }
    330â–• 
    331â–•     // =========================================================================
    332â–•     // UPDATE VISA ISSUANCE

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can update visâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:348
    344â–•             'visa_number' => 'V123456789',
    345â–•             'visa_status' => 'issued',
    346â–•         ]);
    347â–• 
  âžœ 348â–•         $response->assertRedirect();
    349â–•         $response->assertSessionHas('success');
    350â–•     }
    351â–• 
    352â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > visa number is requiâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:365
    361â–•             'visa_status' => 'issued',
    362â–•             // Missing visa_number
    363â–•         ]);
    364â–• 
  âžœ 365â–•         $response->assertSessionHasErrors(['visa_number']);
    366â–•     }
    367â–• 
    368â–•     // =========================================================================
    369â–•     // UPLOAD DOCUMENTS

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can upload traâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:385
    381â–•         $response = $this->actingAs($user)->post("/visa-processing/{$candidate->id}/travel-plan", [
    382â–•             'travel_plan_file' => $file,
    383â–•         ]);
    384â–• 
  âžœ 385â–•         $response->assertRedirect();
    386â–•         $response->assertSessionHas('success');
    387â–•     }
    388â–• 
    389â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > travel plan validateâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/VisaProcessingControllerTest.php:402
    398â–•         $response = $this->actingAs($user)->post("/visa-processing/{$candidate->id}/travel-plan", [
    399â–•             'travel_plan_file' => $file,
    400â–•         ]);
    401â–• 
  âžœ 402â–•         $response->assertSessionHasErrors(['travel_plan_file']);
    403â–•     }
    404â–• 
    405â–•     // =========================================================================
    406â–•     // COMPLETE VISA PROCESS

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can complete vâ€¦   
  Failed asserting that two strings are equal.

The following errors occurred during the last request:

Interview must be passed (current: scheduled)
Medical examination must be cleared as "fit" (current: completed)
E-Number must be generated and verified (current: not set)

  -'http://oep.jaamiah.com/visa-processing'
  +'http://oep.jaamiah.com'
  

  at tests/Feature/VisaProcessingControllerTest.php:421
    417â–•         ]);
    418â–• 
    419â–•         $response = $this->actingAs($user)->post("/visa-processing/{$candidate->id}/complete");
    420â–• 
  âžœ 421â–•         $response->assertRedirect(route('visa-processing.index'));
    422â–•         $response->assertSessionHas('success');
    423â–• 
    424â–•         $candidate->refresh();
    425â–•         $this->assertEquals('ready', $candidate->status);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can delete visâ€¦   
  Failed asserting that two strings are equal.
  -'http://oep.jaamiah.com/visa-processing'
  +'http://oep.jaamiah.com'
  

  at tests/Feature/VisaProcessingControllerTest.php:441
    437â–•         VisaProcess::factory()->create(['candidate_id' => $candidate->id]);
    438â–• 
    439â–•         $response = $this->actingAs($user)->delete("/visa-processing/{$candidate->id}");
    440â–• 
  âžœ 441â–•         $response->assertRedirect(route('visa-processing.index'));
    442â–•         $response->assertSessionHas('success');
    443â–• 
    444â–•         $candidate->refresh();
    445â–•         $this->assertEquals('training', $candidate->status);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can view visaâ€¦    
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ErrorException: Undefined variable $visaProcessing in /home/iihsedup/oep.jaamiah.com/storage/framework/views/8da27f580a7240e1bea8d1916f36c591.php:6
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php(258): Illuminate\Foundation\Bootstrap\HandleExceptions->handleError()
#1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/8da27f580a7240e1bea8d1916f36c591.php(6): Illuminate\Foundation\Bootstrap\HandleExceptions->Illuminate\Foundation\Bootstrap\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#62 /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php(459): Illuminate\Foundation\Testing\TestCase->get()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VisaProcessingControllerTest->admin_can_view_visa_timeline()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#73 {main}

Next Spatie\LaravelIgnition\Exceptions\ViewException: Undefined variable $visaProcessing in /home/iihsedup/oep.jaamiah.com/resources/views/visa-processing/timeline.blade.php:7
Stack trace:
#0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
#1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
#2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
#3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
#4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
#5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
#6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
#7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
#8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
#9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
#10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
#11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
#12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
#17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
#60 /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php(459): Illuminate\Foundation\Testing\TestCase->get()
#61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VisaProcessingControllerTest->admin_can_view_visa_timeline()
#62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#71 {main}

----------------------------------------------------------------------------------

Undefined variable $visaProcessing

  at tests/Feature/VisaProcessingControllerTest.php:461
    457â–•         VisaProcess::factory()->create(['candidate_id' => $candidate->id]);
    458â–• 
    459â–•         $response = $this->actingAs($user)->get("/visa-processing/{$candidate->id}/timeline");
    460â–• 
  âžœ 461â–•         $response->assertStatus(200);
    462â–•         $response->assertViewIs('visa-processing.timeline');
    463â–•     }
    464â–• 
    465â–•     #[Test]

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\VisaProcessingControllerTest > admin can view overdâ€¦   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/VisaProcessingControllerTest.php:488
    484â–•         $user = User::factory()->create(['role' => 'super_admin']);
    485â–• 
    486â–•         $response = $this->actingAs($user)->get('/visa-processing/overdue');
    487â–• 
  âžœ 488â–•         $response->assertStatus(200);
    489â–•         $response->assertViewIs('visa-processing.overdue');
    490â–•     }
    491â–• 
    492â–•     // =========================================================================


  Tests:    328 failed, 2 risky, 994 passed (2852 assertions)
  Duration: 55.44s

Time: 00:54.810, Memory: 247.00 MB

Allocation Service (Tests\Unit\AllocationService)
 âœ” It can allocate candidate with all fields
 âœ” It can allocate without optional fields
 âœ” It validates campus exists
 âœ” It validates program exists
 âœ” It validates trade exists
 âœ” It uses database transaction
 âœ” It logs allocation activity
 âœ” It returns allocation summary
 âœ” It handles null optional fields in summary
 âœ” It can bulk allocate multiple candidates
 âœ” It handles bulk allocation failures gracefully
 âœ” It validates all required fields are present
 âœ” It can update existing allocation
 âœ” It rolls back on database error

Authentication (Tests\Feature\Authentication)
 âœ” Login page loads
 âœ” User can login with correct credentials
 âœ” User cannot login with incorrect password
 âœ” User can logout

Authorization Edge Cases (Tests\Unit\AuthorizationEdgeCases)
 âœ” Campus admin cannot view other campus candidates
 âœ” Campus admin cannot edit other campus candidates
 âœ” Campus admin cannot delete other campus candidates
 âœ˜ Campus admin cannot access other campus batches
   â”‚
   â”‚ Expected response status code [403] but received 404.
   â”‚ Failed asserting that 404 is identical to 403.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php:111
   â”‚
 âœ” Campus admin cannot view other campus complaints
 âœ” Regular user cannot access admin routes
 âœ” Viewer cannot modify data
 âœ” Campus admin cannot create other admins
 âœ” User cannot change own role
 âœ˜ Instructor cannot access administrative functions
   â”‚
   â”‚ Instructor should not access POST /bulk/delete
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php:232
   â”‚
 âœ” Oep can only see assigned candidates
 âœ˜ Oep cannot access other oep remittances
   â”‚
   â”‚ Expected response status code [403] but received 500.
   â”‚ Failed asserting that 500 is identical to 403.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Call to a member function count() on null in /home/iihsedup/oep.jaamiah.com/storage/framework/views/a91fc955955a6ccdaea035a0d00b7cb6.php:256
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php(304): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Unit\AuthorizationEdgeCasesTest->oep_cannot_access_other_oep_remittances()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #71 {main}
   â”‚
   â”‚ Next Spatie\LaravelIgnition\Exceptions\ViewException: Call to a member function count() on null in /home/iihsedup/oep.jaamiah.com/resources/views/remittances/show.blade.php:257
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php(304): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Unit\AuthorizationEdgeCasesTest->oep_cannot_access_other_oep_remittances()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #71 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Call to a member function count() on null
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php:306
   â”‚
 âœ” Inactive user cannot login
 âœ” Deactivated user session is terminated
 âœ” Deleted user cannot access system
 âœ” Api requests require valid token
 âœ” Expired token is rejected
 âœ” Revoked token is rejected
 âœ” User cannot access other users api tokens
 âœ˜ User cannot delete other users tokens
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php:435
   â”‚
 âœ˜ Super admin can access all campuses
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php:450
   â”‚
 âœ” Super admin can access all candidates
 âœ˜ Only super admin can access system settings
   â”‚
   â”‚ admin should not access system settings
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/AuthorizationEdgeCasesTest.php:483
   â”‚

Auto Batch Service (Tests\Unit\AutoBatchService)
 âœ” It generates correct batch number format
 âœ” It generates sequential batch numbers
 âœ” It starts sequence at 0001 for new combination
 âœ” It generates correct allocated number format
 âœ” It pads position with leading zeros
 âœ” It creates new batch when none exists
 âœ” It assigns to existing batch when available
 âœ” It creates new batch when existing is full
 âœ” It respects configured batch size
 âœ” It updates candidate with batch and allocated number
 âœ” It handles multiple candidates in sequence
 âœ” It generates unique allocated numbers within batch
 âœ” It groups by campus program trade combination

Batch Api Controller (Tests\Feature\BatchApiController)
 âœ˜ It returns paginated batches
   â”‚
   â”‚ Failed asserting that an array has the key 'data'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:298
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:48
   â”‚
 âœ˜ It filters batches by status
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 73
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:73
   â”‚
 âœ˜ It filters batches by campus
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 86
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:86
   â”‚
 âœ˜ It filters batches by trade
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 99
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:99
   â”‚
 âœ˜ It searches batches
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 113
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:113
   â”‚
 âœ˜ It filters available batches only
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 129
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:129
   â”‚
 âœ” It returns single batch details
 âœ” It returns 404 for nonexistent batch
 âœ” It creates new batch
 âœ˜ It validates required fields on create
   â”‚
   â”‚ Failed to find a validation error in the response for key: 'batch_code'
   â”‚
   â”‚ Response has the following JSON validation errors:
   â”‚
   â”‚ {
   â”‚     "name": [
   â”‚         "The name field is required."
   â”‚     ],
   â”‚     "campus_id": [
   â”‚         "The campus id field is required."
   â”‚     ],
   â”‚     "trade_id": [
   â”‚         "The trade id field is required."
   â”‚     ],
   â”‚     "start_date": [
   â”‚         "The start date field is required."
   â”‚     ],
   â”‚     "end_date": [
   â”‚         "The end date field is required."
   â”‚     ],
   â”‚     "capacity": [
   â”‚         "The capacity field is required."
   â”‚     ],
   â”‚     "status": [
   â”‚         "The status field is required."
   â”‚     ]
   â”‚ }
   â”‚
   â”‚ Failed asserting that an array has the key 'batch_code'.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "success": false,
   â”‚     "errors": {
   â”‚         "name": [
   â”‚             "The name field is required."
   â”‚         ],
   â”‚         "campus_id": [
   â”‚             "The campus id field is required."
   â”‚         ],
   â”‚         "trade_id": [
   â”‚             "The trade id field is required."
   â”‚         ],
   â”‚         "start_date": [
   â”‚             "The start date field is required."
   â”‚         ],
   â”‚         "end_date": [
   â”‚             "The end date field is required."
   â”‚         ],
   â”‚         "capacity": [
   â”‚             "The capacity field is required."
   â”‚         ],
   â”‚         "status": [
   â”‚             "The status field is required."
   â”‚         ]
   â”‚     }
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1034
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:967
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:202
   â”‚
 âœ” It validates unique batch code
 âœ” It updates existing batch
 âœ” It prevents capacity reduction below enrollment
 âœ” It deletes empty batch
 âœ˜ It prevents deletion of batch with candidates
   â”‚
   â”‚ Expected response status code [422] but received 403.
   â”‚ Failed asserting that 403 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:292
   â”‚
 âœ” It returns batch statistics
 âœ” It returns batch candidates
 âœ” It filters batch candidates by training status
 âœ˜ It bulk assigns candidates to batch
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:374
   â”‚
 âœ” It validates bulk assign capacity
 âœ” It validates bulk assign max 100 candidates
 âœ” It changes batch status
 âœ” It validates status change value
 âœ” It returns active batches only
 âœ˜ It returns batches by campus
   â”‚
   â”‚ Failed asserting that actual size 6 matches expected size 4.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:489
   â”‚
 âœ˜ It requires authentication
   â”‚
   â”‚ Expected response status code [401] but received 200.
   â”‚ Failed asserting that 200 is identical to 401.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:508
   â”‚
 âœ˜ Campus admin only sees their batches
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertCount(): Argument #2 ($haystack) must be of type Countable|Traversable|array, null given, called in /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php on line 528
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchApiControllerTest.php:528
   â”‚

Batch Controller (Tests\Feature\BatchController)
 âœ” Admin can view batches index
 âœ˜ Campus admin only sees their campus batches
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php:70
   â”‚
 âœ” Batches can be filtered by status
 âœ” Batches can be searched
 âœ” Admin can view create batch form
 âœ” Admin can create batch
 âœ˜ Batch creation requires valid data
   â”‚
   â”‚ Session missing error: batch_code
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ The name field is required.
   â”‚ The campus id field is required.
   â”‚ The trade id field is required.
   â”‚ The start date field is required.
   â”‚ The end date field is required.
   â”‚ The capacity field is required.
   â”‚ The status field is required.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1528
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php:151
   â”‚
 âœ” Batch code must be unique
 âœ” Start date must be today or future
 âœ” End date must be after start date
 âœ” Admin can view edit batch form
 âœ” Admin can update batch
 âœ” Cannot reduce capacity below enrollment
 âœ” Admin can view batch details
 âœ” Admin can delete empty batch
 âœ˜ Cannot delete batch with candidates
   â”‚
   â”‚ Session is missing expected key [error].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php:314
   â”‚
 âœ˜ Admin can view batch candidates
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/131c60cf46457cc35796e36255dcff8c.php(150): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(329): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->admin_can_view_batch_candidates()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #73 {main}
   â”‚
   â”‚ Next Spatie\LaravelIgnition\Exceptions\ViewException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/resources/views/admin/batches/candidates.blade.php(148): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(329): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->admin_can_view_batch_candidates()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #73 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Route [admin.candidates.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php:331
   â”‚
 âœ˜ Batch candidates can be filtered
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/131c60cf46457cc35796e36255dcff8c.php(150): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(350): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->batch_candidates_can_be_filtered()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #73 {main}
   â”‚
   â”‚ Next Spatie\LaravelIgnition\Exceptions\ViewException: Route [admin.candidates.show] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/resources/views/admin/batches/candidates.blade.php(148): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php(350): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BatchControllerTest->batch_candidates_can_be_filtered()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #73 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Route [admin.candidates.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php:352
   â”‚
 âœ˜ Admin can bulk assign candidates to batch
   â”‚
   â”‚ Session is missing expected key [success].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchControllerTest.php:374
   â”‚
 âœ” Cannot assign more candidates than capacity
 âœ” Guest cannot access batches
 âœ” Campus admin cannot edit other campus batch

Batch Import Integration (Tests\Feature\BatchImportIntegration)
 âœ˜ It accepts valid excel file
   â”‚
   â”‚ Session has unexpected errors: 
   â”‚
   â”‚ {
   â”‚     "default": [
   â”‚         "Error processing file: Unable to identify a reader for this file"
   â”‚     ]
   â”‚ }
   â”‚ Failed asserting that true is false.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1581
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1550
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:58
   â”‚
 âœ” It rejects invalid file types
 âœ” It rejects oversized files
 âœ˜ It validates required columns
   â”‚
   â”‚ Symfony\Component\HttpKernel\Exception\MethodNotAllowedHttpException: The POST method is not supported for route import/candidates/validate. Supported methods: GET, HEAD.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:123
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:108
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:42
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/RouteCollection.php:162
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:763
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:750
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:739
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:201
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:170
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php:21
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php:31
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php:21
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php:51
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php:27
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php:110
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php:49
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php:58
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php:22
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:176
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:145
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php:607
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php:397
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:98
   â”‚
 âœ˜ It validates cnic format in import
   â”‚
   â”‚ Symfony\Component\HttpKernel\Exception\MethodNotAllowedHttpException: The POST method is not supported for route import/candidates/validate. Supported methods: GET, HEAD.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:123
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:108
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:42
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/RouteCollection.php:162
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:763
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:750
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:739
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:201
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:170
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php:21
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php:31
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php:21
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php:51
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php:27
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php:110
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php:49
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php:58
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php:22
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:176
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:145
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php:607
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php:397
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:112
   â”‚
 âœ˜ It validates date formats in import
   â”‚
   â”‚ Symfony\Component\HttpKernel\Exception\MethodNotAllowedHttpException: The POST method is not supported for route import/candidates/validate. Supported methods: GET, HEAD.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:123
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:108
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/AbstractRouteCollection.php:42
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/RouteCollection.php:162
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:763
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:750
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php:739
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:201
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:170
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php:21
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php:31
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php:21
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php:51
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php:27
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php:110
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php:49
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php:58
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php:22
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:209
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php:127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:176
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php:145
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php:607
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php:397
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:127
   â”‚
 âœ˜ It detects duplicate cnic in import
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:154
   â”‚
 âœ˜ It detects duplicate phone in import
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:173
   â”‚
 âœ” It allows skipping duplicates
 âœ˜ It allows updating duplicates
   â”‚
   â”‚ Failed asserting that two strings are equal.
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚ -'New Name'
   â”‚ +'Old Name'
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:216
   â”‚
 âœ˜ It processes large import in chunks
   â”‚
   â”‚ The expected [App\Jobs\ProcessCandidateImport] job was not pushed.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/QueueFake.php:110
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:238
   â”‚
 âœ˜ It tracks import progress
   â”‚
   â”‚ Session is missing expected key [import_id].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ Error processing file: Unable to identify a reader for this file
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:253
   â”‚
 âœ” It can check import status
 âœ˜ It logs row errors without stopping import
   â”‚
   â”‚ Failed asserting that 0 is greater than 0.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:295
   â”‚
 âœ˜ It generates error report
   â”‚
   â”‚ Session is missing expected key [import_errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ Error processing file: Unable to identify a reader for this file
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:310
   â”‚
 âœ” It can download error report
 âœ” It can rollback failed import
 âœ˜ Campus admin can only import to their campus
   â”‚
   â”‚ Expected response status code [403] but received 302.
   â”‚ Failed asserting that 302 is identical to 403.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ Error processing file: Unable to identify a reader for this file
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BatchImportIntegrationTest.php:376
   â”‚
 âœ” Regular user cannot import

Batch Policy (Tests\Unit\BatchPolicy)
 âœ” Super admin can view any batch
 âœ” Super admin can view specific batch
 âœ” Super admin can create batch
 âœ” Super admin can update batch
 âœ” Super admin can delete empty batch
 âœ” Super admin cannot delete batch with candidates
 âœ” Super admin can assign candidates
 âœ” Super admin can change status
 âœ” Project director can view any batch
 âœ” Project director can view specific batch
 âœ” Project director can create batch
 âœ” Project director can update batch
 âœ” Project director cannot delete batch with candidates
 âœ” Project director can change status
 âœ” Campus admin can view batches from their campus
 âœ” Campus admin cannot view batches from other campus
 âœ” Campus admin can create batch
 âœ” Campus admin can update batches from their campus
 âœ” Campus admin cannot update batches from other campus
 âœ” Campus admin can delete planned batch from their campus
 âœ” Campus admin cannot delete active batch
 âœ” Campus admin cannot delete batch from other campus
 âœ” Campus admin can assign candidates to their campus batch
 âœ” Campus admin can change status
 âœ” Trainer can view batches from their campus
 âœ” Trainer cannot view batches from other campus
 âœ” Trainer cannot create batch
 âœ” Trainer cannot update batch
 âœ” Trainer cannot delete batch
 âœ” Trainer cannot change status
 âœ” Viewer can view any batch
 âœ” Viewer can view specific batch
 âœ” Viewer cannot create batch
 âœ” Viewer cannot update batch
 âœ” Viewer cannot delete batch
 âœ” Viewer cannot change status
 âœ” Authorized roles can access api list
 âœ” Unauthorized roles cannot access api list
 âœ” Authorized roles can access by campus endpoint
 âœ” Campus admin without campus id cannot view batches
 âœ” Trainer without campus id cannot view batches
 âœ” No one can delete batch with candidates regardless of role

Bulk Operations Controller (Tests\Feature\BulkOperationsController)
 âœ˜ Super admin can bulk update candidate status
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(28): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->super_admin_can_bulk_update_candidate_status()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:33
   â”‚
 âœ˜ Campus admin can only update their campus candidates
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(61): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->campus_admin_can_only_update_their_campus_candidates()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:66
   â”‚
 âœ˜ Bulk update validates status transitions
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(81): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->bulk_update_validates_status_transitions()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:86
   â”‚
 âœ” Bulk update requires authentication
 âœ˜ Bulk update validates required fields
   â”‚
   â”‚ Expected response status code [422] but received 500.
   â”‚ Failed asserting that 500 is identical to 422.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(112): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->bulk_update_validates_required_fields()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:114
   â”‚
 âœ˜ Bulk update limits to 100 candidates
   â”‚
   â”‚ Expected response status code [422] but received 500.
   â”‚ Failed asserting that 500 is identical to 422.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(124): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->bulk_update_limits_to_100_candidates()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:129
   â”‚
 âœ” Admin can bulk assign candidates to batch
 âœ” Batch assignment respects capacity
 âœ” Batch assignment requires valid batch
 âœ” Admin can bulk assign candidates to campus
 âœ” Campus assignment clears batch
 âœ˜ Admin can export candidates
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [candidates.export.download] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php(241): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->export()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(265): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->admin_can_export_candidates()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #58 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Route [candidates.export.download] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:270
   â”‚
 âœ” Export validates format
 âœ˜ Export filters by user permissions
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [candidates.export.download] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php(241): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->export()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php(304): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsControllerTest->export_filters_by_user_permissions()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #58 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Route [candidates.export.download] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:309
   â”‚
 âœ” Only admin can bulk delete
 âœ” Admin can bulk delete candidates
 âœ” Cannot delete departed candidates
 âœ” Bulk delete limits to 50 candidates
 âœ˜ Admin can send bulk notifications
   â”‚
   â”‚ Unable to find JSON: 
   â”‚
   â”‚ [{
   â”‚     "success": true,
   â”‚     "queued": 3
   â”‚ }]
   â”‚
   â”‚ within response JSON:
   â”‚
   â”‚ [{
   â”‚     "success": true,
   â”‚     "message": "3 notifications sent",
   â”‚     "sent": 3,
   â”‚     "failed": 0,
   â”‚     "errors": []
   â”‚ }].
   â”‚
   â”‚
   â”‚ Failed asserting that an array has the subset Array &0 [
   â”‚     'success' => true,
   â”‚     'queued' => 3,
   â”‚ ].
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚    'errors' => 
   â”‚    array (
   â”‚    ),
   â”‚ -  'queued' => 3,
   â”‚  )
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Constraints/ArraySubset.php:81
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Assert.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:318
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:767
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsControllerTest.php:404
   â”‚
 âœ” Email notification requires subject

Bulk Operations Integration (Tests\Feature\BulkOperationsIntegration)
 âœ˜ It updates multiple candidates status atomically
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(61): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_updates_multiple_candidates_status_atomically()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:66
   â”‚
 âœ˜ It validates status transitions in bulk
   â”‚
   â”‚ Expected response status code [422] but received 500.
   â”‚ Failed asserting that 500 is identical to 422.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(80): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_validates_status_transitions_in_bulk()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:85
   â”‚
 âœ” It rolls back on partial failure
 âœ” It assigns candidates to batch with capacity check
 âœ˜ It rejects assignment exceeding capacity
   â”‚
   â”‚ Expected response status code [422] but received 200.
   â”‚ Failed asserting that 200 is identical to 422.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "success": true,
   â”‚     "message": "0 candidates assigned to Foundation Course September 1977",
   â”‚     "updated": 0,
   â”‚     "errors": [
   â”‚         "Batch Foundation Course September 1977 is at full capacity"
   â”‚     ]
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:161
   â”‚
 âœ˜ It validates trade compatibility for batch assignment
   â”‚
   â”‚ Expected response status code [422] but received 200.
   â”‚ Failed asserting that 200 is identical to 422.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "success": true,
   â”‚     "message": "5 candidates assigned to Advanced Skills Program February 1976",
   â”‚     "updated": 5,
   â”‚     "errors": []
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:180
   â”‚
 âœ” It transfers candidates between campuses
 âœ” It clears batch on campus transfer
 âœ˜ It exports selected candidates to csv
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [candidates.export.download] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php(241): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->export()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(237): Illuminate\Foundation\Testing\TestCase->post()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_exports_selected_candidates_to_csv()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #57 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Route [candidates.export.download] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:243
   â”‚
 âœ˜ It exports filtered candidates to excel
   â”‚
   â”‚ Expected response status code [200] but received 302.
   â”‚ Failed asserting that 302 is identical to 200.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ The candidate ids field is required.
   â”‚ The selected format is invalid.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:264
   â”‚
 âœ˜ It queues large exports
   â”‚
   â”‚ The expected [App\Jobs\ProcessBulkExport] job was not pushed.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/QueueFake.php:110
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:283
   â”‚
 âœ” It soft deletes candidates in bulk
 âœ˜ It prevents deletion of departed candidates
   â”‚
   â”‚ Expected response status code [422] but received 200.
   â”‚ Failed asserting that 200 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:322
   â”‚
 âœ˜ It requires confirmation for bulk delete
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:339
   â”‚
 âœ˜ It sends notifications to selected candidates
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:363
   â”‚
 âœ˜ It sends sms notifications
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:382
   â”‚
 âœ˜ It handles optimistic locking for concurrent updates
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(404): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_handles_optimistic_locking_for_concurrent_updates()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:410
   â”‚
 âœ˜ It logs bulk operations
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(427): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->it_logs_bulk_operations()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:432
   â”‚
 âœ˜ Campus admin can only operate on their campus
   â”‚
   â”‚ Expected response status code [403] but received 500.
   â”‚ Failed asserting that 500 is identical to 403.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Undefined constant App\Models\Candidate::STATUSES in /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/BulkOperationsController.php:32
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\BulkOperationsController->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php(459): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\BulkOperationsIntegrationTest->campus_admin_can_only_operate_on_their_campus()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #56 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined constant App\Models\Candidate::STATUSES
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/BulkOperationsIntegrationTest.php:464
   â”‚
 âœ” Only admin can perform bulk delete

Campus Equipment Policy (Tests\Unit\CampusEquipmentPolicy)
 âœ” Super admin can view any equipment
 âœ” Super admin can view specific equipment
 âœ” Super admin can create equipment
 âœ” Super admin can update equipment
 âœ” Super admin can delete equipment
 âœ” Super admin can log usage
 âœ” Super admin can view reports
 âœ” Project director can view any equipment
 âœ” Project director can create equipment
 âœ” Campus admin can view equipment from their campus
 âœ” Campus admin cannot view equipment from other campus
 âœ” Campus admin can create equipment
 âœ” Campus admin can update equipment from their campus
 âœ” Campus admin cannot update equipment from other campus
 âœ” Campus admin cannot delete equipment
 âœ” Campus admin can log usage for their campus
 âœ” Campus admin can view reports
 âœ” Instructor can log usage for their campus
 âœ” Instructor cannot log usage for other campus
 âœ” Viewer can view any equipment
 âœ” Viewer can view specific equipment
 âœ” Viewer cannot create equipment
 âœ” Viewer cannot update equipment
 âœ” Viewer cannot delete equipment

Campus Policy (Tests\Unit\CampusPolicy)
 âœ” Super admin can view any campus
 âœ” Project director can view any campus
 âœ” Campus admin can view campus list
 âœ” Viewer can view campus list
 âœ” Unauthorized roles cannot view campus list
 âœ” Super admin can view specific campus
 âœ” Project director can view specific campus
 âœ” Viewer can view specific campus
 âœ” Campus admin can view their own campus
 âœ” Campus admin cannot view other campus
 âœ” Campus admin without campus id cannot view campus
 âœ” Super admin can create campus
 âœ” Non super admin cannot create campus
 âœ” Super admin can update campus
 âœ” Non super admin cannot update campus
 âœ” Super admin can delete campus
 âœ” Non super admin cannot delete campus
 âœ” Super admin can toggle campus status
 âœ” Non super admin cannot toggle campus status
 âœ” Authorized roles can access api list
 âœ” Unauthorized roles cannot access api list

Candidate Api Controller (Tests\Feature\CandidateApiController)
 âœ˜ It returns paginated candidates
   â”‚
   â”‚ Failed asserting that an array has the key 'cnic'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:295
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateApiControllerTest.php:40
   â”‚
 âœ” It filters candidates by status
 âœ” It filters candidates by campus
 âœ” It searches candidates by name
 âœ” It searches candidates by cnic
 âœ˜ It returns single candidate
   â”‚
   â”‚ Failed asserting that an array has the key 'cnic'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateApiControllerTest.php:110
   â”‚
 âœ” It returns 404 for nonexistent candidate
 âœ” It includes relationships in show
 âœ˜ It creates a new candidate
   â”‚
   â”‚ Expected response status code [201] but received 422.
   â”‚ Failed asserting that 422 is identical to 201.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "success": false,
   â”‚     "errors": {
   â”‚         "father_name": [
   â”‚             "The father name field is required."
   â”‚         ],
   â”‚         "address": [
   â”‚             "The address field is required."
   â”‚         ],
   â”‚         "district": [
   â”‚             "The district field is required."
   â”‚         ]
   â”‚     }
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateApiControllerTest.php:162
   â”‚
 âœ” It validates required fields
 âœ” It validates unique cnic
 âœ” It validates cnic format
 âœ” It updates a candidate
 âœ˜ It validates update data
   â”‚
   â”‚ Expected response status code [422] but received 200.
   â”‚ Failed asserting that 200 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateApiControllerTest.php:231
   â”‚
 âœ” It soft deletes a candidate
 âœ˜ It returns candidate statistics
   â”‚
   â”‚ Failed asserting that an array has the key 'by_status'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateApiControllerTest.php:264
   â”‚
 âœ” Unauthenticated user cannot access api
 âœ” Campus admin only sees their campus candidates
 âœ˜ It respects per page parameter
   â”‚
   â”‚ Failed asserting that null matches expected 10.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateApiControllerTest.php:323
   â”‚
 âœ” It limits maximum per page

Candidate Deduplication Service (Tests\Unit\CandidateDeduplicationService)
 âœ” It detects exact cnic match
 âœ” It detects cnic with dashes
 âœ” It returns no match for unique cnic
 âœ” It detects name and dob match
 âœ” It does not match different dob
 âœ” It detects phone match with similar name
 âœ” It assigns lower confidence for phone match with different name
 âœ” It detects btevta id match
 âœ” It calculates exact name similarity
 âœ” It calculates similar name score
 âœ” It calculates low score for different names
 âœ” It skips duplicates in batch import
 âœ” It imports all when no duplicates
 âœ” It returns duplicate statistics
 âœ” It can merge duplicate candidates
 âœ” It finds candidates by cnic
 âœ” It finds candidates by phone
 âœ” It finds candidates by btevta id

Candidate Lifecycle Integration (Tests\Feature\CandidateLifecycleIntegration)
 âœ” It creates new candidate with generated ids
 âœ” It validates cnic format on creation
 âœ˜ It detects duplicate phone numbers
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateLifecycleIntegrationTest.php:122
   â”‚
 âœ” It transitions from new to screening
 âœ” It records desk screening
 âœ” It records call screening with attempts
 âœ” It records physical screening
 âœ” It auto progresses to registered when all screenings pass
 âœ” It fails screening and rejects candidate
 âœ˜ It uploads required documents
   â”‚
   â”‚ Failed asserting that 3 matches expected 4.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateLifecycleIntegrationTest.php:286
   â”‚
 âœ˜ It verifies documents
   â”‚
   â”‚ Failed asserting that two strings are equal.
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚ -'verified'
   â”‚ +'pending'
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateLifecycleIntegrationTest.php:306
   â”‚
 âœ˜ It blocks completion with expired documents
   â”‚
   â”‚ Expected response status code [422] but received 302.
   â”‚ Failed asserting that 302 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateLifecycleIntegrationTest.php:328
   â”‚
 âœ” It transitions to training
 âœ” It records training attendance
 âœ” It records training assessments
 âœ” It issues training certificate
 âœ” It transitions to visa process
 âœ” It records visa process steps
 âœ” It validates transition to ready
 âœ” It transitions to ready status
 âœ” It records departure
 âœ˜ It transitions to departed
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateLifecycleIntegrationTest.php:538
   â”‚
 âœ” It completes full candidate lifecycle

Candidate Management (Tests\Feature\CandidateManagement)
 âš  Candidates list loads
 âœ” Can create candidate
 âœ” Can update candidate
 âœ” Can delete candidate

Candidate Model (Tests\Unit\CandidateModel)
 âœ” It can create a candidate
 âœ” It belongs to a campus
 âœ” It belongs to a trade
 âœ” It belongs to a batch
 âœ” It has status attribute
 âœ” It can scope by status
 âœ” It can search by name
 âœ” It requires name cnic and phone
 âœ” Cnic should be unique
 âœ” It can soft delete
 âœ” It validates pakistan phone format
 âœ” It calculates luhn check digit correctly
 âœ” It generates btevta id with check digit
 âœ” It validates btevta id check digit
 âœ” It validates cnic checksum
 âœ” It finds potential duplicates by phone
 âœ” It finds potential duplicates by email
 âœ” It finds potential duplicates by similar name
 âœ” It excludes specified candidate from duplicate check
 âœ” It auto generates ids with checksums
 âœ” It generates sequential btevta ids

Candidate Model Feature (Tests\Feature\CandidateModelFeature)
 âœ” Candidate has valid statuses
 âœ” Candidate status label
 âœ” Candidate age calculation
 âœ” Candidate is listed
 âœ” Candidate progress percentage

Candidate Policy (Tests\Unit\CandidatePolicy)
 âœ” Super admin can view any candidate
 âœ” Super admin can view specific candidate
 âœ” Super admin can create candidate
 âœ” Super admin can update candidate
 âœ” Super admin can delete candidate
 âœ” Admin can view any candidate
 âœ” Admin can create candidate
 âœ” Admin can update any candidate
 âœ” Campus admin can view candidates from their campus
 âœ” Campus admin cannot view candidates from other campus
 âœ” Campus admin can create candidate
 âœ” Campus admin can update candidates from their campus
 âœ” Campus admin cannot update candidates from other campus
 âœ” Campus admin cannot delete candidates
 âœ” Oep can view candidates assigned to them
 âœ” Oep cannot view candidates not assigned to them
 âœ” Oep cannot create candidates
 âœ” Oep can update limited fields for assigned candidates
 âœ” Instructor can view candidates in their batch
 âœ” Instructor cannot view candidates in other batches
 âœ” Instructor cannot create candidates
 âœ” Viewer can view candidates
 âœ” Viewer cannot create candidates
 âœ” Viewer cannot update candidates
 âœ” Viewer cannot delete candidates
 âœ” Inactive user cannot perform any action

Candidate Relationships (Tests\Unit\CandidateRelationships)
 âœ” Certificate relationship returns latest
 âœ” Attendances alias relationship
 âœ” Assessments alias relationship
 âœ” Training certificates relationship
 âœ” Certificate returns latest when multiple exist

Candidate State Machine (Tests\Unit\CandidateStateMachine)
 âœ” New candidate can transition to screening
 âœ” New candidate can transition to rejected
 âœ” Screening candidate can transition to registered
 âœ” Screening candidate can transition to rejected
 âœ” Registered candidate can transition to training
 âœ” Registered candidate can transition to dropped
 âœ” Training candidate can transition to visa process
 âœ” Training candidate can transition to dropped
 âœ” Visa process candidate can transition to ready
 âœ” Visa process candidate can transition to rejected
 âœ” Ready candidate can transition to departed
 âœ” Departed candidate can transition to returned
 âœ” New candidate cannot transition directly to training
 âœ” New candidate cannot transition directly to departed
 âœ” Screening cannot transition to departed
 âœ” Registered cannot transition to departed
 âœ” Training cannot transition to departed
 âœ” Visa process cannot transition directly to departed
 âœ” Departed cannot transition to new
 âœ” Rejected cannot transition to any status
 âœ” Candidate can complete full lifecycle
 âœ” Status change logs activity
 âœ” Status change records remarks
 âœ” Can transition to returns correct result
 âœ” Get allowed transitions returns correct statuses

Complaint Controller (Tests\Feature\ComplaintController)
 âœ” Admin can view complaints list
 âœ” Index can filter by status
 âœ” Index can filter by priority
 âœ” Index can search complaints
 âœ” Admin can view create complaint form
 âœ˜ Admin can create complaint
   â”‚
   â”‚ Failed asserting that a row in the table [complaints] matches the attributes {
   â”‚     "complainant_name": "John Smith",
   â”‚     "category": "training"
   â”‚ }.
   â”‚
   â”‚ Found similar results: [
   â”‚     {
   â”‚         "complainant_name": "John Smith",
   â”‚         "\"category\"": "category"
   â”‚     }
   â”‚ ].
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithDatabase.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:115
   â”‚
 âœ” Complaint validates required fields
 âœ” Complaint validates category
 âœ” Complaint validates priority
 âœ˜ Complaint can include evidence
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Call to a member function store() on string in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:168
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php(124): App\Services\ComplaintService->uploadEvidence()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/ComplaintController.php(131): App\Services\ComplaintService->registerComplaint()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\ComplaintController->store()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(178): Illuminate\Foundation\Testing\TestCase->post()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->complaint_can_include_evidence()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #66 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Call to a member function store() on string
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:188
   â”‚
 âœ˜ Admin can view complaint details
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Call to a member function format() on null in /home/iihsedup/oep.jaamiah.com/storage/framework/views/c1379df7699e27b4f8995d0be8daf54e.php:137
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(202): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_view_complaint_details()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #71 {main}
   â”‚
   â”‚ Next Spatie\LaravelIgnition\Exceptions\ViewException: Call to a member function format() on null in /home/iihsedup/oep.jaamiah.com/resources/views/complaints/show.blade.php:134
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(202): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_view_complaint_details()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #71 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Call to a member function format() on null
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:204
   â”‚
 âœ˜ Admin can update complaint priority
   â”‚
   â”‚ Session is missing expected key [success].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ The selected priority is invalid.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:223
   â”‚
 âœ˜ Admin can update complaint status
   â”‚
   â”‚ Session is missing expected key [success].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:237
   â”‚
 âœ” Admin can assign complaint
 âœ” Assign validates user exists
 âœ” Admin can add update to complaint
 âœ” Add update validates text required
 âœ˜ Admin can add evidence to complaint
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Call to a member function store() on string in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:168
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php(790): App\Services\ComplaintService->uploadEvidence()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/ComplaintController.php(303): App\Services\ComplaintService->addEvidence()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\ComplaintController->addEvidence()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(313): Illuminate\Foundation\Testing\TestCase->post()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_add_evidence_to_complaint()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #66 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Call to a member function store() on string
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:318
   â”‚
 âœ” Add evidence validates file type
 âœ” Admin can escalate complaint
 âœ” Escalate requires reason
 âœ˜ Admin can resolve complaint
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ TypeError: Cannot access offset of type string on string in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:328
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/ComplaintController.php(354): App\Services\ComplaintService->resolveComplaint()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\ComplaintController->resolve()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php(375): Illuminate\Foundation\Testing\TestCase->post()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintControllerTest->admin_can_resolve_complaint()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #65 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Cannot access offset of type string on string
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:381
   â”‚
 âœ” Resolve validates required fields
 âœ” Admin can close complaint
 âœ” Admin can reopen closed complaint
 âœ” Reopen requires reason
 âœ˜ Admin can view overdue complaints
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:454
   â”‚
 âœ˜ Admin can view their assigned complaints
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:469
   â”‚
 âœ˜ Admin can view complaint statistics
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:487
   â”‚
 âœ˜ Admin can generate analytics report
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:506
   â”‚
 âœ˜ Admin can view sla report
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:524
   â”‚
 âœ˜ Admin can export complaints
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:539
   â”‚
 âœ˜ Export validates format
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintControllerTest.php:549
   â”‚
 âœ” Admin can delete complaint
 âœ” Unauthenticated user cannot access complaints
 âœ” Regular user cannot access complaints

Complaint Policies (Tests\Unit\ComplaintPolicies)
 âœ” Super admin can view any evidence
 âœ” Project director can view any evidence
 âœ” Campus admin can view evidence from their campus
 âœ” Campus admin cannot view evidence from other campus
 âœ” Authorized roles can upload evidence
 âœ” Viewer cannot upload evidence
 âœ” Only super admin can delete evidence
 âœ” Super admin can view any update
 âœ” Authorized roles can create updates
 âœ” Viewer cannot create updates
 âœ” Campus admin can view updates from their campus
 âœ” Super admin can update any complaint update
 âœ” Only super admin can delete updates

Complaint Rest Api (Tests\Feature\ComplaintRestApi)
 âœ” It lists all complaints with authentication
 âœ” It requires authentication
 âœ” It filters complaints for campus admin
 âœ˜ It shows specific complaint with sla status
   â”‚
   â”‚ Failed asserting that an array has the key 'sla_status'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php:115
   â”‚
 âœ” It registers complaint
 âœ˜ It updates complaint
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Exception: Invalid status transition from 'registered' to 'in_progress'. Allowed:  in /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php:263
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/ComplaintApiController.php(162): App\Services\ComplaintService->updateStatus()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\ComplaintApiController->update()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(441): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php(163): Illuminate\Foundation\Testing\TestCase->putJson()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintRestApiTest->it_updates_complaint()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #55 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Invalid status transition from 'registered' to 'in_progress'. Allowed:
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php:168
   â”‚
 âœ˜ It assigns complaint
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Error: Call to a member function format() on string in /home/iihsedup/oep.jaamiah.com/app/Http/Resources/ComplaintResource.php:38
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Resources/Json/JsonResource.php(108): App\Http\Resources\ComplaintResource->toArray()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Resources/Json/JsonResource.php(255): Illuminate\Http\Resources\Json\JsonResource->resolve()
   â”‚ #2 [internal function]: Illuminate\Http\Resources\Json\JsonResource->jsonSerialize()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/JsonResponse.php(86): json_encode()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/symfony/http-foundation/JsonResponse.php(49): Illuminate\Http\JsonResponse->setData()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/JsonResponse.php(32): Symfony\Component\HttpFoundation\JsonResponse->__construct()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ResponseFactory.php(104): Illuminate\Http\JsonResponse->__construct()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/ComplaintApiController.php(192): Illuminate\Routing\ResponseFactory->json()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\ComplaintApiController->assign()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php(188): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintRestApiTest->it_assigns_complaint()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #62 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Call to a member function format() on string
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php:193
   â”‚
 âœ” It escalates complaint
 âœ” It resolves complaint
 âœ” It returns complaint statistics
 âœ˜ It returns overdue complaints
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Illuminate\Database\Eloquent\RelationNotFoundException: Call to undefined relationship [assignedToUser] on model [App\Models\Complaint]. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/RelationNotFoundException.php:35
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(878): Illuminate\Database\Eloquent\RelationNotFoundException::make()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(120): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(874): Illuminate\Database\Eloquent\Relations\Relation::noConstraints()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(848): Illuminate\Database\Eloquent\Builder->getRelation()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(828): Illuminate\Database\Eloquent\Builder->eagerLoadRelation()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(794): Illuminate\Database\Eloquent\Builder->eagerLoadRelations()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/app/Services/ComplaintService.php(496): Illuminate\Database\Eloquent\Builder->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/ComplaintApiController.php(283): App\Services\ComplaintService->getOverdueComplaints()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\ComplaintApiController->overdue()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php(285): Illuminate\Foundation\Testing\TestCase->getJson()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\ComplaintRestApiTest->it_returns_overdue_complaints()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #62 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Call to undefined relationship [assignedToUser] on model [App\Models\Complaint].
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintRestApiTest.php:287
   â”‚
 âœ” It filters by status
 âœ” It filters by priority
 âœ” It filters by sla breached
 âœ” It searches complaints
 âœ” It validates required fields on create
 âœ” It supports pagination

Complaint Service (Tests\Unit\ComplaintService)
 âœ” It can register a complaint
 âœ” It generates unique reference number
 âœ” It sets sla based on priority
 âœ” Open complaint can transition to assigned
 âœ” Open complaint can transition to in progress
 âœ” Open complaint can transition to resolved
 âœ” Assigned complaint can transition to in progress
 âœ” In progress complaint can transition to resolved
 âœ” Resolved complaint can transition to closed
 âœ” Resolved complaint can be reopened
 âœ” Closed complaint can be reopened
 âœ” Open complaint cannot transition to closed
 âœ” Assigned cannot transition to closed
 âœ” In progress cannot transition to closed
 âœ” In progress cannot transition to open
 âœ” Escalation recalculates sla from current date
 âœ” Escalation increases priority
 âœ” Escalation increases level
 âœ” Escalation level cannot exceed maximum
 âœ” Check sla status returns correct status
 âœ” It calculates statistics correctly
 âœ” It calculates sla compliance rate
 âœ” Resolving complaint sets resolution details
 âœ” Close complaint requires resolved status
 âœ” Resolved complaint can be closed
 âœ” It can assign complaint to user

Complaint Statistics (Tests\Feature\ComplaintStatistics)
 âœ˜ Admin can view complaint statistics
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:41
   â”‚
 âœ˜ Statistics contain total complaints
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:55
   â”‚
 âœ˜ Statistics contain status breakdown
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:71
   â”‚
 âœ˜ Statistics contain category breakdown
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:88
   â”‚
 âœ˜ Statistics contain priority breakdown
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:107
   â”‚
 âœ˜ Statistics contain recent complaints
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:121
   â”‚
 âœ˜ Statistics calculate sla compliance rate
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:150
   â”‚
 âœ˜ Statistics show monthly trends
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:172
   â”‚
 âœ˜ Statistics show top assignees
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1255
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ComplaintStatisticsTest.php:190
   â”‚
 âœ” Unauthenticated users cannot view statistics

Correspondence Rest Api (Tests\Feature\CorrespondenceRestApi)
 âœ” It lists all correspondence with authentication
 âœ” It requires authentication
 âœ” It filters correspondence for campus admin
 âœ” It shows specific correspondence
 âœ˜ It creates correspondence
   â”‚
   â”‚ Expected response status code [201] but received 500.
   â”‚ Failed asserting that 500 is identical to 201.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: correspondences.message in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(571): PDOStatement->execute()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(560): Illuminate\Database\Connection->run()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(524): Illuminate\Database\Connection->statement()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php(32): Illuminate\Database\Connection->insert()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3766): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->insertGetId()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1359): Illuminate\Database\Eloquent\Builder->__call()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1324): Illuminate\Database\Eloquent\Model->insertAndSetId()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1163): Illuminate\Database\Eloquent\Model->performInsert()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1128): Illuminate\Database\Eloquent\Model->save()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1127): tap()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2372): Illuminate\Database\Eloquent\Model->forwardCallTo()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2384): Illuminate\Database\Eloquent\Model->__call()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(128): Illuminate\Database\Eloquent\Model::__callStatic()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->store()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(121): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_creates_correspondence()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #72 {main}
   â”‚
   â”‚ Next Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: correspondences.message (Connection: sqlite, SQL: insert into "correspondences" ("subject", "campus_id", "status", "sent_at", "updated_at", "created_at") values (Test Subject, 1, pending, 2026-01-26 13:29:37, 2026-01-26 13:29:37, 2026-01-26 13:29:37)) in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(560): Illuminate\Database\Connection->run()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(524): Illuminate\Database\Connection->statement()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php(32): Illuminate\Database\Connection->insert()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3766): Illuminate\Database\Query\Processors\Processor->processInsertGetId()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->insertGetId()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1359): Illuminate\Database\Eloquent\Builder->__call()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1324): Illuminate\Database\Eloquent\Model->insertAndSetId()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1163): Illuminate\Database\Eloquent\Model->performInsert()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1128): Illuminate\Database\Eloquent\Model->save()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php(399): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1127): tap()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2372): Illuminate\Database\Eloquent\Model->forwardCallTo()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(2384): Illuminate\Database\Eloquent\Model->__call()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(128): Illuminate\Database\Eloquent\Model::__callStatic()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->store()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(121): Illuminate\Foundation\Testing\TestCase->postJson()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_creates_correspondence()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #70 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: correspondences.message (Connection: sqlite, SQL: insert into "correspondences" ("subject", "campus_id", "status", "sent_at", "updated_at", "created_at") values (Test Subject, 1, pending, 2026-01-26 13:29:37, 2026-01-26 13:29:37, 2026-01-26 13:29:37))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php:134
   â”‚
 âœ” It updates correspondence
 âœ” It deletes correspondence
 âœ˜ It returns correspondence statistics
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 no such column: response_date in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): PDO->prepare()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(742): Illuminate\Database\Eloquent\Builder->first()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(242): Illuminate\Database\Eloquent\Builder->value()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->statistics()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(193): Illuminate\Foundation\Testing\TestCase->getJson()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_returns_correspondence_statistics()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #67 {main}
   â”‚
   â”‚ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: response_date (Connection: sqlite, SQL: select AVG(DATEDIFF(response_date, created_at)) as avg_days from "correspondences" where "response_date" is not null and "correspondences"."deleted_at" is null limit 1) in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(742): Illuminate\Database\Eloquent\Builder->first()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/CorrespondenceApiController.php(242): Illuminate\Database\Eloquent\Builder->value()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\CorrespondenceApiController->statistics()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php(193): Illuminate\Foundation\Testing\TestCase->getJson()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CorrespondenceRestApiTest->it_returns_correspondence_statistics()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #65 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ SQLSTATE[HY000]: General error: 1 no such column: response_date (Connection: sqlite, SQL: select AVG(DATEDIFF(response_date, created_at)) as avg_days from "correspondences" where "response_date" is not null and "correspondences"."deleted_at" is null limit 1)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/CorrespondenceRestApiTest.php:195
   â”‚
 âœ” It returns pending correspondence
 âœ” It filters by status
 âœ” It filters by type
 âœ” It searches correspondence
 âœ” It filters by date range
 âœ” It validates required fields on create
 âœ” It validates type field values
 âœ” It supports pagination

Data Validation Edge Cases (Tests\Unit\DataValidationEdgeCases)
 âœ˜ It accepts cnic with leading zeros
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:57
   â”‚
 âœ” It rejects cnic with all zeros
 âœ” It rejects cnic with special characters
 âœ” It rejects cnic shorter than 13 digits
 âœ” It rejects cnic longer than 13 digits
 âœ” It rejects future date of birth
 âœ” It rejects date of birth too old
 âœ” It rejects underage candidates
 âœ˜ It accepts boundary age candidates
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:220
   â”‚
 âœ˜ It handles leap year date correctly
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:239
   â”‚
 âœ” It rejects name exceeding max length
 âœ˜ It accepts name at max length
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:282
   â”‚
 âœ” It rejects address exceeding max length
 âœ” It rejects email exceeding max length
 âœ˜ It accepts valid pakistan mobile number
   â”‚
   â”‚ Phone 03001234567 should be valid
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:347
   â”‚
 âœ” It rejects invalid phone formats
 âœ” It rejects invalid email formats
 âœ” It accepts valid email formats
 âœ˜ It handles names with special characters
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:453
   â”‚
 âš  It sanitizes xss in text fields
 âœ˜ It handles unicode characters in names
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:494
   â”‚
 âœ” It rejects empty required fields
 âœ” It rejects whitespace only fields

Departure Api Controller (Tests\Feature\DepartureApiController)
 âœ˜ It returns paginated departures
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertArrayHasKey(): Argument #2 ($array) must be of type ArrayAccess|array, int given, called in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php on line 302
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:295
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php:42
   â”‚
 âœ˜ It filters departures by date range
   â”‚
   â”‚ Failed asserting that actual size 13 matches expected size 2.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php:73
   â”‚
 âœ” It returns single departure
 âœ” It returns 404 for nonexistent departure
 âœ” It returns departure by candidate
 âœ˜ It returns 404 for candidate without departure
   â”‚
   â”‚ Expected response status code [404] but received 200.
   â”‚ Failed asserting that 200 is identical to 404.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php:125
   â”‚
 âœ” It creates a departure
 âœ” It validates required fields for departure
 âœ” It prevents duplicate departure for candidate
 âœ˜ It updates departure details
   â”‚
   â”‚ Failed asserting that null is identical to 'IQ123456789'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:242
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:790
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php:192
   â”‚
 âœ˜ It updates salary information
   â”‚
   â”‚ Failed asserting that false is identical to true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:242
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:790
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php:208
   â”‚
 âœ˜ It returns departure statistics
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 no such column: is_compliant in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): PDO->prepare()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DepartureApiController.php(203): Illuminate\Database\Eloquent\Builder->first()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DepartureApiController->statistics()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php(228): Illuminate\Foundation\Testing\TestCase->getJson()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DepartureApiControllerTest->it_returns_departure_statistics()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #66 {main}
   â”‚
   â”‚ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: is_compliant (Connection: sqlite, SQL: select 
   â”‚             COUNT(*) as total_departures,
   â”‚             SUM(CASE WHEN is_compliant = 1 THEN 1 ELSE 0 END) as compliant_count,
   â”‚             SUM(CASE WHEN iqama_number IS NOT NULL THEN 1 ELSE 0 END) as with_iqama,
   â”‚             SUM(CASE WHEN absher_registered = 1 THEN 1 ELSE 0 END) as absher_registered,
   â”‚             SUM(CASE WHEN wps_registered = 1 THEN 1 ELSE 0 END) as wps_registered,
   â”‚             SUM(CASE WHEN first_salary_date IS NOT NULL THEN 1 ELSE 0 END) as first_salary_received
   â”‚          from "departures" where "departures"."deleted_at" is null limit 1) in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(811): Illuminate\Database\Query\Builder->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(793): Illuminate\Database\Eloquent\Builder->getModels()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(343): Illuminate\Database\Eloquent\Builder->get()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DepartureApiController.php(203): Illuminate\Database\Eloquent\Builder->first()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DepartureApiController->statistics()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php(228): Illuminate\Foundation\Testing\TestCase->getJson()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DepartureApiControllerTest->it_returns_departure_statistics()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #64 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ SQLSTATE[HY000]: General error: 1 no such column: is_compliant (Connection: sqlite, SQL: select 
   â”‚             COUNT(*) as total_departures,
   â”‚             SUM(CASE WHEN is_compliant = 1 THEN 1 ELSE 0 END) as compliant_count,
   â”‚             SUM(CASE WHEN iqama_number IS NOT NULL THEN 1 ELSE 0 END) as with_iqama,
   â”‚             SUM(CASE WHEN absher_registered = 1 THEN 1 ELSE 0 END) as absher_registered,
   â”‚             SUM(CASE WHEN wps_registered = 1 THEN 1 ELSE 0 END) as wps_registered,
   â”‚             SUM(CASE WHEN first_salary_date IS NOT NULL THEN 1 ELSE 0 END) as first_salary_received
   â”‚          from "departures" where "departures"."deleted_at" is null limit 1)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DepartureApiControllerTest.php:230
   â”‚
 âœ” Unauthenticated user cannot access departures

Departure Service (Tests\Unit\DepartureService)
 âœ” It returns all departure stages
 âœ” It returns compliance status types
 âœ” It can record pre departure briefing
 âœ” It throws exception for nonexistent candidate on briefing
 âœ” It can record departure
 âœ” It can record iqama number
 âœ” It calculates 90 day compliance for pending departure
 âœ” It calculates 90 day compliance items
 âœ” It marks overdue compliance as non compliant
 âœ” It calculates days remaining correctly
 âœ” It can record salary confirmation
 âœ” It can get departure statistics
 âœ” It can add communication log
 âœ” It returns empty checklist for missing departure
 âœ” It returns correct checklist percentage
 âœ” It generates departure timeline

Document Archive Advanced Search (Tests\Feature\DocumentArchiveAdvancedSearch)
 âœ˜ Admin can access advanced search page
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:48
   â”‚
 âœ˜ It searches by keyword across multiple fields
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:76
   â”‚
 âœ˜ It filters by document type
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:112
   â”‚
 âœ˜ It filters by tags
   â”‚
   â”‚ Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: document_tags.name (Connection: sqlite, SQL: insert into "document_tags" ("name", "slug", "color", "description", "created_by", "updated_by", "updated_at", "created_at") values (Urgent, totam-quis-253808, #6366f1, Sint voluptatem quo mollitia fugit omnis., ?, ?, 2026-01-26 13:29:38, 2026-01-26 13:29:38))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:820
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:120
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: document_tags.name
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:120
   â”‚
 âœ˜ It filters by campus
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:153
   â”‚
 âœ˜ Campus admin only sees their campus documents
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:176
   â”‚
 âœ˜ It filters by upload date range
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:200
   â”‚
 âœ˜ It filters by expiry date range
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:224
   â”‚
 âœ˜ It filters by expired status
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:245
   â”‚
 âœ˜ It filters by has expiry
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:266
   â”‚
 âœ˜ It filters by file type
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:287
   â”‚
 âœ˜ It only returns current version documents
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:309
   â”‚
 âœ˜ It combines multiple filters
   â”‚
   â”‚ Illuminate\Database\UniqueConstraintViolationException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: document_tags.name (Connection: sqlite, SQL: insert into "document_tags" ("name", "slug", "color", "description", "created_by", "updated_by", "updated_at", "created_at") values (Urgent, quo-perspiciatis-67186, #f59e0b, Libero voluptatem consequuntur voluptatum eum aut., ?, ?, 2026-01-26 13:29:39, 2026-01-26 13:29:39))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:820
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:317
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: document_tags.name
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:317
   â”‚
 âœ˜ It paginates results
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveAdvancedSearchTest.php:355
   â”‚

Document Archive Rest Api (Tests\Feature\DocumentArchiveRestApi)
 âœ” It lists all documents with authentication
 âœ” It requires authentication
 âœ” It filters documents for campus admin
 âœ˜ It shows specific document
   â”‚
   â”‚ Failed asserting that an array has the key 'file_path'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php:114
   â”‚
 âœ” It returns documents for specific candidate
 âœ” It returns document statistics
 âœ˜ It returns expiring documents
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ TypeError: Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356 and defined in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php:455
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php(356): Carbon\Carbon::rawAddUnit()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2905): Carbon\Carbon->addUnit()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2596): Carbon\Carbon->callModifierMethod()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DocumentArchiveApiController.php(192): Carbon\Carbon->__call()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DocumentArchiveApiController->expiring()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php(189): Illuminate\Foundation\Testing\TestCase->getJson()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DocumentArchiveRestApiTest->it_returns_expiring_documents()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #58 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php:191
   â”‚
 âœ” It returns expired documents
 âœ” It searches documents
 âœ˜ It returns download information
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php:258
   â”‚
 âœ” It filters by document type
 âœ” It filters by category
 âœ” It filters by status
 âœ” It filters by candidate
 âœ” It filters by date range
 âœ˜ It filters expiring soon documents
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ TypeError: Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356 and defined in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php:455
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php(356): Carbon\Carbon::rawAddUnit()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2905): Carbon\Carbon->addUnit()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Date.php(2596): Carbon\Carbon->callModifierMethod()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/Api/DocumentArchiveApiController.php(57): Carbon\Carbon->__call()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\Api\DocumentArchiveApiController->index()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(161): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(127): Illuminate\Routing\Middleware\ThrottleRequests->handleRequest()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(89): Illuminate\Routing\Middleware\ThrottleRequests->handleRequestUsingNamedLimiter()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\ThrottleRequests->handle()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php(391): Illuminate\Foundation\Testing\TestCase->getJson()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DocumentArchiveRestApiTest->it_filters_expiring_soon_documents()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #58 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Carbon\Carbon::rawAddUnit(): Argument #3 ($value) must be of type int|float, string given, called in /home/iihsedup/oep.jaamiah.com/vendor/nesbot/carbon/src/Carbon/Traits/Units.php on line 356
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php:393
   â”‚
 âœ” It validates search query minimum length
 âœ” It supports pagination
 âœ˜ It orders documents by latest
   â”‚
   â”‚ Failed asserting that 1 matches expected 3.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveRestApiTest.php:450
   â”‚

Document Archive Service (Tests\Unit\DocumentArchiveService)
 âœ” It returns all document types
 âœ” It can upload document
 âœ” It increments version on re upload
 âœ” It can get document and increment download count
 âœ” It returns version history
 âœ” It can search documents with filters
 âœ” It filters by date range
 âœ” It returns expiring documents
 âœ” It calculates expiry urgency correctly
 âœ” It returns expired documents
 âœ” It returns missing documents for candidate
 âœ” It returns document statistics
 âœ” It can bulk delete documents
 âœ” It can cleanup old versions

Document Archive Version Comparison (Tests\Feature\DocumentArchiveVersionComparison)
 âœ˜ It compares two document versions
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveVersionComparisonTest.php:63
   â”‚
 âœ˜ It detects changes between versions
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveVersionComparisonTest.php:96
   â”‚
 âœ” It rejects comparison of unrelated documents
 âœ” It allows comparison when version1 is current document
 âœ˜ It formats file sizes correctly
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveVersionComparisonTest.php:182
   â”‚
 âœ˜ It shows uploader information
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveVersionComparisonTest.php:214
   â”‚
 âœ” It validates required parameters
 âœ” It validates version ids exist
 âœ˜ It compares expiry dates
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveVersionComparisonTest.php:280
   â”‚
 âœ” Unauthorized user cannot compare versions
 âœ˜ It compares documents with null values
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/DocumentArchiveVersionComparisonTest.php:332
   â”‚

Document Tag (Tests\Unit\DocumentTag)
 âœ” It creates a document tag
 âœ” It auto generates slug from name
 âœ” It sets created by and updated by on creation
 âœ” It has many to many relationship with documents
 âœ” It can attach multiple documents
 âœ” It can detach documents
 âœ” Document can have multiple tags
 âœ” It syncs tags for document
 âœ” It cascades delete on pivot table
 âœ” It cascades delete when document is deleted
 âœ” It searches tags by name
 âœ” It searches tags by slug
 âœ” Tag name is unique
 âœ” Tag slug is unique
 âœ” It has default color
 âœ” Pivot table has timestamps
 âœ” It prevents duplicate tag attachments
 âœ” It can find documents with specific tag
 âœ” It can find documents with multiple tags
 âœ” It can count documents per tag

Employer Model (Tests\Unit\EmployerModel)
 âœ” It can create an employer
 âœ” It belongs to a country
 âœ” It can have many candidates
 âœ” It can get current candidates only
 âœ” It belongs to a creator
 âœ” It can scope active employers
 âœ” It casts salary to decimal
 âœ” It casts benefits to boolean
 âœ” It has fillable attributes
 âœ” It soft deletes
 âœ” It can store evidence path
 âœ” It can store other conditions

Enum Database Consistency (Tests\Unit\EnumDatabaseConsistency)
 âœ˜ Candidate status enum values are valid database values
   â”‚
   â”‚ Failed asserting that two arrays are equal.
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚  Array (
   â”‚ -    0 => 'listed'
   â”‚ -    1 => 'pre_departure_docs'
   â”‚ -    2 => 'screening'
   â”‚ -    3 => 'screened'
   â”‚ -    4 => 'registered'
   â”‚ -    5 => 'training'
   â”‚ -    6 => 'training_completed'
   â”‚ -    7 => 'visa_process'
   â”‚ -    8 => 'visa_approved'
   â”‚ -    9 => 'departure_processing'
   â”‚ -    10 => 'ready_to_depart'
   â”‚ -    11 => 'departed'
   â”‚ -    12 => 'post_departure'
   â”‚ -    13 => 'completed'
   â”‚ -    14 => 'deferred'
   â”‚ -    15 => 'rejected'
   â”‚ -    16 => 'withdrawn'
   â”‚ +    0 => 'new'
   â”‚ +    1 => 'listed'
   â”‚ +    2 => 'pre_departure_docs'
   â”‚ +    3 => 'screening'
   â”‚ +    4 => 'screened'
   â”‚ +    5 => 'registered'
   â”‚ +    6 => 'training'
   â”‚ +    7 => 'training_completed'
   â”‚ +    8 => 'visa_process'
   â”‚ +    9 => 'visa_approved'
   â”‚ +    10 => 'departure_processing'
   â”‚ +    11 => 'ready_to_depart'
   â”‚ +    12 => 'departed'
   â”‚ +    13 => 'post_departure'
   â”‚ +    14 => 'completed'
   â”‚ +    15 => 'deferred'
   â”‚ +    16 => 'rejected'
   â”‚ +    17 => 'withdrawn'
   â”‚  )
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/EnumDatabaseConsistencyTest.php:46
   â”‚
 âœ” Candidate status visa process is correctly named
 âœ” All candidate statuses can be stored in database
 âœ” Candidate status transitions are valid
 âœ” Complaint priority enum values are valid
 âœ” Complaint priority does not have medium
 âœ” Complaint priority normal is default
 âœ” All complaint priorities can be stored
 âœ” Complaint status enum values are valid
 âœ” All complaint statuses can be stored
 âœ” Training status enum has all eleven values
 âœ” Training status candidate statuses are correct
 âœ” Training status class statuses are correct
 âœ” All training statuses can be stored in candidates table
 âœ” Visa stage enum values are valid
 âœ” Visa stage does not have pending
 âœ” Visa stage initiated is first
 âœ” Visa stage order is sequential
 âœ” Visa stage next stage returns correct stage
 âœ” All visa stages can be stored
 âœ” All enums have to array method
 âœ” All enums have label method
 âœ” All enums have color method

File Storage Service (Tests\Unit\FileStorageService)
 âœ” It can store a file
 âœ” It stores files in correct category paths
 âœ” It throws exception for unknown category
 âœ” It validates pdf magic bytes
 âœ” It rejects pdf with wrong magic bytes
 âœ” It validates jpg magic bytes
 âœ” It rejects jpg with wrong magic bytes
 âœ” It validates png magic bytes
 âœ” It validates zip magic bytes for docx
 âœ” It rejects php files
 âœ” It rejects phtml files
 âœ” It rejects exe files
 âœ” It rejects bat files
 âœ” It rejects js files
 âœ” It rejects html files
 âœ” It rejects svg files
 âœ” It rejects double extension php jpg
 âœ” It rejects double extension exe pdf
 âœ” It rejects double extension html png
 âœ” It detects php code in file content
 âœ” It detects short php tags
 âœ” It detects script language php
 âœ” It rejects files exceeding size limit
 âœ” It accepts files within size limit
 âœ” It validates allowed mime types
 âœ” It rejects disallowed mime types
 âœ” It generates secure url for private files
 âœ” It generates view url for private files
 âœ” It can check if file exists
 âœ” It can delete a file
 âœ” It can get file contents
 âœ” It returns null for nonexistent file

Global Search Service (Tests\Unit\GlobalSearchService)
 âœ” It returns empty for empty search term
 âœ” It returns empty for whitespace only term
 âœ” It searches candidates by name
 âœ” It searches candidates by cnic
 âœ” Campus admin only sees their campus candidates
 âœ” It searches batches by name
 âœ” It searches batches by code
 âœ˜ It searches trades by name
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [trades.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:170
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Arr.php:609
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Collection.php:799
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Collection.php:388
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:165
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/GlobalSearchServiceTest.php:169
   â”‚
 âœ˜ It searches campuses by name
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [campuses.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:195
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Arr.php:609
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Collection.php:799
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Collection.php:388
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:190
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/GlobalSearchServiceTest.php:190
   â”‚
 âœ˜ Campus admin only sees their campus
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [campuses.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:195
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Arr.php:609
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Collection.php:799
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Collection.php:388
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:190
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/GlobalSearchServiceTest.php:214
   â”‚
 âœ˜ It searches oeps by name
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [oeps.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:213
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Arr.php:609
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Collection.php:799
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Collection.php:388
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:208
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/GlobalSearchServiceTest.php:239
   â”‚
 âœ˜ It searches multiple types when no type specified
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [trades.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:170
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Arr.php:609
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Collection.php:799
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Collection.php:388
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/GlobalSearchService.php:165
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/GlobalSearchServiceTest.php:257
   â”‚
 âœ” It filters empty result sets
 âœ” It calculates total result count
 âœ” It respects result limit
 âœ” It returns proper result structure

Load (Tests\Feature\Load)
 âœ˜ It handles concurrent batch enrollment
   â”‚
   â”‚ Failed asserting that 10 matches expected 0.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:83
   â”‚
 âœ” It handles bulk candidate creation
 âœ” It handles concurrent screening updates
 âœ” It handles bulk attendance recording
 âœ˜ It handles concurrent api requests
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:195
   â”‚
 âœ˜ It handles dashboard with large dataset
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 HAVING clause on a non-aggregate query in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): PDO->prepare()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(812): Illuminate\Database\Connection->Illuminate\Database\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3603): Illuminate\Database\Query\Builder->get()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3531): Illuminate\Database\Query\Builder->aggregate()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->count()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(537): Illuminate\Database\Eloquent\Builder->__call()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php(427): App\Http\Controllers\DashboardController->App\Http\Controllers\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php(453): Illuminate\Cache\Repository->remember()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(361): Illuminate\Cache\CacheManager->__call()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(513): Illuminate\Support\Facades\Facade::__callStatic()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(38): App\Http\Controllers\DashboardController->getAlerts()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\DashboardController->index()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php(227): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\LoadTest->it_handles_dashboard_with_large_dataset()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #74 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #75 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #76 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #77 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #78 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #79 {main}
   â”‚
   â”‚ Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 HAVING clause on a non-aggregate query (Connection: sqlite, SQL: select count(*) as aggregate from (select "candidates".*, (select count(*) from "candidate_screenings" where "candidates"."id" = "candidate_screenings"."candidate_id" and "candidate_screenings"."deleted_at" is null) as "screenings_count" from "candidates" where "status" = screening and "candidates"."deleted_at" is null having "screenings_count" < 3) as "temp_table") in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php(398): Illuminate\Database\Connection->run()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3106): Illuminate\Database\Connection->select()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3091): Illuminate\Database\Query\Builder->runSelect()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3676): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3090): Illuminate\Database\Query\Builder->onceWithColumns()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3603): Illuminate\Database\Query\Builder->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3531): Illuminate\Database\Query\Builder->aggregate()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(2120): Illuminate\Database\Query\Builder->count()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(537): Illuminate\Database\Eloquent\Builder->__call()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php(427): App\Http\Controllers\DashboardController->App\Http\Controllers\{closure}()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php(453): Illuminate\Cache\Repository->remember()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(361): Illuminate\Cache\CacheManager->__call()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(513): Illuminate\Support\Facades\Facade::__callStatic()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/app/Http/Controllers/DashboardController.php(38): App\Http\Controllers\DashboardController->getAlerts()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\DashboardController->index()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(44): Illuminate\Routing\Controller->callAction()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\Routing\Route->runController()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(808): Illuminate\Routing\Route->run()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php(227): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\LoadTest->it_handles_dashboard_with_large_dataset()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #74 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #75 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #76 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #77 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ SQLSTATE[HY000]: General error: 1 HAVING clause on a non-aggregate query (Connection: sqlite, SQL: select count(*) as aggregate from (select "candidates".*, (select count(*) from "candidate_screenings" where "candidates"."id" = "candidate_screenings"."candidate_id" and "candidate_screenings"."deleted_at" is null) as "screenings_count" from "candidates" where "status" = screening and "candidates"."deleted_at" is null having "screenings_count" < 3) as "temp_table")
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:232
   â”‚
 âœ˜ It handles report generation with large dataset
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 87, pass, 2026-01-26 13:29:41, 2026-01-26 13:29:41))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:263
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:263
   â”‚
 âœ˜ It handles search with large dataset
   â”‚
   â”‚ Failed asserting that '<div class="space-y-6">\n
   â”‚     <div class="flex items-center justify-between">\n
   â”‚         <h2 class="text-2xl font-bold text-gray-900">All Candidates</h2>\n
   â”‚         <div class="flex space-x-3">\n
   â”‚             <a href="http://oep.jaamiah.com/import/candidates" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">\n
   â”‚                 <i class="fas fa-file-import mr-2"></i>Import\n
   â”‚             </a>\n
   â”‚             <a href="http://oep.jaamiah.com/candidates/create" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">\n
   â”‚                 <i class="fas fa-plus mr-2"></i>Add New\n
   â”‚             </a>\n
   â”‚         </div>\n
   â”‚     </div>\n
   â”‚ \n
   â”‚     <!-- Filters -->\n
   â”‚     <div class="bg-white rounded-lg shadow-sm p-4">\n
   â”‚         <form method="GET" class="grid grid-cols-1 md:grid-cols-6 gap-4">\n
   â”‚             <input type="text" name="search" placeholder="Search..." \n
   â”‚                    class="px-4 py-2 border rounded-lg" value="Muhammad Ali Unique">\n
   â”‚             \n
   â”‚             <select name="status" class="px-4 py-2 border rounded-lg">\n
   â”‚                 <option value="">All Status</option>\n
   â”‚                                     <option value="new" >\n
   â”‚                         New\n
   â”‚                     </option>\n
   â”‚                                     <option value="listed" >\n
   â”‚                         Listed\n
   â”‚                     </option>\n
   â”‚                                     <option value="pre_departure_docs" >\n
   â”‚                         Pre-Departure Documents\n
   â”‚                     </option>\n
   â”‚                                     <option value="screening" >\n
   â”‚                         In Screening\n
   â”‚                     </option>\n
   â”‚                                     <option value="screened" >\n
   â”‚                         Screened\n
   â”‚                     </option>\n
   â”‚                                     <option value="registered" >\n
   â”‚                         Registered\n
   â”‚                     </option>\n
   â”‚                                     <option value="training" >\n
   â”‚                         In Training\n
   â”‚                     </option>\n
   â”‚                                     <option value="training_completed" >\n
   â”‚                         Training Completed\n
   â”‚                     </option>\n
   â”‚                                     <option value="visa_process" >\n
   â”‚                         Visa Processing\n
   â”‚                     </option>\n
   â”‚                                     <option value="visa_approved" >\n
   â”‚                         Visa Approved\n
   â”‚                     </option>\n
   â”‚                                     <option value="departure_processing" >\n
   â”‚                         Departure Processing\n
   â”‚                     </option>\n
   â”‚                                     <option value="ready_to_depart" >\n
   â”‚                         Ready to Depart\n
   â”‚                     </option>\n
   â”‚                                     <option value="departed" >\n
   â”‚                         Departed\n
   â”‚                     </option>\n
   â”‚                                     <option value="post_departure" >\n
   â”‚                         Post Departure\n
   â”‚                     </option>\n
   â”‚                                     <option value="completed" >\n
   â”‚                         Completed\n
   â”‚                     </option>\n
   â”‚                                     <option value="deferred" >\n
   â”‚                         Deferred\n
   â”‚                     </option>\n
   â”‚                                     <option value="rejected" >\n
   â”‚                         Rejected\n
   â”‚                     </option>\n
   â”‚                                     <option value="withdrawn" >\n
   â”‚                         Withdrawn\n
   â”‚                     </option>\n
   â”‚                             </select>\n
   â”‚ <!DOCTYPE html>\n
   â”‚ <html lang="en">\n
   â”‚ <head>\n
   â”‚     <meta charset="UTF-8">\n
   â”‚     <meta name="viewport" content="width=device-width, initial-scale=1.0">\n
   â”‚     <meta name="csrf-token" content="07aPUsGVfHaLYVpSTASiQXn4K6yEFfZeG5aYBWMF">\n
   â”‚     <meta name="description" content="Integrated Digital Platform for Overseas Employment &amp; Remittance Lifecycle Management">\n
   â”‚     <meta name="keywords" content="WASL, overseas employment, TheLeap, vocational training, remittance management">\n
   â”‚     <title>WASL - ÙˆØµÙ„ - Connecting Talent, Opportunity, and Remittance</title>\n
   â”‚ \n
   â”‚     <!-- Favicon -->\n
   â”‚     <link rel="icon" type="image/svg+xml" href="/favicon.svg">\n
   â”‚     <link rel="alternate icon" type="image/png" href="/images/wasl-logo.svg">\n
   â”‚     \n
   â”‚     <!-- Tailwind CSS -->\n
   â”‚     <script src="https://cdn.tailwindcss.com"></script>\n
   â”‚     \n
   â”‚     <!-- Alpine.js -->\n
   â”‚     <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>\n
   â”‚     \n
   â”‚     <!-- Font Awesome -->\n
   â”‚     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">\n
   â”‚ \n
   â”‚     <!-- Chart.js -->\n
   â”‚     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>\n
   â”‚     \n
   â”‚     <!-- Custom Styles -->\n
   â”‚     <style>\n
   â”‚         [x-cloak] { display: none !important; }\n
   â”‚         .tab-active {\n
   â”‚             background-color: #3b82f6;\n
   â”‚             color: white;\n
   â”‚         }\n
   â”‚         .sidebar-item:hover {\n
   â”‚             background-color: #f3f4f6;\n
   â”‚         }\n
   â”‚         .sidebar-item-active {\n
   â”‚             background-color: #eff6ff;\n
   â”‚             border-left: 4px solid #3b82f6;\n
   â”‚         }\n
   â”‚ \n
   â”‚         /* Mobile Responsiveness */\n
   â”‚         @media (max-width: 640px) {\n
   â”‚             .hide-mobile { display: none !important; }\n
   â”‚             .mobile-full { width: 100% !important; }\n
   â”‚             .mobile-stack { flex-direction: column !important; }\n
   â”‚             .mobile-text-sm { font-size: 0.875rem !important; }\n
   â”‚             .mobile-p-2 { padding: 0.5rem !important; }\n
   â”‚         }\n
   â”‚ \n
   â”‚         /* Smooth collapse animation */\n
   â”‚         [x-collapse] {\n
   â”‚             overflow: hidden;\n
   â”‚             transition: height 0.3s ease-out;\n
   â”‚         }\n
   â”‚ \n
   â”‚         /* Touch-friendly buttons */\n
   â”‚         @media (hover: none) and (pointer: coarse) {\n
   â”‚             button, a.btn, .clickable {\n
   â”‚                 min-height: 44px;\n
   â”‚                 min-width: 44px;\n
   â”‚             }\n
   â”‚         }\n
   â”‚ \n
   â”‚         /* Safe area for notched devices */\n
   â”‚         @supports (padding: max(0px)) {\n
   â”‚             .safe-area-bottom {\n
   â”‚                 padding-bottom: max(1rem, env(safe-area-inset-bottom));\n
   â”‚             }\n
   â”‚             .safe-area-top {\n
   â”‚                 padding-top: max(0.75rem, env(safe-area-inset-top));\n
   â”‚             }\n
   â”‚         }\n
   â”‚ \n
   â”‚         /* Better scroll on mobile */\n
   â”‚         .scroll-smooth {\n
   â”‚             -webkit-overflow-scrolling: touch;\n
   â”‚             scroll-behavior: smooth;\n
   â”‚         }\n
   â”‚ \n
   â”‚         /* Prevent text selection on mobile nav */\n
   â”‚         .no-select {\n
   â”‚             -webkit-user-select: none;\n
   â”‚             user-select: none;\n
   â”‚         }\n
   â”‚     </style>\n
   â”‚     \n
   â”‚     </head>\n
   â”‚ <body class="bg-gray-50" x-data="{\n
   â”‚     sidebarOpen: window.innerWidth >= 1024,\n
   â”‚     profileDropdown: false,\n
   â”‚     isMobile: window.innerWidth < 768,\n
   â”‚     init() {\n
   â”‚         window.addEventListener('resize', () => {\n
   â”‚             this.isMobile = window.innerWidth < 768;\n
   â”‚             if (window.innerWidth >= 1024) {\n
   â”‚                 this.sidebarOpen = true;\n
   â”‚             }\n
   â”‚         });\n
   â”‚     }\n
   â”‚ }" x-init="init()">\n
   â”‚     \n
   â”‚     <!-- Top Navigation Bar -->\n
   â”‚     <nav class="bg-white shadow-sm fixed top-0 left-0 right-0 z-50">\n
   â”‚         <div class="px-4 py-3">\n
   â”‚             <div class="flex items-center justify-between">\n
   â”‚                 <!-- Logo and Title -->\n
   â”‚                 <div class="flex items-center space-x-4">\n
   â”‚                     <button @click="sidebarOpen = !sidebarOpen" class="text-gray-600 hover:text-gray-900">\n
   â”‚                         <i class="fas fa-bars text-xl"></i>\n
   â”‚                     </button>\n
   â”‚                     <div class="flex items-center space-x-3">\n
   â”‚                         <div class="h-10 w-10 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center">\n
   â”‚                             <span class="text-white font-bold text-xl">W</span>\n
   â”‚                         </div>\n
   â”‚                         <div>\n
   â”‚                             <h1 class="text-lg font-bold text-gray-900">WASL - ÙˆØµÙ„</h1>\n
   â”‚                             <p class="text-xs text-gray-600">Connecting Talent, Opportunity, and Remittance</p>\n
   â”‚                         </div>\n
   â”‚                     </div>\n
   â”‚                 </div>\n
   â”‚ \n
   â”‚                 <!-- Global Search -->\n
   â”‚                 <div class="flex-1 max-w-2xl mx-8" x-data="globalSearch()">\n
   â”‚                     <div class="relative">\n
   â”‚                         <div class="relative">\n
   â”‚                             <input\n
   â”‚                                 type="text"\n
   â”‚                                 x-model="searchTerm"\n
   â”‚                                 @input.debounce.300ms="search()"\n
   â”‚                                 @keydown.escape="closeResults()"\n
   â”‚                                 @keydown.down.prevent="navigateDown()"\n
   â”‚                                 @keydown.up.prevent="navigateUp()"\n
   â”‚                                 @keydown.enter.prevent="selectResult()"\n
   â”‚                                 @focus="showResults = true"\n
   â”‚                                 placeholder="Search candidates, remittances, batches..."\n
   â”‚                                 class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"\n
   â”‚                             >\n
   â”‚                             <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>\n
   â”‚                             <span x-show="loading" class="absolute right-3 top-1/2 transform -translate-y-1/2">\n
   â”‚                                 <i class="fas fa-spinner fa-spin text-gray-400"></i>\n
   â”‚                             </span>\n
   â”‚                         </div>\n
   â”‚ \n
   â”‚                         <!-- Search Results Dropdown -->\n
   â”‚                         <div x-show="showResults && (Object.keys(results).length > 0 || searchTerm.length > 0)"\n
   â”‚                              @click.away="closeResults()"\n
   â”‚                              x-cloak\n
   â”‚                              class="absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-2xl max-h-[600px] overflow-y-auto z-50 border border-gray-200">\n
   â”‚ \n
   â”‚                             <!-- No Results -->\n
   â”‚                             <div x-show="searchTerm.length >= 2 && Object.keys(results).length === 0 && !loading"\n
   â”‚                                  class="px-4 py-8 text-center text-gray-500">\n
   â”‚                                 <i class="fas fa-search text-4xl mb-3 text-gray-300"></i>\n
   â”‚                                 <p class="text-sm">No results found for "<span x-text="searchTerm"></span>"</p>\n
   â”‚                             </div>\n
   â”‚ \n
   â”‚                             <!-- Results by Type -->\n
   â”‚                             <template x-for="(group, type) in results" :key="type">\n
   â”‚                                 <div class="border-b border-gray-100 last:border-b-0">\n
   â”‚                                     <!-- Group Header -->\n
   â”‚                                     <div class="px-4 py-2 bg-gray-50 border-b border-gray-200">\n
   â”‚                                         <h4 class="text-xs font-semibold text-gray-700 uppercase flex items-center">\n
   â”‚                                             <i :class="group.icon" class="mr-2"></i>\n
   â”‚                                             <span x-text="group.label"></span>\n
   â”‚                                             <span class="ml-2 text-gray-500">(<span x-text="group.items.length"></span>)</span>\n
   â”‚                                         </h4>\n
   â”‚                                     </div>\n
   â”‚ \n
   â”‚                                     <!-- Group Items -->\n
   â”‚                                     <div>\n
   â”‚                                         <template x-for="(item, index) in group.items" :key="item.id">\n
   â”‚                                             <a :href="item.url"\n
   â”‚                                                :class="{ 'bg-blue-50': selectedIndex === getGlobalIndex(type, index) }"\n
   â”‚                                                @mouseenter="selectedIndex = getGlobalIndex(type, index)"\n
   â”‚                                                class="block px-4 py-3 hover:bg-gray-50 transition-colors duration-150">\n
   â”‚                                                 <div class="flex items-center justify-between">\n
   â”‚                                                     <div class="flex-1 min-w-0">\n
   â”‚                                                         <p class="text-sm font-medium text-gray-900 truncate" x-text="item.title"></p>\n
   â”‚                                                         <p class="text-xs text-gray-600 truncate" x-text="item.subtitle"></p>\n
   â”‚                                                     </div>\n
   â”‚                                                     <div x-show="item.badge" class="ml-3">\n
   â”‚                                                         <span :class="item.badge_class"\n
   â”‚                                                               class="px-2 py-1 text-xs font-medium rounded-full text-white"\n
   â”‚                                                               x-text="item.badge"></span>\n
   â”‚                                                     </div>\n
   â”‚                                                 </div>\n
   â”‚                                             </a>\n
   â”‚                                         </template>\n
   â”‚                                     </div>\n
   â”‚                                 </div>\n
   â”‚                             </template>\n
   â”‚ \n
   â”‚                             <!-- Footer -->\n
   â”‚                             <div x-show="totalResults > 0" class="px-4 py-2 bg-gray-50 border-t border-gray-200 text-center">\n
   â”‚                                 <p class="text-xs text-gray-600">\n
   â”‚                                     Showing <span x-text="totalResults"></span> result(s)\n
   â”‚                                     <span class="text-gray-400 mx-2">â€¢</span>\n
   â”‚                                     Press <kbd class="px-1 py-0.5 bg-gray-200 rounded text-xs">â†‘â†“</kbd> to navigate, <kbd class="px-1 py-0.5 bg-gray-200 rounded text-xs">Enter</kbd> to select\n
   â”‚                                 </p>\n
   â”‚                             </div>\n
   â”‚                         </div>\n
   â”‚                     </div>\n
   â”‚                 </div>\n
   â”‚ \n
   â”‚                 <!-- Right Side Menu -->\n
   â”‚                 <div class="flex items-center space-x-4">\n
   â”‚                     <!-- Notifications -->\n
   â”‚                     <div class="relative" x-data="{ open: false }">\n
   â”‚                                                 <button @click="open = !open" class="relative text-gray-600 hover:text-gray-900">\n
   â”‚                             <i class="fas fa-bell text-xl"></i>\n
   â”‚                                                     </button>\n
   â”‚ \n
   â”‚                         <div x-show="open" @click.away="open = false" x-cloak\n
   â”‚                              class="absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg py-2 z-50">\n
   â”‚                             <div class="px-4 py-2 border-b flex justify-between items-center">\n
   â”‚                                 <h3 class="font-semibold text-gray-900">Notifications</h3>\n
   â”‚                                                             </div>\n
   â”‚                             <div class="max-h-96 overflow-y-auto">\n
   â”‚                                                                     <div class="px-4 py-3 text-center text-gray-500">\n
   â”‚                                         <i class="fas fa-bell-slash text-2xl mb-2"></i>\n
   â”‚                                         <p class="text-sm">No notifications yet</p>\n
   â”‚                                     </div>\n
   â”‚                                                             </div>\n
   â”‚                             <div class="px-4 py-2 border-t">\n
   â”‚                                 <a href="http://oep.jaamiah.com/notifications" class="text-sm text-blue-600 hover:text-blue-800">View all notifications</a>\n
   â”‚                             </div>\n
   â”‚                         </div>\n
   â”‚                     </div>\n
   â”‚                     \n
   â”‚                     <!-- User Profile -->\n
   â”‚                     <div class="relative" x-data="{ open: false }">\n
   â”‚                         <button @click="open = !open" class="flex items-center space-x-2 text-gray-700 hover:text-gray-900">\n
   â”‚                             <div class="h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold">\n
   â”‚                                 I\n
   â”‚                             </div>\n
   â”‚                             <span class="hidden md:block font-medium">Ian Runolfsson</span>\n
   â”‚                             <i class="fas fa-chevron-down text-sm"></i>\n
   â”‚                         </button>\n
   â”‚                         \n
   â”‚                         <div x-show="open" @click.away="open = false" x-cloak\n
   â”‚                              class="absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 z-50">\n
   â”‚                             <div class="px-4 py-3 border-b">\n
   â”‚                                 <p class="text-sm font-medium text-gray-900">Ian Runolfsson</p>\n
   â”‚                                 <p class="text-xs text-gray-600">Admin</p>\n
   â”‚                                                             </div>\n
   â”‚                             <div class="py-1">\n
   â”‚                                 <div class="px-4 py-2 text-xs text-gray-500 uppercase tracking-wider">Account</div>\n
   â”‚                                 <a href="http://oep.jaamiah.com/dashboard" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">\n
   â”‚                                     <i class="fas fa-home mr-2 w-4"></i> Dashboard\n
   â”‚                                 </a>\n
   â”‚                                 <a href="http://oep.jaamiah.com/profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">\n
   â”‚                                     <i class="fas fa-user mr-2 w-4"></i> My Profile\n
   â”‚                                 </a>\n
   â”‚                                                                 <a href="http://oep.jaamiah.com/admin/settings" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">\n
   â”‚                                     <i class="fas fa-cog mr-2 w-4"></i> System Settings\n
   â”‚                                 </a>\n
   â”‚                                 <a href="http://oep.jaamiah.com/admin/activity-logs" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">\n
   â”‚                                     <i class="fas fa-history mr-2 w-4"></i> Activity Logs\n
   â”‚                                 </a>\n
   â”‚                                                             </div>\n
   â”‚                             <div class="border-t pt-1">\n
   â”‚                                 <form method="POST" action="http://oep.jaamiah.com/logout">\n
   â”‚                                     <input type="hidden" name="_token" value="07aPUsGVfHaLYVpSTASiQXn4K6yEFfZeG5aYBWMF" autocomplete="off">                                    <button type="submit" class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50">\n
   â”‚                                         <i class="fas fa-sign-out-alt mr-2 w-4"></i> Sign Out\n
   â”‚                                     </button>\n
   â”‚                                 </form>\n
   â”‚                             </div>\n
   â”‚                         </div>\n
   â”‚                     </div>\n
   â”‚                 </div>\n
   â”‚             </div>\n
   â”‚         </div>\n
   â”‚     </nav>\n
   â”‚     \n
   â”‚     <!-- Sidebar and Main Content -->\n
   â”‚     <div class="flex pt-16">\n
   â”‚         <!-- Mobile Sidebar Overlay -->\n
   â”‚         <div x-show="sidebarOpen && isMobile"\n
   â”‚              x-cloak\n
   â”‚              @click="sidebarOpen = false"\n
   â”‚              class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden"\n
   â”‚              x-transition:enter="transition-opacity ease-out duration-200"\n
   â”‚              x-transition:enter-start="opacity-0"\n
   â”‚              x-transition:enter-end="opacity-100"\n
   â”‚              x-transition:leave="transition-opacity ease-in duration-150"\n
   â”‚              x-transition:leave-start="opacity-100"\n
   â”‚              x-transition:leave-end="opacity-0"></div>\n
   â”‚ \n
   â”‚         <!-- Sidebar -->\n
   â”‚         <aside :class="{\n
   â”‚                    'w-64': sidebarOpen,\n
   â”‚                    'w-20': !sidebarOpen && !isMobile,\n
   â”‚                    'w-0 -translate-x-full': !sidebarOpen && isMobile,\n
   â”‚                    'translate-x-0': sidebarOpen\n
   â”‚                }"\n
   â”‚                class="bg-white shadow-lg fixed left-0 top-16 bottom-0 overflow-y-auto transition-all duration-300 z-40 lg:translate-x-0"\n
   â”‚                :style="isMobile ? 'padding-bottom: 70px' : ''">\n
   â”‚ \n
   â”‚             <nav class="p-4 space-y-2">\n
   â”‚                 <!-- Dashboard -->\n
   â”‚                 <a href="http://oep.jaamiah.com/dashboard" \n
   â”‚                    class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                     <i class="fas fa-home text-lg w-6"></i>\n
   â”‚                     <span x-show="sidebarOpen" class="font-medium">Dashboard</span>\n
   â”‚                 </a>\n
   â”‚                 \n
   â”‚                 <!-- 10 Main Tabs -->\n
   â”‚                 <div class="pt-4">\n
   â”‚                     <p x-show="sidebarOpen" class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">\n
   â”‚                         Process Management\n
   â”‚                     </p>\n
   â”‚                     \n
   â”‚                     <!-- Tab 1: Candidates Listing -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/candidates-listing"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-list text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Candidates Listing</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 2: Screening -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/screening"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-phone text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Screening</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 3: Registration -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/registration"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-user-check text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Registration</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 4: Training -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/training"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-graduation-cap text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Training</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 5: Visa Processing -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/visa-processing"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-passport text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Visa Processing</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 6: Departure -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/departure"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-plane-departure text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Departure</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 7: Correspondence -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/correspondence"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-envelope text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Correspondence</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 8: Complaints -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/complaints"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-exclamation-triangle text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Complaints</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 9: Document Archive -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/document-archive"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-archive text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Documents</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 10: Reports -->\n
   â”‚                     <a href="http://oep.jaamiah.com/dashboard/reports"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-chart-bar text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Reports</span>\n
   â”‚                     </a>\n
   â”‚ \n
   â”‚                     <!-- Tab 11: Remittance Management -->\n
   â”‚                     <a href="http://oep.jaamiah.com/remittances"\n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg ">\n
   â”‚                         <i class="fas fa-money-bill-transfer text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Remittance</span>\n
   â”‚                     </a>\n
   â”‚                 </div>\n
   â”‚ \n
   â”‚                 <!-- Admin Section -->\n
   â”‚                                 <div class="pt-4 border-t">\n
   â”‚                     <p x-show="sidebarOpen" class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">\n
   â”‚                         Administration\n
   â”‚                     </p>\n
   â”‚                     \n
   â”‚                     <a href="http://oep.jaamiah.com/admin/campuses" \n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg">\n
   â”‚                         <i class="fas fa-building text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Campuses</span>\n
   â”‚                     </a>\n
   â”‚                     \n
   â”‚                     <a href="http://oep.jaamiah.com/admin/oeps" \n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg">\n
   â”‚                         <i class="fas fa-briefcase text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">OEPs</span>\n
   â”‚                     </a>\n
   â”‚                     \n
   â”‚                     <a href="http://oep.jaamiah.com/admin/trades" \n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg">\n
   â”‚                         <i class="fas fa-tools text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Trades</span>\n
   â”‚                     </a>\n
   â”‚                     \n
   â”‚                     <a href="http://oep.jaamiah.com/admin/users" \n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg">\n
   â”‚                         <i class="fas fa-users text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Users</span>\n
   â”‚                     </a>\n
   â”‚                     \n
   â”‚                     <a href="http://oep.jaamiah.com/admin/settings" \n
   â”‚                        class="sidebar-item flex items-center space-x-3 px-3 py-2 rounded-lg">\n
   â”‚                         <i class="fas fa-cog text-lg w-6"></i>\n
   â”‚                         <span x-show="sidebarOpen" class="font-medium">Settings</span>\n
   â”‚                     </a>\n
   â”‚                 </div>\n
   â”‚                             </nav>\n
   â”‚         </aside>\n
   â”‚         \n
   â”‚         <!-- Main Content -->\n
   â”‚         <main :class="{\n
   â”‚                   'ml-64': sidebarOpen && !isMobile,\n
   â”‚                   'ml-20': !sidebarOpen && !isMobile,\n
   â”‚                   'ml-0': isMobile,\n
   â”‚                   'pb-20': isMobile\n
   â”‚               }"\n
   â”‚               class="flex-1 p-3 sm:p-6 transition-all duration-300 min-h-screen">\n
   â”‚             \n
   â”‚             <!-- Alerts -->\n
   â”‚                         \n
   â”‚                         \n
   â”‚                         \n
   â”‚                         \n
   â”‚             <!-- Page Content -->\n
   â”‚                     </main>\n
   â”‚     </div>\n
   â”‚     \n
   â”‚     <!-- Footer -->\n
   â”‚     <footer :class="{\n
   â”‚                 'ml-64': sidebarOpen && !isMobile,\n
   â”‚                 'ml-20': !sidebarOpen && !isMobile,\n
   â”‚                 'ml-0 pb-16': isMobile\n
   â”‚             }"\n
   â”‚             class="bg-white border-t py-4 sm:py-6 px-4 sm:px-6 text-center transition-all duration-300"\n
   â”‚             x-show="!isMobile || !sidebarOpen">\n
   â”‚         <div class="max-w-4xl mx-auto space-y-3">\n
   â”‚             <!-- Main Footer Text -->\n
   â”‚             <div class="flex items-center justify-center space-x-2 text-sm">\n
   â”‚                 <p class="text-gray-900 font-semibold">WASL - ÙˆØµÙ„</p>\n
   â”‚                 <span class="text-gray-400">|</span>\n
   â”‚                 <p class="text-gray-600">Connecting Talent, Opportunity, and Remittance</p>\n
   â”‚             </div>\n
   â”‚ \n
   â”‚             <!-- Institutional Credits -->\n
   â”‚             <div class="text-xs text-gray-500 space-y-1">\n
   â”‚                 <p>\n
   â”‚                     <span class="font-medium">Product Conceived by:</span> AMAN Innovatia\n
   â”‚                     <span class="mx-2">â€¢</span>\n
   â”‚                     <span class="font-medium">Developed by:</span> The LEAP\n
   â”‚                 </p>\n
   â”‚             </div>\n
   â”‚ \n
   â”‚             <!-- Contact & Copyright -->\n
   â”‚             <div class="text-xs text-gray-500 pt-2 border-t">\n
   â”‚                 <p>\n
   â”‚                     <span class="mr-3">info@amaninnovatia.com</span>\n
   â”‚                     <span>www.amaninnovatia.com</span>\n
   â”‚                 </p>\n
   â”‚                 <p class="mt-2">&copy; 2026 All rights reserved.</p>\n
   â”‚             </div>\n
   â”‚         </div>\n
   â”‚     </footer>\n
   â”‚     \n
   â”‚     <!-- Scripts -->\n
   â”‚     <!-- Axios for AJAX (must load BEFORE usage) -->\n
   â”‚     <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>\n
   â”‚ \n
   â”‚     <script>\n
   â”‚         // Auto-hide alerts after 5 seconds\n
   â”‚         setTimeout(() => {\n
   â”‚             document.querySelectorAll('.bg-green-50, .bg-red-50, .bg-yellow-50').forEach(el => {\n
   â”‚                 el.style.transition = 'opacity 0.5s';\n
   â”‚                 el.style.opacity = '0';\n
   â”‚                 setTimeout(() => el.remove(), 500);\n
   â”‚             });\n
   â”‚         }, 5000);\n
   â”‚ \n
   â”‚         // CSRF Token for AJAX requests\n
   â”‚         const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');\n
   â”‚ \n
   â”‚         // Global AJAX setup (axios is now loaded above)\n
   â”‚         window.axios = axios;\n
   â”‚         window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n
   â”‚         window.axios.defaults.headers.common['X-CSRF-TOKEN'] = csrfToken;\n
   â”‚ \n
   â”‚         // Global Search Component\n
   â”‚         function globalSearch() {\n
   â”‚             return {\n
   â”‚                 searchTerm: '',\n
   â”‚                 results: {},\n
   â”‚                 showResults: false,\n
   â”‚                 loading: false,\n
   â”‚                 selectedIndex: 0,\n
   â”‚                 totalResults: 0,\n
   â”‚                 allItems: [],\n
   â”‚ \n
   â”‚                 async search() {\n
   â”‚                     const term = this.searchTerm.trim();\n
   â”‚ \n
   â”‚                     if (term.length < 2) {\n
   â”‚                         this.results = {};\n
   â”‚                         this.totalResults = 0;\n
   â”‚                         this.allItems = [];\n
   â”‚                         return;\n
   â”‚                     }\n
   â”‚ \n
   â”‚                     this.loading = true;\n
   â”‚ \n
   â”‚                     try {\n
   â”‚                         const response = await axios.get('/api/v1/global-search', {\n
   â”‚                             params: { q: term }\n
   â”‚                         });\n
   â”‚ \n
   â”‚                         if (response.data.success) {\n
   â”‚                             this.results = response.data.results;\n
   â”‚                             this.totalResults = response.data.total_results;\n
   â”‚                             this.buildFlatList();\n
   â”‚                             this.selectedIndex = 0;\n
   â”‚                             this.showResults = true;\n
   â”‚                         }\n
   â”‚                     } catch (error) {\n
   â”‚                         console.error('Search failed:', error);\n
   â”‚                         this.results = {};\n
   â”‚                         this.totalResults = 0;\n
   â”‚                     } finally {\n
   â”‚                         this.loading = false;\n
   â”‚                     }\n
   â”‚                 },\n
   â”‚ \n
   â”‚                 buildFlatList() {\n
   â”‚                     this.allItems = [];\n
   â”‚                     Object.keys(this.results).forEach(type => {\n
   â”‚                         this.results[type].items.forEach(item => {\n
   â”‚                             this.allItems.push({\n
   â”‚                                 type: type,\n
   â”‚                                 ...item\n
   â”‚                             });\n
   â”‚                         });\n
   â”‚                     });\n
   â”‚                 },\n
   â”‚ \n
   â”‚                 getGlobalIndex(type, index) {\n
   â”‚                     let globalIndex = 0;\n
   â”‚                     for (let t in this.results) {\n
   â”‚                         if (t === type) {\n
   â”‚                             return globalIndex + index;\n
   â”‚                         }\n
   â”‚                         globalIndex += this.results[t].items.length;\n
   â”‚                     }\n
   â”‚                     return globalIndex;\n
   â”‚                 },\n
   â”‚ \n
   â”‚                 navigateDown() {\n
   â”‚                     if (this.allItems.length === 0) return;\n
   â”‚                     this.selectedIndex = Math.min(this.selectedIndex + 1, this.allItems.length - 1);\n
   â”‚                 },\n
   â”‚ \n
   â”‚                 navigateUp() {\n
   â”‚                     if (this.allItems.length === 0) return;\n
   â”‚                     this.selectedIndex = Math.max(this.selectedIndex - 1, 0);\n
   â”‚                 },\n
   â”‚ \n
   â”‚                 selectResult() {\n
   â”‚                     if (this.allItems.length === 0 || this.selectedIndex >= this.allItems.length) return;\n
   â”‚                     const selected = this.allItems[this.selectedIndex];\n
   â”‚                     if (selected && selected.url) {\n
   â”‚                         window.location.href = selected.url;\n
   â”‚                     }\n
   â”‚                 },\n
   â”‚ \n
   â”‚                 closeResults() {\n
   â”‚                     this.showResults = false;\n
   â”‚                     this.selectedIndex = 0;\n
   â”‚                 }\n
   â”‚             }\n
   â”‚         }\n
   â”‚     </script>\n
   â”‚ \n
   â”‚     \n
   â”‚     <script>\n
   â”‚         // Auto-loading states for forms\n
   â”‚         document.addEventListener('DOMContentLoaded', function() {\n
   â”‚             document.querySelectorAll('form:not([data-no-loading])').forEach(form => {\n
   â”‚                 form.addEventListener('submit', function() {\n
   â”‚                     const btn = form.querySelector('button[type="submit"]');\n
   â”‚                     if (btn && !btn.disabled) {\n
   â”‚                         btn.dataset.originalHtml = btn.innerHTML;\n
   â”‚                         btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Processing...';\n
   â”‚                         btn.disabled = true;\n
   â”‚ \n
   â”‚                         // Safety fallback\n
   â”‚                         setTimeout(() => {\n
   â”‚                             if (btn.disabled && btn.dataset.originalHtml) {\n
   â”‚                                 btn.innerHTML = btn.dataset.originalHtml;\n
   â”‚                                 btn.disabled = false;\n
   â”‚                             }\n
   â”‚                         }, 15000);\n
   â”‚                     }\n
   â”‚                 });\n
   â”‚             });\n
   â”‚ \n
   â”‚             // Delete confirmations\n
   â”‚             document.querySelectorAll('[data-confirm-delete]').forEach(el => {\n
   â”‚                 el.addEventListener('click', function(e) {\n
   â”‚                     if (!confirm(el.dataset.confirmDelete || 'Are you sure you want to delete this?')) {\n
   â”‚                         e.preventDefault();\n
   â”‚                         return false;\n
   â”‚                     }\n
   â”‚                 });\n
   â”‚             });\n
   â”‚ \n
   â”‚             document.querySelectorAll('form[data-confirm]').forEach(form => {\n
   â”‚                 form.addEventListener('submit', function(e) {\n
   â”‚                     if (!confirm(form.dataset.confirm || 'Are you sure?')) {\n
   â”‚                         e.preventDefault();\n
   â”‚                         return false;\n
   â”‚                     }\n
   â”‚                 });\n
   â”‚             });\n
   â”‚         });\n
   â”‚     </script>\n
   â”‚ \n
   â”‚     <!-- Real-time Notifications Component -->\n
   â”‚     <div x-data="realtimeNotifications()" x-init="init()" class="fixed bottom-4 right-4 z-50 space-y-2 max-w-sm">\n
   â”‚     <!-- Notification Toast Stack -->\n
   â”‚     <template x-for="notification in notifications" :key="notification.id">\n
   â”‚         <div x-show="notification.visible"\n
   â”‚              x-transition:enter="transition ease-out duration-300"\n
   â”‚              x-transition:enter-start="opacity-0 transform translate-x-full"\n
   â”‚              x-transition:enter-end="opacity-100 transform translate-x-0"\n
   â”‚              x-transition:leave="transition ease-in duration-200"\n
   â”‚              x-transition:leave-start="opacity-100 transform translate-x-0"\n
   â”‚              x-transition:leave-end="opacity-0 transform translate-x-full"\n
   â”‚              :class="{\n
   â”‚                  'bg-blue-500': notification.type === 'info',\n
   â”‚                  'bg-green-500': notification.type === 'success',\n
   â”‚                  'bg-yellow-500': notification.type === 'warning',\n
   â”‚                  'bg-red-500': notification.type === 'error'\n
   â”‚              }"\n
   â”‚              class="rounded-lg shadow-lg p-4 text-white flex items-start space-x-3">\n
   â”‚             <!-- Icon -->\n
   â”‚             <div class="flex-shrink-0">\n
   â”‚                 <i :class="{\n
   â”‚                     'fas fa-info-circle': notification.type === 'info',\n
   â”‚                     'fas fa-check-circle': notification.type === 'success',\n
   â”‚                     'fas fa-exclamation-triangle': notification.type === 'warning',\n
   â”‚                     'fas fa-times-circle': notification.type === 'error'\n
   â”‚                 }" class="text-xl"></i>\n
   â”‚             </div>\n
   â”‚             <!-- Content -->\n
   â”‚             <div class="flex-1 min-w-0">\n
   â”‚                 <p class="font-semibold text-sm" x-text="notification.title"></p>\n
   â”‚                 <p class="text-sm opacity-90 mt-1" x-text="notification.message"></p>\n
   â”‚                 <p class="text-xs opacity-75 mt-1" x-text="notification.time"></p>\n
   â”‚             </div>\n
   â”‚             <!-- Close Button -->\n
   â”‚             <button @click="dismissNotification(notification.id)"\n
   â”‚                     class="flex-shrink-0 text-white opacity-75 hover:opacity-100">\n
   â”‚                 <i class="fas fa-times"></i>\n
   â”‚             </button>\n
   â”‚         </div>\n
   â”‚     </template>\n
   â”‚ \n
   â”‚     <!-- Connection Status (shown when disconnected) -->\n
   â”‚     <div x-show="!connected" x-cloak\n
   â”‚          class="bg-gray-800 rounded-lg shadow-lg p-3 text-white flex items-center space-x-2">\n
   â”‚         <i class="fas fa-wifi text-yellow-400"></i>\n
   â”‚         <span class="text-sm">Reconnecting...</span>\n
   â”‚     </div>\n
   â”‚ </div>\n
   â”‚ \n
   â”‚ <!-- Notification Sound (optional) -->\n
   â”‚ <audio id="notificationSound" preload="auto">\n
   â”‚     <source src="/sounds/notification.mp3" type="audio/mpeg">\n
   â”‚ </audio>\n
   â”‚ \n
   â”‚ \n
   â”‚     <!-- Mobile Bottom Navigation -->\n
   â”‚     <div x-show="isMobile" x-cloak\n
   â”‚          class="fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-40 safe-area-bottom lg:hidden">\n
   â”‚         <div class="flex justify-around py-2">\n
   â”‚             <a href="http://oep.jaamiah.com/dashboard" class="flex flex-col items-center px-3 py-2 text-gray-600 hover:text-blue-600">\n
   â”‚                 <i class="fas fa-home text-lg"></i>\n
   â”‚                 <span class="text-xs mt-1">Home</span>\n
   â”‚             </a>\n
   â”‚             <a href="http://oep.jaamiah.com/dashboard/candidates-listing" class="flex flex-col items-center px-3 py-2 text-gray-600 hover:text-blue-600">\n
   â”‚                 <i class="fas fa-users text-lg"></i>\n
   â”‚                 <span class="text-xs mt-1">Candidates</span>\n
   â”‚             </a>\n
   â”‚             <a href="http://oep.jaamiah.com/dashboard/training" class="flex flex-col items-center px-3 py-2 text-gray-600 hover:text-blue-600">\n
   â”‚                 <i class="fas fa-graduation-cap text-lg"></i>\n
   â”‚                 <span class="text-xs mt-1">Training</span>\n
   â”‚             </a>\n
   â”‚             <a href="http://oep.jaamiah.com/dashboard/reports" class="flex flex-col items-center px-3 py-2 text-gray-600 hover:text-blue-600">\n
   â”‚                 <i class="fas fa-chart-bar text-lg"></i>\n
   â”‚                 <span class="text-xs mt-1">Reports</span>\n
   â”‚             </a>\n
   â”‚             <button @click="sidebarOpen = !sidebarOpen" class="flex flex-col items-center px-3 py-2 text-gray-600 hover:text-blue-600">\n
   â”‚                 <i class="fas fa-bars text-lg"></i>\n
   â”‚                 <span class="text-xs mt-1">Menu</span>\n
   â”‚             </button>\n
   â”‚         </div>\n
   â”‚     </div>\n
   â”‚ \n
   â”‚     <script>\n
   â”‚ function realtimeNotifications() {\n
   â”‚     return {\n
   â”‚         notifications: [],\n
   â”‚         connected: true,\n
   â”‚         notificationId: 0,\n
   â”‚         pollingInterval: null,\n
   â”‚         lastCheck: Date.now(),\n
   â”‚ \n
   â”‚         init() {\n
   â”‚             // Start polling for notifications (WebSocket alternative)\n
   â”‚             this.startPolling();\n
   â”‚ \n
   â”‚             // Listen for custom events from the page\n
   â”‚             window.addEventListener('show-notification', (e) => {\n
   â”‚                 this.addNotification(e.detail);\n
   â”‚             });\n
   â”‚ \n
   â”‚             // Check for stored notifications on page load\n
   â”‚             this.checkStoredNotifications();\n
   â”‚         },\n
   â”‚ \n
   â”‚         startPolling() {\n
   â”‚             // Poll every 15 seconds for new notifications\n
   â”‚             this.pollingInterval = setInterval(() => {\n
   â”‚                 this.fetchNotifications();\n
   â”‚             }, 15000);\n
   â”‚ \n
   â”‚             // Initial fetch\n
   â”‚             this.fetchNotifications();\n
   â”‚         },\n
   â”‚ \n
   â”‚         async fetchNotifications() {\n
   â”‚             try {\n
   â”‚                 const response = await axios.get('/api/v1/notifications/unread', {\n
   â”‚                     params: { since: this.lastCheck }\n
   â”‚                 });\n
   â”‚ \n
   â”‚                 if (response.data && response.data.notifications) {\n
   â”‚                     response.data.notifications.forEach(n => {\n
   â”‚                         if (!this.hasNotification(n.id)) {\n
   â”‚                             this.addNotification({\n
   â”‚                                 id: n.id,\n
   â”‚                                 type: n.type || 'info',\n
   â”‚                                 title: n.title || 'New Notification',\n
   â”‚                                 message: n.message,\n
   â”‚                                 time: n.created_at\n
   â”‚                             });\n
   â”‚                         }\n
   â”‚                     });\n
   â”‚                 }\n
   â”‚ \n
   â”‚                 this.lastCheck = Date.now();\n
   â”‚                 this.connected = true;\n
   â”‚             } catch (error) {\n
   â”‚                 console.log('Notification fetch failed:', error);\n
   â”‚                 this.connected = false;\n
   â”‚             }\n
   â”‚         },\n
   â”‚ \n
   â”‚         hasNotification(id) {\n
   â”‚             return this.notifications.some(n => n.serverId === id);\n
   â”‚         },\n
   â”‚ \n
   â”‚         addNotification(data) {\n
   â”‚             const notification = {\n
   â”‚                 id: ++this.notificationId,\n
   â”‚                 serverId: data.id,\n
   â”‚                 type: data.type || 'info',\n
   â”‚                 title: data.title || 'Notification',\n
   â”‚                 message: data.message || '',\n
   â”‚                 time: this.formatTime(data.time),\n
   â”‚                 visible: true\n
   â”‚             };\n
   â”‚ \n
   â”‚             this.notifications.unshift(notification);\n
   â”‚ \n
   â”‚             // Play sound if available\n
   â”‚             this.playSound();\n
   â”‚ \n
   â”‚             // Auto-dismiss after 8 seconds\n
   â”‚             setTimeout(() => {\n
   â”‚                 this.dismissNotification(notification.id);\n
   â”‚             }, 8000);\n
   â”‚ \n
   â”‚             // Keep only last 5 notifications\n
   â”‚             if (this.notifications.length > 5) {\n
   â”‚                 this.notifications = this.notifications.slice(0, 5);\n
   â”‚             }\n
   â”‚         },\n
   â”‚ \n
   â”‚         dismissNotification(id) {\n
   â”‚             const notification = this.notifications.find(n => n.id === id);\n
   â”‚             if (notification) {\n
   â”‚                 notification.visible = false;\n
   â”‚                 setTimeout(() => {\n
   â”‚                     this.notifications = this.notifications.filter(n => n.id !== id);\n
   â”‚                 }, 300);\n
   â”‚             }\n
   â”‚         },\n
   â”‚ \n
   â”‚         formatTime(time) {\n
   â”‚             if (!time) return 'Just now';\n
   â”‚             const date = new Date(time);\n
   â”‚             const now = new Date();\n
   â”‚             const diff = Math.floor((now - date) / 1000);\n
   â”‚ \n
   â”‚             if (diff < 60) return 'Just now';\n
   â”‚             if (diff < 3600) return `${Math.floor(diff / 60)}m ago`;\n
   â”‚             if (diff < 86400) return `${Math.floor(diff / 3600)}h ago`;\n
   â”‚             return date.toLocaleDateString();\n
   â”‚         },\n
   â”‚ \n
   â”‚         playSound() {\n
   â”‚             const sound = document.getElementById('notificationSound');\n
   â”‚             if (sound) {\n
   â”‚                 sound.currentTime = 0;\n
   â”‚                 sound.play().catch(() => {}); // Ignore autoplay restrictions\n
   â”‚             }\n
   â”‚         },\n
   â”‚ \n
   â”‚         checkStoredNotifications() {\n
   â”‚             // Check sessionStorage for any queued notifications\n
   â”‚             const stored = sessionStorage.getItem('pendingNotifications');\n
   â”‚             if (stored) {\n
   â”‚                 try {\n
   â”‚                     const notifications = JSON.parse(stored);\n
   â”‚                     notifications.forEach(n => this.addNotification(n));\n
   â”‚                     sessionStorage.removeItem('pendingNotifications');\n
   â”‚                 } catch (e) {}\n
   â”‚             }\n
   â”‚         }\n
   â”‚     }\n
   â”‚ }\n
   â”‚ \n
   â”‚ // Helper to trigger notifications from anywhere\n
   â”‚ window.showNotification = function(type, title, message) {\n
   â”‚     window.dispatchEvent(new CustomEvent('show-notification', {\n
   â”‚         detail: { type, title, message, time: new Date().toISOString() }\n
   â”‚     }));\n
   â”‚ };\n
   â”‚ </script>\n
   â”‚ </body>\n
   â”‚ </html>' [UTF-8](length: 44451) contains "Muhammad Ali Unique Name" [ASCII](length: 24).
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:620
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:312
   â”‚
 âœ˜ It handles export with large dataset
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:333
   â”‚
 âœ” It maintains data integrity under concurrent updates
 âœ” It handles batch status transition under load
 âœ” It handles memory efficiently with large queries
 âœ˜ It handles duplicate check with large dataset
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:443
   â”‚
 âœ” Stress test rapid candidate creation
 âœ” Stress test rapid status transitions

Model Fillable (Tests\Unit\ModelFillable)
 âœ” Campus fillable only contains existing fields
 âœ” Trade fillable only contains existing fields
 âœ” Campus can be created with valid fields
 âœ” Trade can be created with valid fields

Notification Service (Tests\Unit\NotificationService)
 âœ” Notification types are defined
 âœ” Notification channels are defined
 âœ” Send document uploaded handles missing candidate
 âœ” Send training assigned returns proper structure
 âœ” Send certificate issued handles no certificate
 âœ” Send complaint registered with candidate
 âœ” Send complaint assigned to user
 âœ” Send visa process initiated
 âœ” Send visa stage completed
 âœ” Send briefing completed
 âœ” Send compliance achieved
 âœ” Send issue reported

Oep Policy (Tests\Unit\OepPolicy)
 âœ” Authorized roles can view any oep
 âœ” Unauthorized roles cannot view any oep
 âœ” Super admin can view any oep
 âœ” Project director can view any oep
 âœ” Viewer can view any oep
 âœ” Oep user can view their own oep
 âœ” Oep user cannot view other oep
 âœ” Campus admin can view oep with candidates in their campus
 âœ” Campus admin cannot view oep without candidates in their campus
 âœ” Campus admin without campus id cannot view oep
 âœ” Super admin can create oep
 âœ” Non super admin cannot create oep
 âœ” Super admin can update oep
 âœ” Non super admin cannot update oep
 âœ” Super admin can delete oep
 âœ” Non super admin cannot delete oep
 âœ” Super admin can toggle status
 âœ” Non super admin cannot toggle status
 âœ” Authorized roles can access api list
 âœ” Unauthorized roles cannot access api list

Registration Api (Tests\Feature\RegistrationApi)
 âœ” It uploads registration document
 âœ” It validates document type
 âœ” It accepts image documents
 âœ˜ It verifies document
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationApiTest.php:127
   â”‚
 âœ˜ It rejects document with reason
   â”‚
   â”‚ Expected response status code [200] but received 404.
   â”‚ Failed asserting that 404 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationApiTest.php:150
   â”‚
 âœ” It returns registration status
 âœ” It identifies missing requirements
 âœ” It starts training for eligible candidate
 âœ˜ It rejects training start without documents
   â”‚
   â”‚ Unable to find JSON fragment: 
   â”‚
   â”‚ [["message"]]
   â”‚
   â”‚ within
   â”‚
   â”‚ [{"message":"Cannot start training. Missing requirements.","missing_requirements":["Completed undertaking is required","Missing verified documents: cnic, education, photo","Next of Kin information is required"],"success":false}].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:143
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:858
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationApiTest.php:238
   â”‚
 âœ” It rejects training start without next of kin
 âœ” It rejects training start without undertaking
 âœ˜ It completes registration with valid documents
   â”‚
   â”‚ Expected response status code [200] but received 302.
   â”‚ Failed asserting that 302 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationApiTest.php:315
   â”‚
 âœ˜ It blocks completion with expired documents
   â”‚
   â”‚ Expected response status code [422] but received 302.
   â”‚ Failed asserting that 302 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationApiTest.php:344
   â”‚
 âœ˜ It blocks completion with pending documents
   â”‚
   â”‚ Expected response status code [422] but received 302.
   â”‚ Failed asserting that 302 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationApiTest.php:364
   â”‚

Registration Controller (Tests\Feature\RegistrationController)
 âœ” Admin can view registration list
 âœ” Campus admin sees only their campus candidates
 âœ˜ Admin can view candidate registration details
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Illuminate\Routing\Exceptions\UrlGenerationException: Missing required parameter for [Route: candidates.show] [URI: candidates/{candidate}] [Missing parameter: candidate]. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Exceptions/UrlGenerationException.php:35
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/RouteUrlGenerator.php(90): Illuminate\Routing\Exceptions\UrlGenerationException::forMissingParameters()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(544): Illuminate\Routing\RouteUrlGenerator->to()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(509): Illuminate\Routing\UrlGenerator->toRoute()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/storage/framework/views/6aa20566dd4adfcb10f89b78a66a836e.php(21): route()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php(84): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\RegistrationControllerTest->admin_can_view_candidate_registration_details()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #74 {main}
   â”‚
   â”‚ Next Spatie\LaravelIgnition\Exceptions\ViewException: Missing required parameter for [Route: candidates.show] [URI: candidates/{candidate}] [Missing parameter: candidate]. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Exceptions/UrlGenerationException.php:35
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/RouteUrlGenerator.php(90): Illuminate\Routing\Exceptions\UrlGenerationException::forMissingParameters()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(544): Illuminate\Routing\RouteUrlGenerator->to()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php(509): Illuminate\Routing\UrlGenerator->toRoute()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/resources/views/registration/show.blade.php(22): route()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php(84): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\RegistrationControllerTest->admin_can_view_candidate_registration_details()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #73 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #74 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Missing required parameter for [Route: candidates.show] [URI: candidates/{candidate}] [Missing parameter: candidate].
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:86
   â”‚
 âœ” Admin can upload document
 âœ” Document upload validates file type
 âœ” Document upload validates document type
 âœ” Document upload validates file size
 âœ˜ Admin can delete document
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:175
   â”‚
 âœ˜ Campus admin cannot delete other campus document
   â”‚
   â”‚ Expected response status code [403] but received 404.
   â”‚ Failed asserting that 404 is identical to 403.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:201
   â”‚
 âœ˜ Admin can save next of kin
   â”‚
   â”‚ Session is missing expected key [success].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:223
   â”‚
 âœ” Next of kin validates required fields
 âœ” Next of kin validates cnic format
 âœ” Admin can save undertaking
 âœ” Undertaking validates type
 âœ” Registration fails without required documents
 âœ” Registration fails without next of kin
 âœ” Registration fails without undertaking
 âœ˜ Registration succeeds with all requirements
   â”‚
   â”‚ Failed asserting that two strings are equal.
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚ -'http://oep.jaamiah.com/registration'
   â”‚ +'http://oep.jaamiah.com'
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:342
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:191
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:403
   â”‚
 âœ” Registration fails with expired documents
 âœ˜ Admin can verify document
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:461
   â”‚
 âœ˜ Regular user cannot verify document
   â”‚
   â”‚ Expected response status code [403] but received 404.
   â”‚ Failed asserting that 404 is identical to 403.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:479
   â”‚
 âœ˜ Admin can reject document
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:500
   â”‚
 âœ˜ Reject document requires reason
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:518
   â”‚
 âœ” Admin can view registration status
 âœ˜ Status returns json when requested
   â”‚
   â”‚ Failed asserting that an array has the key 'registration_status'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:298
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:547
   â”‚
 âœ˜ Admin can start training for registered candidate
   â”‚
   â”‚ Failed asserting that two strings are equal.
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚ -'http://oep.jaamiah.com/training'
   â”‚ +'http://oep.jaamiah.com'
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:342
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:191
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:574
   â”‚
 âœ” Start training fails for non registered candidate
 âœ˜ Start training validates batch exists
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:607
   â”‚
 âœ˜ Valid qr code shows verification result
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:626
   â”‚
 âœ˜ Invalid qr token returns error
   â”‚
   â”‚ The response is not a view.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1283
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1206
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:639
   â”‚
 âœ˜ Qr verification fails for nonexistent candidate
   â”‚
   â”‚ Expected response status code [404] but received 403.
   â”‚ Failed asserting that 403 is identical to 404.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RegistrationControllerTest.php:647
   â”‚
 âœ” Unauthenticated user cannot access registration

Registration Policies (Tests\Unit\RegistrationPolicies)
 âœ” Super admin can view any next of kin
 âœ” Campus admin can create next of kin
 âœ” Campus admin can view next of kin from their campus
 âœ” Campus admin cannot view next of kin from other campus
 âœ” Viewer cannot create next of kin
 âœ” Only super admin can delete next of kin
 âœ” Super admin can view any document
 âœ” Campus admin can upload documents
 âœ” Campus admin can view documents from their campus
 âœ” Viewer can download documents
 âœ” Only super admin and project director can verify documents
 âœ” Super admin can view any undertaking
 âœ” Campus admin can create undertaking
 âœ” Campus admin can view undertakings from their campus
 âœ” Only super admin can delete undertaking
 âœ” Viewer can download undertaking

Registration Service (Tests\Unit\RegistrationService)
 âœ” It returns required documents list
 âœ” It checks document completeness for candidate with no documents
 âœ” It checks document completeness for candidate with partial documents
 âœ” It checks document completeness for candidate with all required documents
 âœ” It marks incomplete if documents not verified
 âœ” It generates undertaking content
 âœ” It includes next of kin in undertaking
 âœ” It validates document file not found
 âœ” It validates document too small
 âœ” It validates document success
 âœ” It allocates oep for candidate
 âœ” It creates registration summary
 âœ” It handles missing next of kin in summary
 âœ” It handles missing undertaking in summary

Remittance Alert Api Controller (Tests\Feature\RemittanceAlertApiController)
 âœ˜ Api index returns paginated alerts
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:38
   â”‚
 âœ˜ Api index filters by status
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:71
   â”‚
 âœ˜ Api index filters by severity
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:89
   â”‚
 âœ˜ Api index filters by alert type
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:106
   â”‚
 âœ˜ Api show returns single alert
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:119
   â”‚
 âœ˜ Api show marks alert as read
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:138
   â”‚
 âœ” Api show returns 404 for nonexistent alert
 âœ˜ Api unread count returns correct number
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:167
   â”‚
 âœ˜ Api unread count filters by candidate
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:185
   â”‚
 âœ˜ Api statistics returns comprehensive stats
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:198
   â”‚
 âœ˜ Api by candidate returns candidate alerts
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:225
   â”‚
 âœ˜ Api mark as read updates alert
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:250
   â”‚
 âœ˜ Api resolve updates alert with notes
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:270
   â”‚
 âœ˜ Api resolve requires resolution notes
   â”‚
   â”‚ Expected response status code [422] but received 403.
   â”‚ Failed asserting that 403 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:289
   â”‚
 âœ˜ Api dismiss quickly resolves alert
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:302
   â”‚
 âœ” Api alerts require authentication
 âœ˜ Api index defaults to unresolved alerts
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:336
   â”‚
 âœ˜ Api index can show all alerts
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceAlertApiControllerTest.php:354
   â”‚

Remittance Alert Service (Tests\Unit\RemittanceAlertService)
 âœ” Generate missing remittance alerts creates alert for old departure
 âœ” Generate missing remittance alerts does not create duplicate
 âœ” Generate missing remittance alerts skips recent departures
 âœ” Generate missing proof alerts creates alert for old remittance
 âœ” Generate missing proof alerts skips remittances with proof
 âœ” Generate first remittance delay alerts creates alert
 âœ” Generate first remittance delay alerts skips candidates with remittances
 âœ” Generate low frequency alerts creates alert for infrequent remitters
 âœ” Generate low frequency alerts skips candidates with enough remittances
 âœ” Generate unusual amount alerts detects outliers
 âœ” Get unresolved alerts count returns correct count
 âœ” Get critical alerts count returns correct count
 âœ” Mark old alerts as read updates old alerts
 âœ” Auto resolve alerts resolves missing remittance alert
 âœ” Auto resolve alerts resolves missing proof alert
 âœ” Auto resolve alerts resolves first remittance delay alert
 âœ” Get alert statistics returns comprehensive stats
 âœ” Generate all alerts returns breakdown

Remittance Analytics Service (Tests\Unit\RemittanceAnalyticsService)
 âœ˜ Get dashboard stats returns comprehensive statistics
   â”‚
   â”‚ Failed asserting that 0 matches expected 5.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:53
   â”‚
 âœ˜ Get monthly trends returns data for all months
   â”‚
   â”‚ Failed asserting that 0 matches expected 1.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:93
   â”‚
 âœ˜ Get purpose analysis returns correct distribution
   â”‚
   â”‚ Failed asserting that an array is not empty.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:131
   â”‚
 âœ˜ Get transfer method analysis calculates percentages
   â”‚
   â”‚ Failed asserting that an array is not empty.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:169
   â”‚
 âœ˜ Get proof compliance report returns detailed breakdown
   â”‚
   â”‚ Failed asserting that 0 matches expected 10.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:214
   â”‚
 âœ˜ Get top remitting candidates returns ordered list
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: candidates.full_name (Connection: sqlite, SQL: select "candidates"."id", "candidates"."full_name", "candidates"."cnic", count(remittances.id) as remittance_count, sum(remittances.amount) as total_amount, avg(remittances.amount) as avg_amount from "remittances" inner join "candidates" on "remittances"."candidate_id" = "candidates"."id" where 0 = 1 and "remittances"."deleted_at" is null group by "candidates"."id", "candidates"."full_name", "candidates"."cnic" order by "total_amount" desc limit 5)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/RemittanceAnalyticsService.php:608
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:244
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 no such column: candidates.full_name
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/RemittanceAnalyticsService.php:608
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:244
   â”‚
 âœ˜ Get remittances by date range filters correctly
   â”‚
   â”‚ Failed asserting that actual size 0 matches expected size 3.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittanceAnalyticsServiceTest.php:276
   â”‚
 âœ” Dashboard stats handles empty database
 âœ” Monthly trends fills missing months with zeros

Remittance Api Controller (Tests\Feature\RemittanceApiController)
 âœ˜ Api index returns paginated remittances
   â”‚
   â”‚ Failed asserting that an array has the key 'candidate_id'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:295
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:39
   â”‚
 âœ˜ Api show returns single remittance
   â”‚
   â”‚ Unable to find JSON: 
   â”‚
   â”‚ [{
   â”‚     "id": 1,
   â”‚     "transaction_reference": "RMT-20260126-VX2477",
   â”‚     "amount": 21441.34
   â”‚ }]
   â”‚
   â”‚ within response JSON:
   â”‚
   â”‚ [{
   â”‚     "success": true,
   â”‚     "data": {
   â”‚         "id": 1,
   â”‚         "transaction_reference": "RMT-20260126-VX2477",
   â”‚         "transaction_type": "reimbursement",
   â”‚         "transaction_date": "2025-09-22",
   â”‚         "amount": "21441.34",
   â”‚         "currency": "PKR",
   â”‚         "exchange_rate": "70.6125",
   â”‚         "amount_in_pkr": "1514026.62",
   â”‚         "formatted_amount": "PKR 21,441.34",
   â”‚         "transfer_method": "cash",
   â”‚         "bank_name": "HBL",
   â”‚         "account_number": "0489-8141004-564",
   â”‚         "swift_code": null,
   â”‚         "iban": null,
   â”‚         "purpose": "Overtime payment",
   â”‚         "description": "Est perspiciatis enim deserunt dolorem unde et.",
   â”‚         "month_year": "2019-06",
   â”‚         "has_proof": false,
   â”‚         "proof_url": null,
   â”‚         "proof_document_type": null,
   â”‚         "proof_document_size": null,
   â”‚         "verification_status": "under_review",
   â”‚         "is_verified": false,
   â”‚         "is_pending": false,
   â”‚         "verified_at": null,
   â”‚         "verification_notes": null,
   â”‚         "rejection_reason": null,
   â”‚         "status": "failed",
   â”‚         "candidate": {
   â”‚             "id": 1,
   â”‚             "name": "Georgiana Rutherford",
   â”‚             "passport_number": null
   â”‚         },
   â”‚         "campus": {
   â”‚             "id": 1,
   â”‚             "name": "asperiores Campus"
   â”‚         },
   â”‚         "departure": {
   â”‚             "id": 1,
   â”‚             "departure_date": "2025-05-30"
   â”‚         },
   â”‚         "verified_by": {
   â”‚             "id": null,
   â”‚             "name": null
   â”‚         },
   â”‚         "recorded_by": {
   â”‚             "id": 1,
   â”‚             "name": "Joany D'Amore Sr."
   â”‚         },
   â”‚         "metadata": null,
   â”‚         "created_at": "2026-01-26 13:29:46",
   â”‚         "updated_at": "2026-01-26 13:29:46"
   â”‚     }
   â”‚ }].
   â”‚
   â”‚
   â”‚ Failed asserting that an array has the subset Array &0 [
   â”‚     'id' => 1,
   â”‚     'transaction_reference' => 'RMT-20260126-VX2477',
   â”‚     'amount' => 21441.34,
   â”‚ ].
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚      'created_at' => '2026-01-26 13:29:46',
   â”‚      'updated_at' => '2026-01-26 13:29:46',
   â”‚    ),
   â”‚ -  'id' => 1,
   â”‚ -  'transaction_reference' => 'RMT-20260126-VX2477',
   â”‚ -  'amount' => 21441.34,
   â”‚  )
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Constraints/ArraySubset.php:81
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Assert.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:318
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:767
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:69
   â”‚
 âœ˜ Api show returns 404 for nonexistent remittance
   â”‚
   â”‚ Unable to find JSON: 
   â”‚
   â”‚ [{
   â”‚     "error": "Remittance not found"
   â”‚ }]
   â”‚
   â”‚ within response JSON:
   â”‚
   â”‚ [{
   â”‚     "message": "No query results for model [App\\Models\\Remittance] 99999",
   â”‚     "exception": "Symfony\\Component\\HttpKernel\\Exception\\NotFoundHttpException",
   â”‚     "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php",
   â”‚     "line": 636,
   â”‚     "trace": [
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php",
   â”‚             "line": 584,
   â”‚             "function": "prepareException",
   â”‚             "class": "Illuminate\\Foundation\\Exceptions\\Handler",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php",
   â”‚             "line": 51,
   â”‚             "function": "render",
   â”‚             "class": "Illuminate\\Foundation\\Exceptions\\Handler",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 172,
   â”‚             "function": "handleException",
   â”‚             "class": "Illuminate\\Routing\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php",
   â”‚             "line": 51,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Routing\\Middleware\\SubstituteBindings",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php",
   â”‚             "line": 161,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php",
   â”‚             "line": 127,
   â”‚             "function": "handleRequest",
   â”‚             "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php",
   â”‚             "line": 89,
   â”‚             "function": "handleRequestUsingNamedLimiter",
   â”‚             "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php",
   â”‚             "line": 64,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Auth\\Middleware\\Authenticate",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 127,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
   â”‚             "line": 807,
   â”‚             "function": "then",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
   â”‚             "line": 786,
   â”‚             "function": "runRouteWithinStack",
   â”‚             "class": "Illuminate\\Routing\\Router",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
   â”‚             "line": 750,
   â”‚             "function": "runRoute",
   â”‚             "class": "Illuminate\\Routing\\Router",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
   â”‚             "line": 739,
   â”‚             "function": "dispatchToRoute",
   â”‚             "class": "Illuminate\\Routing\\Router",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
   â”‚             "line": 201,
   â”‚             "function": "dispatch",
   â”‚             "class": "Illuminate\\Routing\\Router",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 170,
   â”‚             "function": "Illuminate\\Foundation\\Http\\{closure}",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Kernel",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
   â”‚             "line": 21,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php",
   â”‚             "line": 31,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
   â”‚             "line": 21,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php",
   â”‚             "line": 51,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Middleware\\TrimStrings",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php",
   â”‚             "line": 27,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Http\\Middleware\\ValidatePostSize",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php",
   â”‚             "line": 110,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php",
   â”‚             "line": 62,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Http\\Middleware\\HandleCors",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php",
   â”‚             "line": 58,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Http\\Middleware\\TrustProxies",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php",
   â”‚             "line": 22,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 209,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
   â”‚             "line": 127,
   â”‚             "function": "Illuminate\\Pipeline\\{closure}",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
   â”‚             "line": 176,
   â”‚             "function": "then",
   â”‚             "class": "Illuminate\\Pipeline\\Pipeline",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
   â”‚             "line": 145,
   â”‚             "function": "sendRequestThroughRouter",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Kernel",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
   â”‚             "line": 607,
   â”‚             "function": "handle",
   â”‚             "class": "Illuminate\\Foundation\\Http\\Kernel",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
   â”‚             "line": 573,
   â”‚             "function": "call",
   â”‚             "class": "Illuminate\\Foundation\\Testing\\TestCase",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
   â”‚             "line": 381,
   â”‚             "function": "json",
   â”‚             "class": "Illuminate\\Foundation\\Testing\\TestCase",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php",
   â”‚             "line": 78,
   â”‚             "function": "getJson",
   â”‚             "class": "Illuminate\\Foundation\\Testing\\TestCase",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php",
   â”‚             "line": 1657,
   â”‚             "function": "test_api_show_returns_404_for_nonexistent_remittance",
   â”‚             "class": "Tests\\Feature\\RemittanceApiControllerTest",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php",
   â”‚             "line": 515,
   â”‚             "function": "runTest",
   â”‚             "class": "PHPUnit\\Framework\\TestCase",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php",
   â”‚             "line": 87,
   â”‚             "function": "runBare",
   â”‚             "class": "PHPUnit\\Framework\\TestCase",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php",
   â”‚             "line": 361,
   â”‚             "function": "run",
   â”‚             "class": "PHPUnit\\Framework\\TestRunner",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
   â”‚             "line": 369,
   â”‚             "function": "run",
   â”‚             "class": "PHPUnit\\Framework\\TestCase",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
   â”‚             "line": 369,
   â”‚             "function": "run",
   â”‚             "class": "PHPUnit\\Framework\\TestSuite",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
   â”‚             "line": 369,
   â”‚             "function": "run",
   â”‚             "class": "PHPUnit\\Framework\\TestSuite",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php",
   â”‚             "line": 64,
   â”‚             "function": "run",
   â”‚             "class": "PHPUnit\\Framework\\TestSuite",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php",
   â”‚             "line": 211,
   â”‚             "function": "run",
   â”‚             "class": "PHPUnit\\TextUI\\TestRunner",
   â”‚             "type": "->"
   â”‚         },
   â”‚         {
   â”‚             "file": "/home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit",
   â”‚             "line": 104,
   â”‚             "function": "run",
   â”‚             "class": "PHPUnit\\TextUI\\Application",
   â”‚             "type": "->"
   â”‚         }
   â”‚     ]
   â”‚ }].
   â”‚
   â”‚
   â”‚ Failed asserting that an array has the subset Array &0 [
   â”‚     'error' => 'Remittance not found',
   â”‚ ].
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚        'type' => '->',
   â”‚      ),
   â”‚    ),
   â”‚ -  'error' => 'Remittance not found',
   â”‚  )
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Constraints/ArraySubset.php:81
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Assert.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:318
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:767
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:81
   â”‚
 âœ˜ Api by candidate returns candidate remittances
   â”‚
   â”‚ Failed asserting that an array has the key 'candidate'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:96
   â”‚
 âœ˜ Api store creates new remittance
   â”‚
   â”‚ Expected response status code [201] but received 422.
   â”‚ Failed asserting that 422 is identical to 201.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "message": "The transaction type field is required. (and 2 more errors)",
   â”‚     "errors": {
   â”‚         "transaction_type": [
   â”‚             "The transaction type field is required."
   â”‚         ],
   â”‚         "transaction_date": [
   â”‚             "The transaction date field is required."
   â”‚         ],
   â”‚         "purpose": [
   â”‚             "The purpose field is required."
   â”‚         ]
   â”‚     }
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:131
   â”‚
 âœ˜ Api store validates required fields
   â”‚
   â”‚ Failed to find a validation error in the response for key: 'transfer_date'
   â”‚
   â”‚ Response has the following JSON validation errors:
   â”‚
   â”‚ {
   â”‚     "candidate_id": [
   â”‚         "The candidate id field is required."
   â”‚     ],
   â”‚     "transaction_type": [
   â”‚         "The transaction type field is required."
   â”‚     ],
   â”‚     "transaction_date": [
   â”‚         "The transaction date field is required."
   â”‚     ],
   â”‚     "amount": [
   â”‚         "The amount field is required."
   â”‚     ],
   â”‚     "currency": [
   â”‚         "The currency field is required."
   â”‚     ],
   â”‚     "purpose": [
   â”‚         "The purpose field is required."
   â”‚     ]
   â”‚ }
   â”‚
   â”‚ Failed asserting that an array has the key 'transfer_date'.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "message": "The candidate id field is required. (and 5 more errors)",
   â”‚     "errors": {
   â”‚         "candidate_id": [
   â”‚             "The candidate id field is required."
   â”‚         ],
   â”‚         "transaction_type": [
   â”‚             "The transaction type field is required."
   â”‚         ],
   â”‚         "transaction_date": [
   â”‚             "The transaction date field is required."
   â”‚         ],
   â”‚         "amount": [
   â”‚             "The amount field is required."
   â”‚         ],
   â”‚         "currency": [
   â”‚             "The currency field is required."
   â”‚         ],
   â”‚         "purpose": [
   â”‚             "The purpose field is required."
   â”‚         ]
   â”‚     }
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1034
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:967
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:157
   â”‚
 âœ˜ Api update modifies remittance
   â”‚
   â”‚ Expected response status code [200] but received 422.
   â”‚ Failed asserting that 422 is identical to 200.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "message": "The transaction date field is required. (and 2 more errors)",
   â”‚     "errors": {
   â”‚         "transaction_date": [
   â”‚             "The transaction date field is required."
   â”‚         ],
   â”‚         "currency": [
   â”‚             "The currency field is required."
   â”‚         ],
   â”‚         "purpose": [
   â”‚             "The purpose field is required."
   â”‚         ]
   â”‚     }
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:177
   â”‚
 âœ” Api destroy deletes remittance
 âœ˜ Api search finds remittances by transaction reference
   â”‚
   â”‚ Expected response status code [200] but received 422.
   â”‚ Failed asserting that 422 is identical to 200.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "message": "The q field is required.",
   â”‚     "errors": {
   â”‚         "q": [
   â”‚             "The q field is required."
   â”‚         ]
   â”‚     }
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:219
   â”‚
 âœ˜ Api search finds remittances by amount range
   â”‚
   â”‚ Expected response status code [200] but received 422.
   â”‚ Failed asserting that 422 is identical to 200.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ {
   â”‚     "message": "The q field is required.",
   â”‚     "errors": {
   â”‚         "q": [
   â”‚             "The q field is required."
   â”‚         ]
   â”‚     }
   â”‚ }
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:246
   â”‚
 âœ˜ Api statistics returns overview
   â”‚
   â”‚ Failed asserting that an array has the key 'total_remittances'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:263
   â”‚
 âœ˜ Api verify marks remittance as verified
   â”‚
   â”‚ Failed asserting that a row in the table [remittances] matches the attributes {
   â”‚     "id": 1,
   â”‚     "status": "verified",
   â”‚     "verified_by": 1
   â”‚ }.
   â”‚
   â”‚ Found similar results: [
   â”‚     {
   â”‚         "id": 1,
   â”‚         "status": "completed",
   â”‚         "verified_by": 1
   â”‚     }
   â”‚ ].
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithDatabase.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:291
   â”‚
 âœ˜ Api index supports filtering by candidate
   â”‚
   â”‚ Failed asserting that null is identical to 3.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:242
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:790
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:319
   â”‚
 âœ˜ Api index supports filtering by status
   â”‚
   â”‚ Failed asserting that null is identical to 2.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:242
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:790
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceApiControllerTest.php:342
   â”‚
 âœ” Api requires authentication

Remittance Controller (Tests\Feature\RemittanceController)
 âœ˜ Remittances index loads successfully
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:31
   â”‚
 âœ˜ Remittances create page loads
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:37
   â”‚
 âœ˜ Can create remittance
   â”‚
   â”‚ Failed asserting that a row in the table [remittances] matches the attributes {
   â”‚     "transaction_reference": "TXN123456789",
   â”‚     "amount": 50000,
   â”‚     "candidate_id": 1
   â”‚ }.
   â”‚
   â”‚ The table is empty.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithDatabase.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:66
   â”‚
 âœ˜ Can view remittance details
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:82
   â”‚
 âœ˜ Can edit remittance
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:94
   â”‚
 âœ˜ Can update remittance
   â”‚
   â”‚ Failed asserting that a row in the table [remittances] matches the attributes {
   â”‚     "id": 1,
   â”‚     "amount": 75000,
   â”‚     "notes": "Updated amount"
   â”‚ }.
   â”‚
   â”‚ Found similar results: [
   â”‚     {
   â”‚         "id": 1,
   â”‚         "amount": 50000,
   â”‚         "notes": null
   â”‚     }
   â”‚ ].
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithDatabase.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:124
   â”‚
 âœ˜ Can delete remittance
   â”‚
   â”‚ Failed asserting that any soft deleted row in the table [remittances] matches the attributes {"id":1}.
   â”‚
   â”‚ Found: [
   â”‚     {
   â”‚         "id": 1,
   â”‚         "candidate_id": 1,
   â”‚         "departure_id": 1,
   â”‚         "recorded_by": 1,
   â”‚         "transaction_reference": "RMT-20260126-BU8880",
   â”‚         "amount": 36008.9,
   â”‚         "currency": "PKR",
   â”‚         "amount_foreign": null,
   â”‚         "foreign_currency": null,
   â”‚         "exchange_rate": 291.1685,
   â”‚         "transfer_date": "2025-11-08 07:49:24",
   â”‚         "transfer_method": "cash",
   â”‚         "sender_name": "Ona Hintz",
   â”‚         "sender_location": null,
   â”‚         "receiver_name": "Christ Lesch",
   â”‚         "receiver_account": null,
   â”‚         "bank_name": "MCB",
   â”‚         "primary_purpose": "family_support",
   â”‚         "purpose_description": null,
   â”‚         "has_proof": 0,
   â”‚         "proof_verified_date": null,
   â”‚         "verified_by": null,
   â”‚         "status": "initiated",
   â”‚         "notes": null,
   â”‚         "alert_message": null,
   â”‚         "is_first_remittance": 0,
   â”‚         "month_number": null,
   â”‚         "year": 2025,
   â”‚         "month": 11,
   â”‚         "quarter": null,
   â”‚         "created_at": "2026-01-26 13:29:47",
   â”‚         "updated_at": "2026-01-26 13:29:47",
   â”‚         "deleted_at": null,
   â”‚         "beneficiary_id": null,
   â”‚         "campus_id": 1,
   â”‚         "transaction_type": "salary",
   â”‚         "transaction_date": "2025-11-08 07:49:24",
   â”‚         "amount_in_pkr": 10484657.39965,
   â”‚         "account_number": "7345-1201887-713",
   â”‚         "swift_code": null,
   â”‚         "iban": null,
   â”‚         "purpose": "Bonus payment",
   â”‚         "description": null,
   â”‚         "month_year": "2023-07",
   â”‚         "proof_document_path": null,
   â”‚         "proof_document_type": null,
   â”‚         "proof_document_size": null,
   â”‚         "verification_status": "under_review",
   â”‚         "verified_at": null,
   â”‚         "verification_notes": null,
   â”‚         "rejection_reason": null,
   â”‚         "metadata": null
   â”‚     }
   â”‚ ].
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithDatabase.php:122
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:141
   â”‚
 âœ˜ Can verify remittance
   â”‚
   â”‚ Failed asserting that a row in the table [remittances] matches the attributes {
   â”‚     "id": 1,
   â”‚     "status": "verified",
   â”‚     "verified_by": 1
   â”‚ }.
   â”‚
   â”‚ Found similar results: [
   â”‚     {
   â”‚         "id": 1,
   â”‚         "status": "pending",
   â”‚         "verified_by": null
   â”‚     }
   â”‚ ].
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithDatabase.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:155
   â”‚
 âœ˜ Transaction reference must be unique
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:187
   â”‚
 âœ˜ Amount must be positive
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:208
   â”‚
 âœ˜ Required fields validation
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:219
   â”‚
 âœ” Unauthenticated user cannot access remittances
 âœ˜ Can filter remittances by candidate
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:252
   â”‚
 âœ˜ Can filter remittances by status
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:273
   â”‚
 âœ˜ Can filter remittances by year
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceControllerTest.php:294
   â”‚

Remittance Policies (Tests\Unit\RemittancePolicies)
 âœ” Super admin can view any receipt
 âœ” Project director can view any receipt
 âœ” Oep can view receipts
 âœ˜ Oep can view receipt for assigned candidates
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-4536-skaq, receipts/8cac221c-6106-3ff5-bd75-e499f21152a6.pdf, 1983-05-25, 2026-01-26 13:29:20, 2026-01-26 13:29:20))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:68
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:68
   â”‚
 âœ˜ Oep cannot view receipt for other candidates
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-8252-cjhm, receipts/827fdc4a-eb76-3ab8-8884-36c772aac2ca.pdf, 1983-10-15, 2026-01-26 13:29:21, 2026-01-26 13:29:21))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:85
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:85
   â”‚
 âœ˜ Super admin and project director can update receipts
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-7322-gngk, receipts/aee7b0b9-dabb-3042-bd13-8710e71ff311.pdf, 1991-05-08, 2026-01-26 13:29:21, 2026-01-26 13:29:21))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:96
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:96
   â”‚
 âœ˜ Only super admin can delete receipts
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-5046-ytjd, receipts/a72c0d8b-6f12-3826-bc7d-44676bd97fb6.pdf, 2005-12-09, 2026-01-26 13:29:21, 2026-01-26 13:29:21))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:108
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:108
   â”‚
 âœ˜ User who can view receipt can download
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number (Connection: sqlite, SQL: insert into "remittance_receipts" ("remittance_id", "receipt_number", "file_path", "upload_date", "updated_at", "created_at") values (1, REC-4698-radq, receipts/60829b87-3851-3507-bdfe-8f470bc65346.pdf, 2007-12-28, 2026-01-26 13:29:21, 2026-01-26 13:29:21))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:119
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_receipts has no column named receipt_number
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:119
   â”‚
 âœ” Super admin can view any breakdown
 âœ” Oep can create breakdown
 âœ˜ Oep can view breakdown for assigned candidates
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category (Connection: sqlite, SQL: insert into "remittance_usage_breakdown" ("remittance_id", "category", "amount", "description", "updated_at", "created_at") values (1, other, 2187.11, Est quisquam ut voluptatum animi maxime non., 2026-01-26 13:29:21, 2026-01-26 13:29:21))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:161
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:161
   â”‚
 âœ˜ Super admin and project director can update breakdown
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category (Connection: sqlite, SQL: insert into "remittance_usage_breakdown" ("remittance_id", "category", "amount", "description", "updated_at", "created_at") values (1, business, 5416.17, Eveniet eum possimus omnis debitis molestias rerum eveniet soluta., 2026-01-26 13:29:21, 2026-01-26 13:29:21))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:172
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:172
   â”‚
 âœ˜ Only super admin can delete breakdown
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category (Connection: sqlite, SQL: insert into "remittance_usage_breakdown" ("remittance_id", "category", "amount", "description", "updated_at", "created_at") values (1, healthcare, 233, At inventore aperiam quidem qui., 2026-01-26 13:29:21, 2026-01-26 13:29:21))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:184
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table remittance_usage_breakdown has no column named category
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/RemittancePoliciesTest.php:184
   â”‚

Remittance Report Api Controller (Tests\Feature\RemittanceReportApiController)
 âœ˜ Api dashboard returns combined statistics
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:40
   â”‚
 âœ˜ Api monthly trends returns all months
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:68
   â”‚
 âœ˜ Api monthly trends defaults to current year
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:90
   â”‚
 âœ˜ Api purpose analysis returns distribution
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:115
   â”‚
 âœ˜ Api transfer methods returns analysis
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:146
   â”‚
 âœ˜ Api country analysis returns data
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:173
   â”‚
 âœ˜ Api proof compliance returns detailed report
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:207
   â”‚
 âœ˜ Api beneficiary report returns analysis
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:229
   â”‚
 âœ˜ Api impact analytics returns comprehensive data
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:252
   â”‚
 âœ˜ Api top candidates returns ordered list
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:289
   â”‚
 âœ˜ Api top candidates respects limit parameter
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:316
   â”‚
 âœ” Api reports require authentication
 âœ˜ Api dashboard handles empty database
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/RemittanceReportApiControllerTest.php:337
   â”‚

Reporting Service (Tests\Unit\ReportingService)
 âœ˜ It generates candidate pipeline report
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:47
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:47
   â”‚
 âœ˜ It filters pipeline report by campus
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:65
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:65
   â”‚
 âœ˜ It calculates conversion rates
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:83
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:83
   â”‚
 âœ” It generates training report
 âœ” It calculates batch statistics
 âœ” It calculates attendance summary
 âœ˜ It generates visa processing report
   â”‚
   â”‚ BadMethodCallException: Call to undefined method App\Models\Oep::visaProcesses()
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:1046
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php:120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:1045
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:800
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:889
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:676
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:587
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:559
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:180
   â”‚
 âœ˜ It calculates average processing time
   â”‚
   â”‚ BadMethodCallException: Call to undefined method App\Models\Oep::visaProcesses()
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:1046
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php:120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:1045
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:800
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/QueriesRelationships.php:889
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:676
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:587
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:559
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:201
   â”‚
 âœ” It generates compliance report
 âœ˜ It calculates departure compliance
   â”‚
   â”‚ Failed asserting that 0 matches expected 1.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:240
   â”‚
 âœ” It calculates remittance compliance
 âœ” It calculates complaint resolution
 âœ” It builds custom report for candidates
 âœ” It applies filters to custom report
 âœ” It throws exception for unknown report type
 âœ” It applies equals filter
 âœ” It applies contains filter
 âœ” It applies in filter
 âœ” It applies between filter
 âœ” It returns available filters for candidates
 âœ” It returns available filters for training
 âœ˜ It caches report results
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(created_at, "%Y-%m") as month, COUNT(*) as count from "candidates" where "created_at" between 2025-07-26 13:29:21 and 2026-01-26 13:29:21 and "candidates"."deleted_at" is null group by "month" order by "month" asc)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:443
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:407
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3106
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3091
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3676
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3090
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:811
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:793
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:322
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:233
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:427
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:217
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:443
   â”‚
 âœ˜ It can clear cache
   â”‚
   â”‚ BadMethodCallException: This cache store does not support tagging.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/Repository.php:592
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php:453
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:361
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/ReportingService.php:1062
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/ReportingServiceTest.php:458
   â”‚

Screening Api (Tests\Feature\ScreeningApi)
 âœ” It creates desk screening
 âœ” It validates desk screening status
 âœ” It creates call screening
 âœ” It updates existing call screening
 âœ” It enforces max call attempts
 âœ” It creates physical screening
 âœ” It returns screening progress
 âœ” It uploads screening evidence
 âœ” It rejects invalid file types for evidence
 âœ” It rejects oversized evidence files
 âœ” It auto progresses candidate when all screenings pass
 âœ” It rejects candidate on screening failure
 âœ” It requires authentication
 âœ” It returns 404 for invalid candidate

Screening Controller (Tests\Feature\ScreeningController)
 âœ” User can view screening index
 âœ” User can view create screening form
 âœ” User can create screening record
 âœ” User can view edit screening form
 âœ” User can update screening record
 âœ” Screening requires candidate id
 âœ” Screening requires valid outcome
 âœ” Call duration must be positive
 âœ” Edit redirects if no screening exists
 âœ” User can log call for candidate
 âœ” User can record screening outcome
 âœ” Failed screening updates candidate status to rejected
 âœ” Unauthenticated users cannot access screening

Screening Rest Api (Tests\Feature\ScreeningRestApi)
 âœ” It lists all screenings with authentication
 âœ” It requires authentication for screening list
 âœ” It filters screenings by campus for campus admin
 âœ” It shows specific screening
 âœ” It returns screenings by candidate
 âœ” It returns screening statistics
 âœ” It returns pending screenings
 âœ” It creates screening record
 âœ” It updates screening record
 âœ” It validates required fields on create
 âœ” It filters screenings by status
 âœ” It filters screenings by outcome
 âœ” It filters screenings by date range
 âœ” It supports pagination

Screening Service (Tests\Unit\ScreeningService)
 âœ” It generates undertaking content
 âœ” It parses call logs from remarks
 âœ” It returns empty logs when no remarks
 âœ” It generates screening report
 âœ” It filters report by date range
 âœ” It filters report by screening type
 âœ” It schedules call screening after desk
 âœ” It schedules physical screening after call
 âœ” It does not schedule after physical
 âœ” It returns ineligible for nonexistent candidate
 âœ” It returns eligible for desk screening
 âœ” It requires desk screening for call
 âœ” It allows call after desk passed
 âœ” It requires all prerequisites for physical
 âœ” It records call attempt
 âœ” It throws exception for invalid call number
 âœ” It progresses call stage on successful call
 âœ” It marks unreachable after max attempts
 âœ” It handles callback request
 âœ” It returns pending callbacks
 âœ” It returns call stage statistics
 âœ” It returns call success rates
 âœ” It returns pending appointments
 âœ” It returns todays appointments
 âœ” It returns response rate analytics
 âœ” It can bulk update call stage
 âœ” It returns candidates needing follow up

State Transition Edge Cases (Tests\Unit\StateTransitionEdgeCases)
 âœ˜ It blocks transition from new directly to training
   â”‚
   â”‚ ErrorException: Trying to access array offset on value of type bool
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:60
   â”‚
 âœ˜ It blocks transition from new directly to departed
   â”‚
   â”‚ ErrorException: Trying to access array offset on value of type bool
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:75
   â”‚
 âœ˜ It blocks transition from departed to any status
   â”‚
   â”‚ ErrorException: Trying to access array offset on value of type bool
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:91
   â”‚
 âœ˜ It blocks transition from rejected without reactivation
   â”‚
   â”‚ ErrorException: Trying to access array offset on value of type bool
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:106
   â”‚
 âœ˜ It blocks transition to visa process without training completion
   â”‚
   â”‚ Failed asserting that an array contains 'Training not completed'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:123
   â”‚
 âœ” It blocks transition to ready without visa issued
 âœ” It blocks transition to departed without briefing
 âœ” It handles concurrent status updates safely
 âœ” It prevents race condition in batch assignment
 âœ˜ It blocks registration with partial documents
   â”‚
   â”‚ BadMethodCallException: Call to undefined method App\Models\Candidate::hasCompleteDocuments()
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:242
   â”‚
 âœ” It blocks training completion with partial assessments
 âœ˜ It blocks visa process with partial stages
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 table visa_processes has no column named trade_test_passed (Connection: sqlite, SQL: insert into "visa_processes" ("candidate_id", "interview_date", "interview_status", "interview_completed", "interview_remarks", "trade_test_date", "trade_test_status", "trade_test_completed", "trade_test_remarks", "takamol_date", "takamol_status", "medical_date", "medical_status", "medical_completed", "enumber", "biometric_date", "etimad_appointment_id", "biometric_status", "biometric_completed", "visa_date", "visa_number", "visa_status", "visa_issued", "ptn_number", "ticket_uploaded", "ticket_date", "ticket_path", "travel_plan_path", "overall_status", "remarks", "trade_test_passed", "medical_passed", "updated_at", "created_at") values (1, ?, passed, 0, ?, ?, ?, 0, ?, ?, ?, 2026-01-09 20:36:06, pending, 0, E69642435, 2026-01-22 16:04:50, ETIMAD262244, ?, 0, 2026-01-17 13:57:23, ?, issued, 0, PTN14586208, 0, 2026-02-25 05:16:59, /tmp/faker6yWvgZ, ?, in_progress, Consequuntur cupiditate sit quis. Eos fuga molestias consequatur cupiditate veniam possimus odit. Repellat reiciendis eum rerum rerum quaerat et praesentium molestias. Ducimus labore mollitia debitis quia., 0, 0, 2026-01-26 13:29:22, 2026-01-26 13:29:22))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:271
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[HY000]: General error: 1 table visa_processes has no column named trade_test_passed
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:565
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:271
   â”‚
 âœ˜ It validates screening prerequisite chain
   â”‚
   â”‚ Failed asserting that true is false.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:299
   â”‚
 âœ˜ It validates visa stage prerequisite chain
   â”‚
   â”‚ BadMethodCallException: Call to undefined method App\Models\VisaProcess::canRecordMedical()
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:67
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:36
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:317
   â”‚
 âœ” It handles null status gracefully
 âœ” It handles invalid status value
 âœ” It blocks training certificate for failed training
 âœ” It blocks training certificate for withdrawn candidate
 âœ˜ It allows reactivation of dropped candidate with reason
   â”‚
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/StateTransitionEdgeCasesTest.php:411
   â”‚
 âœ” It blocks reactivation without reason

System Policies (Tests\Unit\SystemPolicies)
 âœ” Super admin can view system settings
 âœ” Only super admin can update system settings
 âœ” Only super admin can create system settings
 âœ” Only super admin can delete system settings
 âœ” Regular users cannot view system settings
 âœ” Super admin can view any visa partner
 âœ” Project director can view any visa partner
 âœ” Only super admin can create visa partner
 âœ” Super admin and project director can update visa partner
 âœ” Only super admin can delete visa partner
 âœ” Super admin can view any kpi
 âœ” Campus admin can view kpis from their campus
 âœ” Campus admin cannot view kpis from other campus
 âœ” Only super admin and project director can create kpis
 âœ” Only super admin can view password history
 âœ” Nobody can create password history directly
 âœ” Nobody can delete password history
 âœ” Super admin can view any usage log
 âœ˜ Campus admin can view usage logs from their campus
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: equipment_usage_logs.usage_type (Connection: sqlite, SQL: insert into "equipment_usage_logs" ("equipment_id", "user_id", "start_time", "end_time", "notes", "hours_used", "status", "updated_at", "created_at") values (1, 2, 2026-01-17 17:07:34, 2026-01-17 18:07:34, Voluptatum et aliquam vel repudiandae recusandae iusto eligendi quis. Ut tempora nam dolores aspernatur. Sit modi a voluptas nihil modi pariatur. Saepe omnis dolores repellendus ratione et dicta necessitatibus., 1, completed, 2026-01-26 13:29:23, 2026-01-26 13:29:23))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/SystemPoliciesTest.php:256
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: equipment_usage_logs.usage_type
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:297
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/SystemPoliciesTest.php:256
   â”‚
 âœ” Instructor can create usage log
 âœ˜ Only super admin can delete usage log
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: equipment_usage_logs.usage_type (Connection: sqlite, SQL: insert into "equipment_usage_logs" ("equipment_id", "user_id", "start_time", "end_time", "notes", "hours_used", "status", "updated_at", "created_at") values (1, 3, 2026-01-01 00:08:36, 2026-01-01 08:08:36, Voluptas rerum corrupti ullam et unde molestiae placeat totam. Debitis quia qui ut molestias. Nesciunt corrupti dolor eos a ab aut. Asperiores officiis qui est consequatur., 8, completed, 2026-01-26 13:29:23, 2026-01-26 13:29:23))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/SystemPoliciesTest.php:276
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: equipment_usage_logs.usage_type
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:352
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:261
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:347
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:303
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/SystemPoliciesTest.php:276
   â”‚

Trade Policy (Tests\Unit\TradePolicy)
 âœ” Authorized roles can view any trade
 âœ” Unauthorized roles cannot view any trade
 âœ” Authorized roles can view trade
 âœ” Super admin can create trade
 âœ” Non super admin cannot create trade
 âœ” Super admin can update trade
 âœ” Non super admin cannot update trade
 âœ” Super admin can delete trade
 âœ” Non super admin cannot delete trade
 âœ” Super admin can toggle status
 âœ” Non super admin cannot toggle status
 âœ” Authorized roles can access api list
 âœ” Unauthorized roles cannot access api list

Training Api (Tests\Feature\TrainingApi)
 âœ˜ It assigns candidates to batch
   â”‚
   â”‚ Failed asserting that an array has the key 'assigned'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:62
   â”‚
 âœ˜ It respects batch capacity
   â”‚
   â”‚ ErrorException: Undefined array key "assigned"
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:98
   â”‚
 âœ˜ It skips already assigned candidates
   â”‚
   â”‚ ErrorException: Undefined array key "assigned"
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:116
   â”‚
 âœ˜ It records attendance
   â”‚
   â”‚ Expected response status code [200] but received 403.
   â”‚ Failed asserting that 403 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:138
   â”‚
 âœ” It calculates attendance percentage
 âœ˜ It generates attendance report
   â”‚
   â”‚ Failed asserting that an array has the key 'summary'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:194
   â”‚
 âœ˜ It records assessment
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:220
   â”‚
 âœ˜ It calculates average score
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, practical, 70, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:238
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:238
   â”‚
 âœ˜ It validates passing all assessments
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, practical, 70, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:271
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:271
   â”‚
 âœ˜ It generates assessment report
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 73, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:304
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:304
   â”‚
 âœ˜ It issues certificate
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 75, pass, 2026-01-26 13:29:49, 2026-01-26 13:29:49))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:346
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:346
   â”‚
 âœ˜ It validates certificate requirements
   â”‚
   â”‚ ErrorException: Undefined array key "eligible"
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php:258
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:377
   â”‚
 âœ˜ It completes training
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 75, pass, 2026-01-26 13:29:50, 2026-01-26 13:29:50))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:513
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:386
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:513
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:386
   â”‚
 âœ˜ It rejects completion without attendance
   â”‚
   â”‚ Exception: Attendance (50%) is below required threshold (80%)
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/TrainingService.php:771
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:417
   â”‚
 âœ˜ It rejects completion without final assessment
   â”‚
   â”‚ Exception: Candidate has not passed final assessment
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/app/Services/TrainingService.php:783
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:445
   â”‚
 âœ˜ It returns batch performance
   â”‚
   â”‚ Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date (Connection: sqlite, SQL: insert into "training_assessments" ("candidate_id", "batch_id", "assessment_type", "score", "result", "updated_at", "created_at") values (1, 1, final, 90, pass, 2026-01-26 13:29:50, 2026-01-26 13:29:50))
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:471
   â”‚  
   â”‚ Caused by:
   â”‚ PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: training_assessments.assessment_date
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:571
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:560
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Connection.php:524
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/Processor.php:32
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/TrainingApiTest.php:471
   â”‚

Training Policies (Tests\Unit\TrainingPolicies)
 âœ” Super admin can view any assessment
 âœ” Campus admin can view assessments from their campus
 âœ” Instructor can create assessments
 âœ” Instructor can update their own assessments
 âœ” Instructor cannot update other instructors assessments
 âœ” Only super admin can delete assessments
 âœ” Super admin can view any attendance
 âœ” Instructor can record attendance
 âœ” Instructor can bulk record attendance
 âœ” Campus admin can view attendance from their campus
 âœ” Viewer cannot create attendance
 âœ” Super admin can issue certificates
 âœ” Campus admin can issue certificates
 âœ” Only super admin can revoke certificates
 âœ” Viewer can download certificates
 âœ” Super admin can create schedules
 âœ” Campus admin can create schedules
 âœ” Instructor can view schedules
 âœ” Instructor cannot create schedules
 âœ” Only super admin can delete schedules

Training Service (Tests\Unit\TrainingService)
 âœ” It can start batch training
 âœ” Starting batch training is transactional
 âœ” It can record attendance
 âœ” It can record bulk attendance
 âœ” It calculates attendance statistics
 âœ” Low attendance marks candidate at risk
 âœ” It can record assessment
 âœ” Failed assessment marks candidate at risk
 âœ” Passed final assessment updates status to completed
 âœ” It generates certificate for eligible candidate
 âœ” It rejects certificate for low attendance
 âœ” It rejects certificate without final assessment
 âœ” It rejects certificate for failed final assessment
 âœ” It rejects certificate for at risk candidate
 âœ” It calculates batch statistics
 âœ” It returns at risk candidates
 âœ” At risk candidates include attendance data

User Controller (Tests\Feature\UserController)
 âœ˜ Admin can view users list
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.index] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:34
   â”‚
 âœ˜ Admin can view create user form
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.create] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:46
   â”‚
 âœ˜ Admin can create new user
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.store] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:68
   â”‚
 âœ˜ Admin can view user details
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.show] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:85
   â”‚
 âœ˜ Admin can update user
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.update] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:99
   â”‚
 âœ˜ Admin can delete user
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.destroy] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:119
   â”‚
 âœ” Admin can view settings page
 âœ˜ Admin can update settings
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [settings.save] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:142
   â”‚
 âœ˜ Admin can view audit logs
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [dashboard.index] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/6dc38cf60226b08df417e6706527c837.php(8): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php(156): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\UserControllerTest->admin_can_view_audit_logs()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #73 {main}
   â”‚
   â”‚ Next Spatie\LaravelIgnition\Exceptions\ViewException: Route [dashboard.index] not defined. in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(853): Illuminate\Routing\UrlGenerator->route()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/resources/views/admin/audit-logs.blade.php(9): route()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php(156): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\UserControllerTest->admin_can_view_audit_logs()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #73 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Route [dashboard.index] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:158
   â”‚
 âœ˜ Email must be unique
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.store] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:171
   â”‚
 âœ˜ Password must be at least 8 characters
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.store] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:186
   â”‚
 âœ˜ Oep id can be assigned to user
   â”‚
   â”‚ Symfony\Component\Routing\Exception\RouteNotFoundException: Route [users.store] not defined.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:517
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php:853
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/UserControllerTest.php:209
   â”‚

User Policy (Tests\Unit\UserPolicy)
 âœ” Super admin can view any user
 âœ” Project director can view any user
 âœ” Campus admin cannot view any user
 âœ” Other roles cannot view any user
 âœ” User can view their own profile
 âœ” Super admin can view any user profile
 âœ” Project director can view any user profile
 âœ” User cannot view other users profile
 âœ” Super admin can create user
 âœ” Non super admin cannot create user
 âœ” User can update their own profile
 âœ” Super admin can update any user
 âœ” User cannot update other users profile
 âœ” Project director cannot update other users
 âœ” Super admin can delete other users
 âœ” Super admin cannot delete themselves
 âœ” Non admin cannot delete users
 âœ” Super admin can toggle other users status
 âœ” Super admin cannot toggle their own status
 âœ” Non admin cannot toggle status
 âœ” Super admin can reset other users password
 âœ” Super admin cannot reset their own password
 âœ” Non admin cannot reset passwords
 âœ” Super admin can manage settings
 âœ” Non super admin cannot manage settings
 âœ” Super admin can view audit logs
 âœ” Project director can view audit logs
 âœ” Other roles cannot view audit logs
 âœ” Authorized roles can use global search
 âœ” Unauthorized roles cannot use global search
 âœ” Inactive super admin still has permissions

Validation Api (Tests\Feature\ValidationApi)
 âœ˜ It validates valid cnic format
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:40
   â”‚
 âœ˜ It rejects invalid cnic length
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:54
   â”‚
 âœ˜ It handles cnic with dashes
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:66
   â”‚
 âœ˜ It rejects non numeric cnic
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:78
   â”‚
 âœ˜ It validates pakistan phone 03xx format
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:92
   â”‚
 âœ˜ It validates pakistan phone with plus92
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:104
   â”‚
 âœ˜ It validates pakistan phone with 92
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:116
   â”‚
 âœ˜ It validates phone with dashes
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:128
   â”‚
 âœ˜ It rejects invalid phone format
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:140
   â”‚
 âœ˜ It rejects non pakistan phone
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:152
   â”‚
 âœ˜ It detects duplicate by phone
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:171
   â”‚
 âœ˜ It detects duplicate by email
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:189
   â”‚
 âœ˜ It detects duplicate by similar name
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:207
   â”‚
 âœ˜ It excludes specified candidate from duplicates
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:226
   â”‚
 âœ˜ It returns empty when no duplicates
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:239
   â”‚
 âœ˜ It requires authentication for validation apis
   â”‚
   â”‚ Expected response status code [401] but received 405.
   â”‚ Failed asserting that 405 is identical to 401.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:121
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:251
   â”‚
 âœ˜ It handles multiple duplicate types
   â”‚
   â”‚ Expected response status code [200] but received 405.
   â”‚ Failed asserting that 405 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/Concerns/AssertsStatusCodes.php:16
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/ValidationApiTest.php:268
   â”‚

Visa Process Api Controller (Tests\Feature\VisaProcessApiController)
 âœ˜ It returns paginated visa processes
   â”‚
   â”‚ TypeError: PHPUnit\Framework\Assert::assertArrayHasKey(): Argument #2 ($array) must be of type ArrayAccess|array, int given, called in /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php on line 302
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:295
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessApiControllerTest.php:42
   â”‚
 âœ˜ It filters by overall status
   â”‚
   â”‚ Failed asserting that actual size 13 matches expected size 3.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessApiControllerTest.php:70
   â”‚
 âœ˜ It filters by status
   â”‚
   â”‚ Failed asserting that actual size 13 matches expected size 5.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessApiControllerTest.php:93
   â”‚
 âœ” It returns single visa process
 âœ” It returns 404 for nonexistent visa process
 âœ” It returns visa process by candidate
 âœ˜ It returns 404 for candidate without visa process
   â”‚
   â”‚ Expected response status code [404] but received 200.
   â”‚ Failed asserting that 200 is identical to 404.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessApiControllerTest.php:150
   â”‚
 âœ” It creates a visa process
 âœ” It validates required fields
 âœ” It prevents duplicate visa process
 âœ” It updates visa process
 âœ˜ It validates stage prerequisites
   â”‚
   â”‚ Expected response status code [422] but received 200.
   â”‚ Failed asserting that 200 is identical to 422.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessApiControllerTest.php:238
   â”‚
 âœ” It allows progression when prerequisites met
 âœ˜ It returns visa statistics
   â”‚
   â”‚ Failed asserting that an array has the key 'by_stage'.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:302
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:277
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/AssertableJsonString.php:300
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:912
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessApiControllerTest.php:278
   â”‚
 âœ” Unauthenticated user cannot access visa processes

Visa Processing Controller (Tests\Feature\VisaProcessingController)
 âœ” Super admin can view visa processing list
 âœ” Campus admin only sees their campus candidates
 âœ” Index filters by stage
 âœ” Admin can create visa process for eligible candidate
 âœ” Create validates candidate exists
 âœ˜ Admin can view visa process details
   â”‚
   â”‚ Expected response status code [200] but received 302.
   â”‚ Failed asserting that 302 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:141
   â”‚
 âœ” Show redirects if no visa process
 âœ˜ Admin can update interview status
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:174
   â”‚
 âœ˜ Interview update validates required fields
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:187
   â”‚
 âœ˜ Interview status must be valid value
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:202
   â”‚
 âœ˜ Admin can update trade test
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:221
   â”‚
 âœ˜ Medical update requires takamol passed
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:245
   â”‚
 âœ˜ Medical update succeeds when prerequisites met
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:264
   â”‚
 âœ˜ Biometric requires medical cleared
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:287
   â”‚
 âœ˜ Enumber requires biometrics completed
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:309
   â”‚
 âœ˜ Enumber validates format
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:328
   â”‚
 âœ˜ Admin can update visa issuance
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:348
   â”‚
 âœ˜ Visa number is required for issuance
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:365
   â”‚
 âœ˜ Admin can upload travel plan
   â”‚
   â”‚ Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:185
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:385
   â”‚
 âœ˜ Travel plan validates file type
   â”‚
   â”‚ Session is missing expected key [errors].
   â”‚ Failed asserting that false is true.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1443
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:1520
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:402
   â”‚
 âœ˜ Admin can complete visa process
   â”‚
   â”‚ Failed asserting that two strings are equal.
   â”‚
   â”‚ The following errors occurred during the last request:
   â”‚
   â”‚ Interview must be passed (current: scheduled)
   â”‚ Medical examination must be cleared as "fit" (current: completed)
   â”‚ E-Number must be generated and verified (current: not set)
   â”‚
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚ -'http://oep.jaamiah.com/visa-processing'
   â”‚ +'http://oep.jaamiah.com'
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:342
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:191
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:421
   â”‚
 âœ˜ Admin can delete visa process
   â”‚
   â”‚ Failed asserting that two strings are equal.
   â”‚ --- Expected
   â”‚ +++ Actual
   â”‚ @@ @@
   â”‚ -'http://oep.jaamiah.com/visa-processing'
   â”‚ +'http://oep.jaamiah.com'
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:342
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:191
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:441
   â”‚
 âœ˜ Admin can view visa timeline
   â”‚
   â”‚ Expected response status code [200] but received 500.
   â”‚ Failed asserting that 500 is identical to 200.
   â”‚
   â”‚ The following exception occurred during the last request:
   â”‚
   â”‚ ErrorException: Undefined variable $visaProcessing in /home/iihsedup/oep.jaamiah.com/storage/framework/views/8da27f580a7240e1bea8d1916f36c591.php:6
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php(258): Illuminate\Foundation\Bootstrap\HandleExceptions->handleError()
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/storage/framework/views/8da27f580a7240e1bea8d1916f36c591.php(6): Illuminate\Foundation\Bootstrap\HandleExceptions->Illuminate\Foundation\Bootstrap\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php(459): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VisaProcessingControllerTest->admin_can_view_visa_timeline()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #71 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #72 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #73 {main}
   â”‚
   â”‚ Next Spatie\LaravelIgnition\Exceptions\ViewException: Undefined variable $visaProcessing in /home/iihsedup/oep.jaamiah.com/resources/views/visa-processing/timeline.blade.php:7
   â”‚ Stack trace:
   â”‚ #0 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(123): require('/home/iihsedup/...')
   â”‚ #1 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Filesystem/Filesystem.php(124): Illuminate\Filesystem\Filesystem::Illuminate\Filesystem\{closure}()
   â”‚ #2 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(58): Illuminate\Filesystem\Filesystem->getRequire()
   â”‚ #3 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(75): Illuminate\View\Engines\PhpEngine->evaluatePath()
   â”‚ #4 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(209): Illuminate\View\Engines\CompilerEngine->get()
   â”‚ #5 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(192): Illuminate\View\View->getContents()
   â”‚ #6 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/View.php(161): Illuminate\View\View->renderContents()
   â”‚ #7 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(79): Illuminate\View\View->render()
   â”‚ #8 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(35): Illuminate\Http\Response->setContent()
   â”‚ #9 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(920): Illuminate\Http\Response->__construct()
   â”‚ #10 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(887): Illuminate\Routing\Router::toResponse()
   â”‚ #11 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Routing\Router->prepareResponse()
   â”‚ #12 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
   â”‚ #13 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/RoleMiddleware.php(71): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #14 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
   â”‚ #15 /home/iihsedup/oep.jaamiah.com/app/Http/Middleware/CheckUserActive.php(57): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #16 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\CheckUserActive->handle()
   â”‚ #17 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #18 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
   â”‚ #19 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(64): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #20 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
   â”‚ #21 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #22 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
   â”‚ #23 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #24 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
   â”‚ #25 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #26 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
   â”‚ #27 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
   â”‚ #28 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #29 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
   â”‚ #30 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #31 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
   â”‚ #32 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #33 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
   â”‚ #34 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
   â”‚ #35 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
   â”‚ #36 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
   â”‚ #37 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
   â”‚ #38 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
   â”‚ #39 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #40 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #41 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
   â”‚ #42 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #43 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
   â”‚ #44 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
   â”‚ #45 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #46 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
   â”‚ #47 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #48 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
   â”‚ #49 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #50 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
   â”‚ #51 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #52 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
   â”‚ #53 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #54 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
   â”‚ #55 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
   â”‚ #56 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
   â”‚ #57 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
   â”‚ #58 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
   â”‚ #59 /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call()
   â”‚ #60 /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php(459): Illuminate\Foundation\Testing\TestCase->get()
   â”‚ #61 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VisaProcessingControllerTest->admin_can_view_visa_timeline()
   â”‚ #62 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
   â”‚ #63 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
   â”‚ #64 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
   â”‚ #65 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
   â”‚ #66 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #67 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
   â”‚ #68 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
   â”‚ #69 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
   â”‚ #70 /home/iihsedup/oep.jaamiah.com/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
   â”‚ #71 {main}
   â”‚
   â”‚ ----------------------------------------------------------------------------------
   â”‚
   â”‚ Undefined variable $visaProcessing
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:461
   â”‚
 âœ” Timeline redirects if no visa process
 âœ˜ Admin can view overdue processes
   â”‚
   â”‚ Expected response status code [200] but received 302.
   â”‚ Failed asserting that 302 is identical to 200.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponseAssert.php:45
   â”‚ /home/iihsedup/oep.jaamiah.com/vendor/laravel/framework/src/Illuminate/Testing/TestResponse.php:160
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Feature/VisaProcessingControllerTest.php:488
   â”‚
 âœ” Admin can generate visa report
 âœ” Unauthenticated user cannot access visa processing
 âœ” Regular user cannot access visa processing

Visa Processing Service (Tests\Unit\VisaProcessingService)
 âœ” It returns all visa processing stages
 âœ” It generates unique enumber
 âœ” It increments enumber sequence
 âœ” It handles missing oep for enumber
 âœ” It generates unique ptn number
 âœ” It increments ptn sequence
 âœ” It schedules interview for candidate
 âœ” It updates existing interview schedule
 âœ” It throws exception for invalid candidate
 âœ” It records passed interview status
 âœ” It records failed interview status
 âœ” It schedules takamol test
 âœ” It uploads takamol status and moves to next stage
 âœ” It does not advance on failed takamol
 âœ” It schedules gamca medical
 âœ” It uploads gamca certificate and advances
 âœ” It does not advance on unfit medical
 âœ” It schedules etimad biometrics
 âœ” It generates etimad id if not provided
 âœ” It records biometrics completion
 âœ” It records visa submission
 âœ” It records ptn issuance
 âœ” It uses provided ptn number
 âœ” It uploads travel plan and completes process
 âœ” It calculates visa processing timeline
 âœ” It returns visa processing statistics
 âœ” It filters statistics by date range
 âœ” It filters statistics by oep
 âœ” It returns pending medical biometric candidates
 âœ” It returns expiring documents
 âœ” It creates new visa process
 âœ” It updates visa process
 âœ” It updates interview stage
 âœ” It updates trade test stage
 âœ” It updates takamol stage
 âœ” It updates medical stage
 âœ” It updates biometric stage
 âœ” It updates visa issuance
 âœ” It uploads ticket
 âœ” It returns visa process timeline
 âœ” It returns overdue processes
 âœ” It completes visa process
 âœ” It deletes visa process
 âœ” It generates visa processing report
 âœ” It generates report without campus filter

WASLv3Enums (Tests\Unit\WASLv3Enums)
 âœ” Placement interest enum has correct values
 âœ” Training type enum has correct values
 âœ” Training progress enum has correct values
 âœ” Assessment type enum has correct values
 âœ” Ptn status enum has correct values
 âœ” Protector status enum has correct values
 âœ” Flight type enum has correct values
 âœ” Departure status enum has correct values
 âœ” Visa application status enum has correct values
 âœ” Visa issued status enum has correct values
 âœ” Visa stage result enum has correct values
 âœ” Evidence type enum has correct values
 âœ” Updated screening status enum has correct values
 âœ˜ Candidate status enum has 17 statuses
   â”‚
   â”‚ Failed asserting that actual size 18 matches expected size 17.
   â”‚
   â”‚ /home/iihsedup/oep.jaamiah.com/tests/Unit/WASLv3EnumsTest.php:181
   â”‚
 âœ” Candidate status has active statuses
 âœ” Candidate status has terminal statuses
 âœ” Enums can be used in match expressions
 âœ” Enums can be compared directly
 âœ” Enums provide all cases method
 âœ” Enums can be serialized to value
 âœ” Enums can be created from value
 âœ” Enums try from returns null for invalid value
 âœ” All enums are backed by strings

There were 3 risky tests:

1) Tests\Unit\DataValidationEdgeCasesTest::it_sanitizes_xss_in_text_fields
This test did not perform any assertions

/home/iihsedup/oep.jaamiah.com/tests/Unit/DataValidationEdgeCasesTest.php:457

2) Tests\Feature\CandidateManagementTest::test_candidates_list_loads
Test code or tested code did not close its own output buffers

/home/iihsedup/oep.jaamiah.com/tests/Feature/CandidateManagementTest.php:24

3) Tests\Feature\LoadTest::it_handles_search_with_large_dataset
Test code or tested code did not close its own output buffers

/home/iihsedup/oep.jaamiah.com/tests/Feature/LoadTest.php:291

ERRORS!
Tests: 1324, Assertions: 2852, Errors: 65, Failures: 263, PHPUnit Deprecations: 1, Risky: 3.
